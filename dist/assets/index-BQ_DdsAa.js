function wA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function TA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qf={exports:{}},Dl={},Xf={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function EA(){if(T_)return Oe;T_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,j={};function b(U,ee,ve){this.props=U,this.context=ee,this.refs=j,this.updater=ve||P}b.prototype.isReactComponent={},b.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function L(){}L.prototype=b.prototype;function K(U,ee,ve){this.props=U,this.context=ee,this.refs=j,this.updater=ve||P}var H=K.prototype=new L;H.constructor=K,M(H,b.prototype),H.isPureReactComponent=!0;var Z=Array.isArray,re=Object.prototype.hasOwnProperty,X={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(U,ee,ve){var _e,Ne={},De=null,Ie=null;if(ee!=null)for(_e in ee.ref!==void 0&&(Ie=ee.ref),ee.key!==void 0&&(De=""+ee.key),ee)re.call(ee,_e)&&!R.hasOwnProperty(_e)&&(Ne[_e]=ee[_e]);var je=arguments.length-2;if(je===1)Ne.children=ve;else if(1<je){for(var qe=Array(je),_t=0;_t<je;_t++)qe[_t]=arguments[_t+2];Ne.children=qe}if(U&&U.defaultProps)for(_e in je=U.defaultProps,je)Ne[_e]===void 0&&(Ne[_e]=je[_e]);return{$$typeof:n,type:U,key:De,ref:Ie,props:Ne,_owner:X.current}}function A(U,ee){return{$$typeof:n,type:U.type,key:ee,ref:U.ref,props:U.props,_owner:U._owner}}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ve){return ee[ve]})}var F=/\/+/g;function C(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):ee.toString(36)}function Ve(U,ee,ve,_e,Ne){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Ie=!1;if(U===null)Ie=!0;else switch(De){case"string":case"number":Ie=!0;break;case"object":switch(U.$$typeof){case n:case e:Ie=!0}}if(Ie)return Ie=U,Ne=Ne(Ie),U=_e===""?"."+C(Ie,0):_e,Z(Ne)?(ve="",U!=null&&(ve=U.replace(F,"$&/")+"/"),Ve(Ne,ee,ve,"",function(_t){return _t})):Ne!=null&&(N(Ne)&&(Ne=A(Ne,ve+(!Ne.key||Ie&&Ie.key===Ne.key?"":(""+Ne.key).replace(F,"$&/")+"/")+U)),ee.push(Ne)),1;if(Ie=0,_e=_e===""?".":_e+":",Z(U))for(var je=0;je<U.length;je++){De=U[je];var qe=_e+C(De,je);Ie+=Ve(De,ee,ve,qe,Ne)}else if(qe=E(U),typeof qe=="function")for(U=qe.call(U),je=0;!(De=U.next()).done;)De=De.value,qe=_e+C(De,je++),Ie+=Ve(De,ee,ve,qe,Ne);else if(De==="object")throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Qe(U,ee,ve){if(U==null)return U;var _e=[],Ne=0;return Ve(U,_e,"","",function(De){return ee.call(ve,De,Ne++)}),_e}function ze(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(ve){(U._status===0||U._status===-1)&&(U._status=1,U._result=ve)},function(ve){(U._status===0||U._status===-1)&&(U._status=2,U._result=ve)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var xe={current:null},Q={transition:null},de={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:X};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Qe,forEach:function(U,ee,ve){Qe(U,function(){ee.apply(this,arguments)},ve)},count:function(U){var ee=0;return Qe(U,function(){ee++}),ee},toArray:function(U){return Qe(U,function(ee){return ee})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Oe.Component=b,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=K,Oe.StrictMode=r,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Oe.act=ae,Oe.cloneElement=function(U,ee,ve){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var _e=M({},U.props),Ne=U.key,De=U.ref,Ie=U._owner;if(ee!=null){if(ee.ref!==void 0&&(De=ee.ref,Ie=X.current),ee.key!==void 0&&(Ne=""+ee.key),U.type&&U.type.defaultProps)var je=U.type.defaultProps;for(qe in ee)re.call(ee,qe)&&!R.hasOwnProperty(qe)&&(_e[qe]=ee[qe]===void 0&&je!==void 0?je[qe]:ee[qe])}var qe=arguments.length-2;if(qe===1)_e.children=ve;else if(1<qe){je=Array(qe);for(var _t=0;_t<qe;_t++)je[_t]=arguments[_t+2];_e.children=je}return{$$typeof:n,type:U.type,key:Ne,ref:De,props:_e,_owner:Ie}},Oe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Oe.createElement=I,Oe.createFactory=function(U){var ee=I.bind(null,U);return ee.type=U,ee},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:d,render:U}},Oe.isValidElement=N,Oe.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:ze}},Oe.memo=function(U,ee){return{$$typeof:p,type:U,compare:ee===void 0?null:ee}},Oe.startTransition=function(U){var ee=Q.transition;Q.transition={};try{U()}finally{Q.transition=ee}},Oe.unstable_act=ae,Oe.useCallback=function(U,ee){return xe.current.useCallback(U,ee)},Oe.useContext=function(U){return xe.current.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U){return xe.current.useDeferredValue(U)},Oe.useEffect=function(U,ee){return xe.current.useEffect(U,ee)},Oe.useId=function(){return xe.current.useId()},Oe.useImperativeHandle=function(U,ee,ve){return xe.current.useImperativeHandle(U,ee,ve)},Oe.useInsertionEffect=function(U,ee){return xe.current.useInsertionEffect(U,ee)},Oe.useLayoutEffect=function(U,ee){return xe.current.useLayoutEffect(U,ee)},Oe.useMemo=function(U,ee){return xe.current.useMemo(U,ee)},Oe.useReducer=function(U,ee,ve){return xe.current.useReducer(U,ee,ve)},Oe.useRef=function(U){return xe.current.useRef(U)},Oe.useState=function(U){return xe.current.useState(U)},Oe.useSyncExternalStore=function(U,ee,ve){return xe.current.useSyncExternalStore(U,ee,ve)},Oe.useTransition=function(){return xe.current.useTransition()},Oe.version="18.3.1",Oe}var E_;function Dm(){return E_||(E_=1,Xf.exports=EA()),Xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function xA(){if(x_)return Dl;x_=1;var n=Dm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,_={},E=null,P=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(P=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:d,key:E,ref:P,props:_,_owner:o.current}}return Dl.Fragment=t,Dl.jsx=u,Dl.jsxs=u,Dl}var I_;function IA(){return I_||(I_=1,Qf.exports=xA()),Qf.exports}var T=IA(),Xc={},Yf={exports:{}},dn={},Jf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function SA(){return S_||(S_=1,(function(n){function e(Q,de){var ae=Q.length;Q.push(de);e:for(;0<ae;){var U=ae-1>>>1,ee=Q[U];if(0<o(ee,de))Q[U]=de,Q[ae]=ee,ae=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var de=Q[0],ae=Q.pop();if(ae!==de){Q[0]=ae;e:for(var U=0,ee=Q.length,ve=ee>>>1;U<ve;){var _e=2*(U+1)-1,Ne=Q[_e],De=_e+1,Ie=Q[De];if(0>o(Ne,ae))De<ee&&0>o(Ie,Ne)?(Q[U]=Ie,Q[De]=ae,U=De):(Q[U]=Ne,Q[_e]=ae,U=_e);else if(De<ee&&0>o(Ie,ae))Q[U]=Ie,Q[De]=ae,U=De;else break e}}return de}function o(Q,de){var ae=Q.sortIndex-de.sortIndex;return ae!==0?ae:Q.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,_=null,E=3,P=!1,M=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(Q){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=Q)r(p),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(p)}}function Z(Q){if(j=!1,H(Q),!M)if(t(f)!==null)M=!0,ze(re);else{var de=t(p);de!==null&&xe(Z,de.startTime-Q)}}function re(Q,de){M=!1,j&&(j=!1,L(I),I=-1),P=!0;var ae=E;try{for(H(de),_=t(f);_!==null&&(!(_.expirationTime>de)||Q&&!V());){var U=_.callback;if(typeof U=="function"){_.callback=null,E=_.priorityLevel;var ee=U(_.expirationTime<=de);de=n.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(f)&&r(f),H(de)}else r(f);_=t(f)}if(_!==null)var ve=!0;else{var _e=t(p);_e!==null&&xe(Z,_e.startTime-de),ve=!1}return ve}finally{_=null,E=ae,P=!1}}var X=!1,R=null,I=-1,A=5,N=-1;function V(){return!(n.unstable_now()-N<A)}function F(){if(R!==null){var Q=n.unstable_now();N=Q;var de=!0;try{de=R(!0,Q)}finally{de?C():(X=!1,R=null)}}else X=!1}var C;if(typeof K=="function")C=function(){K(F)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Qe=Ve.port2;Ve.port1.onmessage=F,C=function(){Qe.postMessage(null)}}else C=function(){b(F,0)};function ze(Q){R=Q,X||(X=!0,C())}function xe(Q,de){I=b(function(){Q(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){M||P||(M=!0,ze(re))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var ae=E;E=de;try{return Q()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,de){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=E;E=Q;try{return de()}finally{E=ae}},n.unstable_scheduleCallback=function(Q,de,ae){var U=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,Q={id:g++,callback:de,priorityLevel:Q,startTime:ae,expirationTime:ee,sortIndex:-1},ae>U?(Q.sortIndex=ae,e(p,Q),t(f)===null&&Q===t(p)&&(j?(L(I),I=-1):j=!0,xe(Z,ae-U))):(Q.sortIndex=ee,e(f,Q),M||P||(M=!0,ze(re))),Q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Q){var de=E;return function(){var ae=E;E=de;try{return Q.apply(this,arguments)}finally{E=ae}}}})(Zf)),Zf}var A_;function AA(){return A_||(A_=1,Jf.exports=SA()),Jf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function PA(){if(P_)return dn;P_=1;var n=Dm(),e=AA();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function P(s,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function M(s,i,l,h){if(i===null||typeof i>"u"||P(s,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(s,i,l,h,m,y,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];b[i]=new j(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function K(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(L,K);b[i]=new j(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(L,K);b[i]=new j(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(L,K);b[i]=new j(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function H(s,i,l,h){var m=b.hasOwnProperty(i)?b[i]:null;(m!==null?m.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(M(i,l,m,h)&&(l=null),h||m===null?E(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(i=m.attributeName,h=m.attributeNamespace,l===null?s.removeAttribute(i):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?s.setAttributeNS(h,i,l):s.setAttribute(i,l))))}var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),X=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,U;function ee(s){if(U===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+s}var ve=!1;function _e(s,i){if(!s||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var h=q}Reflect.construct(s,[],i)}else{try{i.call()}catch(q){h=q}s.call(i.prototype)}else{try{throw Error()}catch(q){h=q}s()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),y=h.stack.split(`
`),x=m.length-1,k=y.length-1;1<=x&&0<=k&&m[x]!==y[k];)k--;for(;1<=x&&0<=k;x--,k--)if(m[x]!==y[k]){if(x!==1||k!==1)do if(x--,k--,0>k||m[x]!==y[k]){var D=`
`+m[x].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=x&&0<=k);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?ee(s):""}function Ne(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case X:return"Portal";case A:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case Ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case F:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Qe:return i=s.displayName||null,i!==null?i:De(s.type)||"Memo";case ze:i=s._payload,s=s._init;try{return De(s(i))}catch{}}return null}function Ie(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function je(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qe(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _t(s){var i=qe(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(x){h=""+x,y.call(this,x)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function tr(s){s._valueTracker||(s._valueTracker=_t(s))}function nr(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=qe(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function ds(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function po(s,i){var l=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Mu(s,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=je(i.value!=null?i.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function mo(s,i){i=i.checked,i!=null&&H(s,"checked",i,!1)}function yi(s,i){mo(s,i);var l=je(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?wt(s,i.type,l):i.hasOwnProperty("defaultValue")&&wt(s,i.type,je(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Ba(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function wt(s,i,l){(i!=="number"||ds(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var pt=Array.isArray;function Fn(s,i,l,h){if(s=s.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=i.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&h&&(s[l].defaultSelected=!0)}else{for(l=""+je(l),i=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function za(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function $a(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(pt(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:je(l)}}function Ou(s,i){var l=je(i.value),h=je(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function fs(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Wa(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Wa(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ps,Lu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,m){MSApp.execUnsafeLocalFunction(function(){return s(i,l,h,m)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ps.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function vi(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ju=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(s){ju.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ms[i]=ms[s]})});function gs(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ms.hasOwnProperty(s)&&ms[s]?(""+i).trim():i+"px"}function yo(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=gs(l,i[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,m):s[l]=m}}var Ha=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(s,i){if(i){if(Ha[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function vo(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=null;function _o(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Or=null,Lr=null,ht=null;function qa(s){if(s=_l(s)){if(typeof Or!="function")throw Error(t(280));var i=s.stateNode;i&&(i=hc(i),Or(s.stateNode,s.type,i))}}function vs(s){Lr?ht?ht.push(s):ht=[s]:Lr=s}function _s(){if(Lr){var s=Lr,i=ht;if(ht=Lr=null,qa(s),i)for(s=0;s<i.length;s++)qa(i[s])}}function Fu(s,i){return s(i)}function Uu(){}var rr=!1;function Bu(s,i,l){if(rr)return s(i,l);rr=!0;try{return Fu(s,i,l)}finally{rr=!1,(Lr!==null||ht!==null)&&(Uu(),_s())}}function _i(s,i){var l=s.stateNode;if(l===null)return null;var h=hc(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var ws=!1;if(d)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){ws=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{ws=!1}function zu(s,i,l,h,m,y,x,k,D){var q=Array.prototype.slice.call(arguments,3);try{i.apply(l,q)}catch(ne){this.onError(ne)}}var jr=!1,sr=null,wo=!1,Pn=null,$u={onError:function(s){jr=!0,sr=s}};function Wu(s,i,l,h,m,y,x,k,D){jr=!1,sr=null,zu.apply($u,arguments)}function Ga(s,i,l,h,m,y,x,k,D){if(Wu.apply(this,arguments),jr){if(jr){var q=sr;jr=!1,sr=null}else throw Error(t(198));wo||(wo=!0,Pn=q)}}function Bn(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Ka(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Hu(s){if(Bn(s)!==s)throw Error(t(188))}function qu(s){var i=s.alternate;if(!i){if(i=Bn(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,h=i;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Hu(m),s;if(y===h)return Hu(m),i;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var x=!1,k=m.child;k;){if(k===l){x=!0,l=m,h=y;break}if(k===h){x=!0,h=m,l=y;break}k=k.sibling}if(!x){for(k=y.child;k;){if(k===l){x=!0,l=y,h=m;break}if(k===h){x=!0,h=y,l=m;break}k=k.sibling}if(!x)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function Gu(s){return s=qu(s),s!==null?wi(s):null}function wi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=wi(s);if(i!==null)return i;s=s.sibling}return null}var Qa=e.unstable_scheduleCallback,To=e.unstable_cancelCallback,Ti=e.unstable_shouldYield,Fr=e.unstable_requestPaint,tt=e.unstable_now,Sd=e.unstable_getCurrentPriorityLevel,Eo=e.unstable_ImmediatePriority,Xa=e.unstable_UserBlockingPriority,Ei=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,xo=e.unstable_IdlePriority,xi=null,gn=null;function Ku(s){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(xi,s,void 0,(s.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Ii,ir=Math.log,Cn=Math.LN2;function Ii(s){return s>>>=0,s===0?32:31-(ir(s)/Cn|0)|0}var or=64,Es=4194304;function Ke(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ur(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,x=l&268435455;if(x!==0){var k=x&~m;k!==0?h=Ke(k):(y&=x,y!==0&&(h=Ke(y)))}else x=l&~m,x!==0?h=Ke(x):y!==0&&(h=Ke(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&m)===0&&(m=h&-h,y=i&-i,m>=y||m===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)l=31-yn(i),m=1<<l,h|=s[l],i&=~m;return h}function Si(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ai(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var x=31-yn(y),k=1<<x,D=m[x];D===-1?((k&l)===0||(k&h)!==0)&&(m[x]=Si(k,i)):D<=i&&(s.expiredLanes|=k),y&=~k}}function Ja(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Za(){var s=or;return or<<=1,(or&4194240)===0&&(or=64),s}function el(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Pi(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-yn(i),s[i]=l}function Ad(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-yn(l),y=1<<m;i[m]=0,h[m]=-1,s[m]=-1,l&=~y}}function tl(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-yn(l),m=1<<h;m&i|s[h]&i&&(s[h]|=i),l&=~m}}var $e=0;function ar(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var nl,Io,rl,sl,il,lr=!1,So=[],ur=null,cr=null,jt=null,Ci=new Map,Br=new Map,vn=[],Qu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xs(s,i){switch(s){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Ci.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(i.pointerId)}}function zn(s,i,l,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},i!==null&&(i=_l(i),i!==null&&Io(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function Xu(s,i,l,h,m){switch(i){case"focusin":return ur=zn(ur,s,i,l,h,m),!0;case"dragenter":return cr=zn(cr,s,i,l,h,m),!0;case"mouseover":return jt=zn(jt,s,i,l,h,m),!0;case"pointerover":var y=m.pointerId;return Ci.set(y,zn(Ci.get(y)||null,s,i,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Br.set(y,zn(Br.get(y)||null,s,i,l,h,m)),!0}return!1}function Ao(s){var i=Ni(s.target);if(i!==null){var l=Bn(i);if(l!==null){if(i=l.tag,i===13){if(i=Ka(l),i!==null){s.blockedOn=i,il(s.priority,function(){rl(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Je(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Po(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);ys=h,l.target.dispatchEvent(h),ys=null}else return i=_l(l),i!==null&&Io(i),s.blockedOn=l,!1;i.shift()}return!0}function Yu(s,i,l){Je(s)&&l.delete(i)}function Pd(){lr=!1,ur!==null&&Je(ur)&&(ur=null),cr!==null&&Je(cr)&&(cr=null),jt!==null&&Je(jt)&&(jt=null),Ci.forEach(Yu),Br.forEach(Yu)}function Is(s,i){s.blockedOn===i&&(s.blockedOn=null,lr||(lr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pd)))}function Ss(s){function i(m){return Is(m,s)}if(0<So.length){Is(So[0],s);for(var l=1;l<So.length;l++){var h=So[l];h.blockedOn===s&&(h.blockedOn=null)}}for(ur!==null&&Is(ur,s),cr!==null&&Is(cr,s),jt!==null&&Is(jt,s),Ci.forEach(i),Br.forEach(i),l=0;l<vn.length;l++)h=vn[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<vn.length&&(l=vn[0],l.blockedOn===null);)Ao(l),l.blockedOn===null&&vn.shift()}var zr=Z.ReactCurrentBatchConfig,$r=!0;function hr(s,i,l,h){var m=$e,y=zr.transition;zr.transition=null;try{$e=1,ol(s,i,l,h)}finally{$e=m,zr.transition=y}}function Ju(s,i,l,h){var m=$e,y=zr.transition;zr.transition=null;try{$e=4,ol(s,i,l,h)}finally{$e=m,zr.transition=y}}function ol(s,i,l,h){if($r){var m=Po(s,i,l,h);if(m===null)jd(s,i,h,dr,l),xs(s,h);else if(Xu(m,s,i,l,h))h.stopPropagation();else if(xs(s,h),i&4&&-1<Qu.indexOf(s)){for(;m!==null;){var y=_l(m);if(y!==null&&nl(y),y=Po(s,i,l,h),y===null&&jd(s,i,h,dr,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else jd(s,i,h,null,l)}}var dr=null;function Po(s,i,l,h){if(dr=null,s=_o(h),s=Ni(s),s!==null)if(i=Bn(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Ka(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return dr=s,null}function Co(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sd()){case Eo:return 1;case Xa:return 4;case Ei:case Ya:return 16;case xo:return 536870912;default:return 16}default:return 16}}var _n=null,ko=null,Wr=null;function Zu(){if(Wr)return Wr;var s,i=ko,l=i.length,h,m="value"in _n?_n.value:_n.textContent,y=m.length;for(s=0;s<l&&i[s]===m[s];s++);var x=l-s;for(h=1;h<=x&&i[l-h]===m[y-h];h++);return Wr=m.slice(s,1<h?1-h:void 0)}function ki(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function fr(){return!0}function al(){return!1}function Gt(s){function i(l,h,m,y,x){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?fr:al,this.isPropagationStopped=al,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),i}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Gt(pr),As=ae({},pr,{view:0,detail:0}),Ro=Gt(As),bo,No,wn,bi=ae({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Re,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wn&&(wn&&s.type==="mousemove"?(bo=s.screenX-wn.screenX,No=s.screenY-wn.screenY):No=bo=0,wn=s),bo)},movementY:function(s){return"movementY"in s?s.movementY:No}}),ll=Gt(bi),ec=ae({},bi,{dataTransfer:0}),tc=Gt(ec),Vo=ae({},As,{relatedTarget:0}),Ft=Gt(Vo),nc=ae({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=Gt(nc),Ps=ae({},pr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Gt(Ps),v=ae({},pr,{data:0}),w=Gt(v),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=G[s])?!!i[s]:!1}function Re(){return oe}var mt=ae({},As,{key:function(s){if(s.key){var i=S[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=ki(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?z[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Re,charCode:function(s){return s.type==="keypress"?ki(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ki(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ye=Gt(mt),Tt=ae({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tn=Gt(Tt),Hr=ae({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Re}),mr=Gt(Hr),gr=ae({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Do=Gt(gr),ul=ae({},bi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),p1=Gt(ul),m1=[9,13,27,32],Cd=d&&"CompositionEvent"in window,cl=null;d&&"documentMode"in document&&(cl=document.documentMode);var g1=d&&"TextEvent"in window&&!cl,fy=d&&(!Cd||cl&&8<cl&&11>=cl),py=" ",my=!1;function gy(s,i){switch(s){case"keyup":return m1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Mo=!1;function y1(s,i){switch(s){case"compositionend":return yy(i);case"keypress":return i.which!==32?null:(my=!0,py);case"textInput":return s=i.data,s===py&&my?null:s;default:return null}}function v1(s,i){if(Mo)return s==="compositionend"||!Cd&&gy(s,i)?(s=Zu(),Wr=ko=_n=null,Mo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return fy&&i.locale!=="ko"?null:i.data;default:return null}}var _1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!_1[s.type]:i==="textarea"}function _y(s,i,l,h){vs(h),i=lc(i,"onChange"),0<i.length&&(l=new Ri("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var hl=null,dl=null;function w1(s){Ly(s,0)}function sc(s){var i=Uo(s);if(nr(i))return s}function T1(s,i){if(s==="change")return i}var wy=!1;if(d){var kd;if(d){var Rd="oninput"in document;if(!Rd){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),Rd=typeof Ty.oninput=="function"}kd=Rd}else kd=!1;wy=kd&&(!document.documentMode||9<document.documentMode)}function Ey(){hl&&(hl.detachEvent("onpropertychange",xy),dl=hl=null)}function xy(s){if(s.propertyName==="value"&&sc(dl)){var i=[];_y(i,dl,s,_o(s)),Bu(w1,i)}}function E1(s,i,l){s==="focusin"?(Ey(),hl=i,dl=l,hl.attachEvent("onpropertychange",xy)):s==="focusout"&&Ey()}function x1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return sc(dl)}function I1(s,i){if(s==="click")return sc(i)}function S1(s,i){if(s==="input"||s==="change")return sc(i)}function A1(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var $n=typeof Object.is=="function"?Object.is:A1;function fl(s,i){if($n(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(i,m)||!$n(s[m],i[m]))return!1}return!0}function Iy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Sy(s,i){var l=Iy(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Iy(l)}}function Ay(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Ay(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Py(){for(var s=window,i=ds();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=ds(s.document)}return i}function bd(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function P1(s){var i=Py(),l=s.focusedElem,h=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Ay(l.ownerDocument.documentElement,l)){if(h!==null&&bd(l)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=Sy(l,y);var x=Sy(l,h);m&&x&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(i),s.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var C1=d&&"documentMode"in document&&11>=document.documentMode,Oo=null,Nd=null,pl=null,Vd=!1;function Cy(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vd||Oo==null||Oo!==ds(h)||(h=Oo,"selectionStart"in h&&bd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),pl&&fl(pl,h)||(pl=h,h=lc(Nd,"onSelect"),0<h.length&&(i=new Ri("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=Oo)))}function ic(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Lo={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},Dd={},ky={};d&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function oc(s){if(Dd[s])return Dd[s];if(!Lo[s])return s;var i=Lo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in ky)return Dd[s]=i[l];return s}var Ry=oc("animationend"),by=oc("animationiteration"),Ny=oc("animationstart"),Vy=oc("transitionend"),Dy=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(s,i){Dy.set(s,i),a(i,[s])}for(var Md=0;Md<My.length;Md++){var Od=My[Md],k1=Od.toLowerCase(),R1=Od[0].toUpperCase()+Od.slice(1);Cs(k1,"on"+R1)}Cs(Ry,"onAnimationEnd"),Cs(by,"onAnimationIteration"),Cs(Ny,"onAnimationStart"),Cs("dblclick","onDoubleClick"),Cs("focusin","onFocus"),Cs("focusout","onBlur"),Cs(Vy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function Oy(s,i,l){var h=s.type||"unknown-event";s.currentTarget=l,Ga(h,i,void 0,s),s.currentTarget=null}function Ly(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],m=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var x=h.length-1;0<=x;x--){var k=h[x],D=k.instance,q=k.currentTarget;if(k=k.listener,D!==y&&m.isPropagationStopped())break e;Oy(m,k,q),y=D}else for(x=0;x<h.length;x++){if(k=h[x],D=k.instance,q=k.currentTarget,k=k.listener,D!==y&&m.isPropagationStopped())break e;Oy(m,k,q),y=D}}}if(wo)throw s=Pn,wo=!1,Pn=null,s}function nt(s,i){var l=i[Wd];l===void 0&&(l=i[Wd]=new Set);var h=s+"__bubble";l.has(h)||(jy(i,s,2,!1),l.add(h))}function Ld(s,i,l){var h=0;i&&(h|=4),jy(l,s,h,i)}var ac="_reactListening"+Math.random().toString(36).slice(2);function gl(s){if(!s[ac]){s[ac]=!0,r.forEach(function(l){l!=="selectionchange"&&(b1.has(l)||Ld(l,!1,s),Ld(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[ac]||(i[ac]=!0,Ld("selectionchange",!1,i))}}function jy(s,i,l,h){switch(Co(i)){case 1:var m=hr;break;case 4:m=Ju;break;default:m=ol}l=m.bind(null,i,l,s),m=void 0,!ws||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(i,l,{capture:!0,passive:m}):s.addEventListener(i,l,!0):m!==void 0?s.addEventListener(i,l,{passive:m}):s.addEventListener(i,l,!1)}function jd(s,i,l,h,m){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var k=h.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(x===4)for(x=h.return;x!==null;){var D=x.tag;if((D===3||D===4)&&(D=x.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;x=x.return}for(;k!==null;){if(x=Ni(k),x===null)return;if(D=x.tag,D===5||D===6){h=y=x;continue e}k=k.parentNode}}h=h.return}Bu(function(){var q=y,ne=_o(l),se=[];e:{var te=Dy.get(s);if(te!==void 0){var ue=Ri,fe=s;switch(s){case"keypress":if(ki(l)===0)break e;case"keydown":case"keyup":ue=Ye;break;case"focusin":fe="focus",ue=Ft;break;case"focusout":fe="blur",ue=Ft;break;case"beforeblur":case"afterblur":ue=Ft;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=mr;break;case Ry:case by:case Ny:ue=rc;break;case Vy:ue=Do;break;case"scroll":ue=Ro;break;case"wheel":ue=p1;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Tn}var ge=(i&4)!==0,gt=!ge&&s==="scroll",B=ge?te!==null?te+"Capture":null:te;ge=[];for(var O=q,W;O!==null;){W=O;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,B!==null&&(ie=_i(O,B),ie!=null&&ge.push(yl(O,ie,W)))),gt)break;O=O.return}0<ge.length&&(te=new ue(te,fe,null,l,ne),se.push({event:te,listeners:ge}))}}if((i&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",te&&l!==ys&&(fe=l.relatedTarget||l.fromElement)&&(Ni(fe)||fe[qr]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(fe=l.relatedTarget||l.toElement,ue=q,fe=fe?Ni(fe):null,fe!==null&&(gt=Bn(fe),fe!==gt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=q),ue!==fe)){if(ge=ll,ie="onMouseLeave",B="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(ge=Tn,ie="onPointerLeave",B="onPointerEnter",O="pointer"),gt=ue==null?te:Uo(ue),W=fe==null?te:Uo(fe),te=new ge(ie,O+"leave",ue,l,ne),te.target=gt,te.relatedTarget=W,ie=null,Ni(ne)===q&&(ge=new ge(B,O+"enter",fe,l,ne),ge.target=W,ge.relatedTarget=gt,ie=ge),gt=ie,ue&&fe)t:{for(ge=ue,B=fe,O=0,W=ge;W;W=jo(W))O++;for(W=0,ie=B;ie;ie=jo(ie))W++;for(;0<O-W;)ge=jo(ge),O--;for(;0<W-O;)B=jo(B),W--;for(;O--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=jo(ge),B=jo(B)}ge=null}else ge=null;ue!==null&&Fy(se,te,ue,ge,!1),fe!==null&&gt!==null&&Fy(se,gt,fe,ge,!0)}}e:{if(te=q?Uo(q):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var ye=T1;else if(vy(te))if(wy)ye=S1;else{ye=x1;var Te=E1}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=I1);if(ye&&(ye=ye(s,q))){_y(se,ye,l,ne);break e}Te&&Te(s,te,q),s==="focusout"&&(Te=te._wrapperState)&&Te.controlled&&te.type==="number"&&wt(te,"number",te.value)}switch(Te=q?Uo(q):window,s){case"focusin":(vy(Te)||Te.contentEditable==="true")&&(Oo=Te,Nd=q,pl=null);break;case"focusout":pl=Nd=Oo=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,Cy(se,l,ne);break;case"selectionchange":if(C1)break;case"keydown":case"keyup":Cy(se,l,ne)}var Ee;if(Cd)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Mo?gy(s,l)&&(Pe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(fy&&l.locale!=="ko"&&(Mo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Mo&&(Ee=Zu()):(_n=ne,ko="value"in _n?_n.value:_n.textContent,Mo=!0)),Te=lc(q,Pe),0<Te.length&&(Pe=new w(Pe,s,null,l,ne),se.push({event:Pe,listeners:Te}),Ee?Pe.data=Ee:(Ee=yy(l),Ee!==null&&(Pe.data=Ee)))),(Ee=g1?y1(s,l):v1(s,l))&&(q=lc(q,"onBeforeInput"),0<q.length&&(ne=new w("onBeforeInput","beforeinput",null,l,ne),se.push({event:ne,listeners:q}),ne.data=Ee))}Ly(se,i)})}function yl(s,i,l){return{instance:s,listener:i,currentTarget:l}}function lc(s,i){for(var l=i+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=_i(s,l),y!=null&&h.unshift(yl(s,y,m)),y=_i(s,i),y!=null&&h.push(yl(s,y,m))),s=s.return}return h}function jo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Fy(s,i,l,h,m){for(var y=i._reactName,x=[];l!==null&&l!==h;){var k=l,D=k.alternate,q=k.stateNode;if(D!==null&&D===h)break;k.tag===5&&q!==null&&(k=q,m?(D=_i(l,y),D!=null&&x.unshift(yl(l,D,k))):m||(D=_i(l,y),D!=null&&x.push(yl(l,D,k)))),l=l.return}x.length!==0&&s.push({event:i,listeners:x})}var N1=/\r\n?/g,V1=/\u0000|\uFFFD/g;function Uy(s){return(typeof s=="string"?s:""+s).replace(N1,`
`).replace(V1,"")}function uc(s,i,l){if(i=Uy(i),Uy(s)!==i&&l)throw Error(t(425))}function cc(){}var Fd=null,Ud=null;function Bd(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,D1=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,M1=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(s){return By.resolve(null).then(s).catch(O1)}:zd;function O1(s){setTimeout(function(){throw s})}function $d(s,i){var l=i,h=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){s.removeChild(m),Ss(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Ss(i)}function ks(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function zy(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),yr="__reactFiber$"+Fo,vl="__reactProps$"+Fo,qr="__reactContainer$"+Fo,Wd="__reactEvents$"+Fo,L1="__reactListeners$"+Fo,j1="__reactHandles$"+Fo;function Ni(s){var i=s[yr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[qr]||l[yr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=zy(s);s!==null;){if(l=s[yr])return l;s=zy(s)}return i}s=l,l=s.parentNode}return null}function _l(s){return s=s[yr]||s[qr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Uo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function hc(s){return s[vl]||null}var Hd=[],Bo=-1;function Rs(s){return{current:s}}function rt(s){0>Bo||(s.current=Hd[Bo],Hd[Bo]=null,Bo--)}function Ze(s,i){Bo++,Hd[Bo]=s.current,s.current=i}var bs={},Kt=Rs(bs),an=Rs(!1),Vi=bs;function zo(s,i){var l=s.type.contextTypes;if(!l)return bs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=i[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function ln(s){return s=s.childContextTypes,s!=null}function dc(){rt(an),rt(Kt)}function $y(s,i,l){if(Kt.current!==bs)throw Error(t(168));Ze(Kt,i),Ze(an,l)}function Wy(s,i,l){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in i))throw Error(t(108,Ie(s)||"Unknown",m));return ae({},l,h)}function fc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||bs,Vi=Kt.current,Ze(Kt,s),Ze(an,an.current),!0}function Hy(s,i,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=Wy(s,i,Vi),h.__reactInternalMemoizedMergedChildContext=s,rt(an),rt(Kt),Ze(Kt,s)):rt(an),Ze(an,l)}var Gr=null,pc=!1,qd=!1;function qy(s){Gr===null?Gr=[s]:Gr.push(s)}function F1(s){pc=!0,qy(s)}function Ns(){if(!qd&&Gr!==null){qd=!0;var s=0,i=$e;try{var l=Gr;for($e=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Gr=null,pc=!1}catch(m){throw Gr!==null&&(Gr=Gr.slice(s+1)),Qa(Eo,Ns),m}finally{$e=i,qd=!1}}return null}var $o=[],Wo=0,mc=null,gc=0,kn=[],Rn=0,Di=null,Kr=1,Qr="";function Mi(s,i){$o[Wo++]=gc,$o[Wo++]=mc,mc=s,gc=i}function Gy(s,i,l){kn[Rn++]=Kr,kn[Rn++]=Qr,kn[Rn++]=Di,Di=s;var h=Kr;s=Qr;var m=32-yn(h)-1;h&=~(1<<m),l+=1;var y=32-yn(i)+m;if(30<y){var x=m-m%5;y=(h&(1<<x)-1).toString(32),h>>=x,m-=x,Kr=1<<32-yn(i)+m|l<<m|h,Qr=y+s}else Kr=1<<y|l<<m|h,Qr=s}function Gd(s){s.return!==null&&(Mi(s,1),Gy(s,1,0))}function Kd(s){for(;s===mc;)mc=$o[--Wo],$o[Wo]=null,gc=$o[--Wo],$o[Wo]=null;for(;s===Di;)Di=kn[--Rn],kn[Rn]=null,Qr=kn[--Rn],kn[Rn]=null,Kr=kn[--Rn],kn[Rn]=null}var En=null,xn=null,it=!1,Wn=null;function Ky(s,i){var l=Dn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Qy(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,En=s,xn=ks(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,En=s,xn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Di!==null?{id:Kr,overflow:Qr}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Dn(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,En=s,xn=null,!0):!1;default:return!1}}function Qd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Xd(s){if(it){var i=xn;if(i){var l=i;if(!Qy(s,i)){if(Qd(s))throw Error(t(418));i=ks(l.nextSibling);var h=En;i&&Qy(s,i)?Ky(h,l):(s.flags=s.flags&-4097|2,it=!1,En=s)}}else{if(Qd(s))throw Error(t(418));s.flags=s.flags&-4097|2,it=!1,En=s}}}function Xy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;En=s}function yc(s){if(s!==En)return!1;if(!it)return Xy(s),it=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Bd(s.type,s.memoizedProps)),i&&(i=xn)){if(Qd(s))throw Yy(),Error(t(418));for(;i;)Ky(s,i),i=ks(i.nextSibling)}if(Xy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){xn=ks(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}xn=null}}else xn=En?ks(s.stateNode.nextSibling):null;return!0}function Yy(){for(var s=xn;s;)s=ks(s.nextSibling)}function Ho(){xn=En=null,it=!1}function Yd(s){Wn===null?Wn=[s]:Wn.push(s)}var U1=Z.ReactCurrentBatchConfig;function wl(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var m=h,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(x){var k=m.refs;x===null?delete k[y]:k[y]=x},i._stringRef=y,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function vc(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Jy(s){var i=s._init;return i(s._payload)}function Zy(s){function i(B,O){if(s){var W=B.deletions;W===null?(B.deletions=[O],B.flags|=16):W.push(O)}}function l(B,O){if(!s)return null;for(;O!==null;)i(B,O),O=O.sibling;return null}function h(B,O){for(B=new Map;O!==null;)O.key!==null?B.set(O.key,O):B.set(O.index,O),O=O.sibling;return B}function m(B,O){return B=Us(B,O),B.index=0,B.sibling=null,B}function y(B,O,W){return B.index=W,s?(W=B.alternate,W!==null?(W=W.index,W<O?(B.flags|=2,O):W):(B.flags|=2,O)):(B.flags|=1048576,O)}function x(B){return s&&B.alternate===null&&(B.flags|=2),B}function k(B,O,W,ie){return O===null||O.tag!==6?(O=$f(W,B.mode,ie),O.return=B,O):(O=m(O,W),O.return=B,O)}function D(B,O,W,ie){var ye=W.type;return ye===R?ne(B,O,W.props.children,ie,W.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ze&&Jy(ye)===O.type)?(ie=m(O,W.props),ie.ref=wl(B,O,W),ie.return=B,ie):(ie=zc(W.type,W.key,W.props,null,B.mode,ie),ie.ref=wl(B,O,W),ie.return=B,ie)}function q(B,O,W,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==W.containerInfo||O.stateNode.implementation!==W.implementation?(O=Wf(W,B.mode,ie),O.return=B,O):(O=m(O,W.children||[]),O.return=B,O)}function ne(B,O,W,ie,ye){return O===null||O.tag!==7?(O=$i(W,B.mode,ie,ye),O.return=B,O):(O=m(O,W),O.return=B,O)}function se(B,O,W){if(typeof O=="string"&&O!==""||typeof O=="number")return O=$f(""+O,B.mode,W),O.return=B,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case re:return W=zc(O.type,O.key,O.props,null,B.mode,W),W.ref=wl(B,null,O),W.return=B,W;case X:return O=Wf(O,B.mode,W),O.return=B,O;case ze:var ie=O._init;return se(B,ie(O._payload),W)}if(pt(O)||de(O))return O=$i(O,B.mode,W,null),O.return=B,O;vc(B,O)}return null}function te(B,O,W,ie){var ye=O!==null?O.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ye!==null?null:k(B,O,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case re:return W.key===ye?D(B,O,W,ie):null;case X:return W.key===ye?q(B,O,W,ie):null;case ze:return ye=W._init,te(B,O,ye(W._payload),ie)}if(pt(W)||de(W))return ye!==null?null:ne(B,O,W,ie,null);vc(B,W)}return null}function ue(B,O,W,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return B=B.get(W)||null,k(O,B,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case re:return B=B.get(ie.key===null?W:ie.key)||null,D(O,B,ie,ye);case X:return B=B.get(ie.key===null?W:ie.key)||null,q(O,B,ie,ye);case ze:var Te=ie._init;return ue(B,O,W,Te(ie._payload),ye)}if(pt(ie)||de(ie))return B=B.get(W)||null,ne(O,B,ie,ye,null);vc(O,ie)}return null}function fe(B,O,W,ie){for(var ye=null,Te=null,Ee=O,Pe=O=0,Mt=null;Ee!==null&&Pe<W.length;Pe++){Ee.index>Pe?(Mt=Ee,Ee=null):Mt=Ee.sibling;var Ge=te(B,Ee,W[Pe],ie);if(Ge===null){Ee===null&&(Ee=Mt);break}s&&Ee&&Ge.alternate===null&&i(B,Ee),O=y(Ge,O,Pe),Te===null?ye=Ge:Te.sibling=Ge,Te=Ge,Ee=Mt}if(Pe===W.length)return l(B,Ee),it&&Mi(B,Pe),ye;if(Ee===null){for(;Pe<W.length;Pe++)Ee=se(B,W[Pe],ie),Ee!==null&&(O=y(Ee,O,Pe),Te===null?ye=Ee:Te.sibling=Ee,Te=Ee);return it&&Mi(B,Pe),ye}for(Ee=h(B,Ee);Pe<W.length;Pe++)Mt=ue(Ee,B,Pe,W[Pe],ie),Mt!==null&&(s&&Mt.alternate!==null&&Ee.delete(Mt.key===null?Pe:Mt.key),O=y(Mt,O,Pe),Te===null?ye=Mt:Te.sibling=Mt,Te=Mt);return s&&Ee.forEach(function(Bs){return i(B,Bs)}),it&&Mi(B,Pe),ye}function ge(B,O,W,ie){var ye=de(W);if(typeof ye!="function")throw Error(t(150));if(W=ye.call(W),W==null)throw Error(t(151));for(var Te=ye=null,Ee=O,Pe=O=0,Mt=null,Ge=W.next();Ee!==null&&!Ge.done;Pe++,Ge=W.next()){Ee.index>Pe?(Mt=Ee,Ee=null):Mt=Ee.sibling;var Bs=te(B,Ee,Ge.value,ie);if(Bs===null){Ee===null&&(Ee=Mt);break}s&&Ee&&Bs.alternate===null&&i(B,Ee),O=y(Bs,O,Pe),Te===null?ye=Bs:Te.sibling=Bs,Te=Bs,Ee=Mt}if(Ge.done)return l(B,Ee),it&&Mi(B,Pe),ye;if(Ee===null){for(;!Ge.done;Pe++,Ge=W.next())Ge=se(B,Ge.value,ie),Ge!==null&&(O=y(Ge,O,Pe),Te===null?ye=Ge:Te.sibling=Ge,Te=Ge);return it&&Mi(B,Pe),ye}for(Ee=h(B,Ee);!Ge.done;Pe++,Ge=W.next())Ge=ue(Ee,B,Pe,Ge.value,ie),Ge!==null&&(s&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Pe:Ge.key),O=y(Ge,O,Pe),Te===null?ye=Ge:Te.sibling=Ge,Te=Ge);return s&&Ee.forEach(function(_A){return i(B,_A)}),it&&Mi(B,Pe),ye}function gt(B,O,W,ie){if(typeof W=="object"&&W!==null&&W.type===R&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case re:e:{for(var ye=W.key,Te=O;Te!==null;){if(Te.key===ye){if(ye=W.type,ye===R){if(Te.tag===7){l(B,Te.sibling),O=m(Te,W.props.children),O.return=B,B=O;break e}}else if(Te.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ze&&Jy(ye)===Te.type){l(B,Te.sibling),O=m(Te,W.props),O.ref=wl(B,Te,W),O.return=B,B=O;break e}l(B,Te);break}else i(B,Te);Te=Te.sibling}W.type===R?(O=$i(W.props.children,B.mode,ie,W.key),O.return=B,B=O):(ie=zc(W.type,W.key,W.props,null,B.mode,ie),ie.ref=wl(B,O,W),ie.return=B,B=ie)}return x(B);case X:e:{for(Te=W.key;O!==null;){if(O.key===Te)if(O.tag===4&&O.stateNode.containerInfo===W.containerInfo&&O.stateNode.implementation===W.implementation){l(B,O.sibling),O=m(O,W.children||[]),O.return=B,B=O;break e}else{l(B,O);break}else i(B,O);O=O.sibling}O=Wf(W,B.mode,ie),O.return=B,B=O}return x(B);case ze:return Te=W._init,gt(B,O,Te(W._payload),ie)}if(pt(W))return fe(B,O,W,ie);if(de(W))return ge(B,O,W,ie);vc(B,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,O!==null&&O.tag===6?(l(B,O.sibling),O=m(O,W),O.return=B,B=O):(l(B,O),O=$f(W,B.mode,ie),O.return=B,B=O),x(B)):l(B,O)}return gt}var qo=Zy(!0),ev=Zy(!1),_c=Rs(null),wc=null,Go=null,Jd=null;function Zd(){Jd=Go=wc=null}function ef(s){var i=_c.current;rt(_c),s._currentValue=i}function tf(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function Ko(s,i){wc=s,Jd=Go=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(un=!0),s.firstContext=null)}function bn(s){var i=s._currentValue;if(Jd!==s)if(s={context:s,memoizedValue:i,next:null},Go===null){if(wc===null)throw Error(t(308));Go=s,wc.dependencies={lanes:0,firstContext:s}}else Go=Go.next=s;return i}var Oi=null;function nf(s){Oi===null?Oi=[s]:Oi.push(s)}function tv(s,i,l,h){var m=i.interleaved;return m===null?(l.next=l,nf(i)):(l.next=m.next,m.next=l),i.interleaved=l,Xr(s,h)}function Xr(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Vs=!1;function rf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nv(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Yr(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Ds(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var m=h.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),h.pending=i,Xr(s,l)}return m=h.interleaved,m===null?(i.next=i,nf(h)):(i.next=m.next,m.next=i),h.interleaved=i,Xr(s,l)}function Tc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,tl(s,l)}}function rv(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?m=y=i:y=y.next=i}else m=y=i;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function Ec(s,i,l,h){var m=s.updateQueue;Vs=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var D=k,q=D.next;D.next=null,x===null?y=q:x.next=q,x=D;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==x&&(k===null?ne.firstBaseUpdate=q:k.next=q,ne.lastBaseUpdate=D))}if(y!==null){var se=m.baseState;x=0,ne=q=D=null,k=y;do{var te=k.lane,ue=k.eventTime;if((h&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var fe=s,ge=k;switch(te=i,ue=l,ge.tag){case 1:if(fe=ge.payload,typeof fe=="function"){se=fe.call(ue,se,te);break e}se=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ge.payload,te=typeof fe=="function"?fe.call(ue,se,te):fe,te==null)break e;se=ae({},se,te);break e;case 2:Vs=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,te=m.effects,te===null?m.effects=[k]:te.push(k))}else ue={eventTime:ue,lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(q=ne=ue,D=se):ne=ne.next=ue,x|=te;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;te=k,k=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(D=se),m.baseState=D,m.firstBaseUpdate=q,m.lastBaseUpdate=ne,i=m.shared.interleaved,i!==null){m=i;do x|=m.lane,m=m.next;while(m!==i)}else y===null&&(m.shared.lanes=0);Fi|=x,s.lanes=x,s.memoizedState=se}}function sv(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Tl={},vr=Rs(Tl),El=Rs(Tl),xl=Rs(Tl);function Li(s){if(s===Tl)throw Error(t(174));return s}function sf(s,i){switch(Ze(xl,i),Ze(El,s),Ze(vr,Tl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:go(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=go(i,s)}rt(vr),Ze(vr,i)}function Qo(){rt(vr),rt(El),rt(xl)}function iv(s){Li(xl.current);var i=Li(vr.current),l=go(i,s.type);i!==l&&(Ze(El,s),Ze(vr,l))}function of(s){El.current===s&&(rt(vr),rt(El))}var at=Rs(0);function xc(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var af=[];function lf(){for(var s=0;s<af.length;s++)af[s]._workInProgressVersionPrimary=null;af.length=0}var Ic=Z.ReactCurrentDispatcher,uf=Z.ReactCurrentBatchConfig,ji=0,lt=null,Ct=null,Vt=null,Sc=!1,Il=!1,Sl=0,B1=0;function Qt(){throw Error(t(321))}function cf(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!$n(s[l],i[l]))return!1;return!0}function hf(s,i,l,h,m,y){if(ji=y,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ic.current=s===null||s.memoizedState===null?H1:q1,s=l(h,m),Il){y=0;do{if(Il=!1,Sl=0,25<=y)throw Error(t(301));y+=1,Vt=Ct=null,i.updateQueue=null,Ic.current=G1,s=l(h,m)}while(Il)}if(Ic.current=Cc,i=Ct!==null&&Ct.next!==null,ji=0,Vt=Ct=lt=null,Sc=!1,i)throw Error(t(300));return s}function df(){var s=Sl!==0;return Sl=0,s}function _r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?lt.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Nn(){if(Ct===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=Ct.next;var i=Vt===null?lt.memoizedState:Vt.next;if(i!==null)Vt=i,Ct=s;else{if(s===null)throw Error(t(310));Ct=s,s={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Vt===null?lt.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function Al(s,i){return typeof i=="function"?i(s):i}function ff(s){var i=Nn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=Ct,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var k=x=null,D=null,q=y;do{var ne=q.lane;if((ji&ne)===ne)D!==null&&(D=D.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:s(h,q.action);else{var se={lane:ne,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};D===null?(k=D=se,x=h):D=D.next=se,lt.lanes|=ne,Fi|=ne}q=q.next}while(q!==null&&q!==y);D===null?x=h:D.next=k,$n(h,i.memoizedState)||(un=!0),i.memoizedState=h,i.baseState=x,i.baseQueue=D,l.lastRenderedState=h}if(s=l.interleaved,s!==null){m=s;do y=m.lane,lt.lanes|=y,Fi|=y,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function pf(s){var i=Nn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,m=l.pending,y=i.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do y=s(y,x.action),x=x.next;while(x!==m);$n(y,i.memoizedState)||(un=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,h]}function ov(){}function av(s,i){var l=lt,h=Nn(),m=i(),y=!$n(h.memoizedState,m);if(y&&(h.memoizedState=m,un=!0),h=h.queue,mf(cv.bind(null,l,h,s),[s]),h.getSnapshot!==i||y||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,Pl(9,uv.bind(null,l,h,m,i),void 0,null),Dt===null)throw Error(t(349));(ji&30)!==0||lv(l,i,m)}return m}function lv(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function uv(s,i,l,h){i.value=l,i.getSnapshot=h,hv(i)&&dv(s)}function cv(s,i,l){return l(function(){hv(i)&&dv(s)})}function hv(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!$n(s,l)}catch{return!0}}function dv(s){var i=Xr(s,1);i!==null&&Kn(i,s,1,-1)}function fv(s){var i=_r();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:s},i.queue=s,s=s.dispatch=W1.bind(null,lt,s),[i.memoizedState,s]}function Pl(s,i,l,h){return s={tag:s,create:i,destroy:l,deps:h,next:null},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s)),s}function pv(){return Nn().memoizedState}function Ac(s,i,l,h){var m=_r();lt.flags|=s,m.memoizedState=Pl(1|i,l,void 0,h===void 0?null:h)}function Pc(s,i,l,h){var m=Nn();h=h===void 0?null:h;var y=void 0;if(Ct!==null){var x=Ct.memoizedState;if(y=x.destroy,h!==null&&cf(h,x.deps)){m.memoizedState=Pl(i,l,y,h);return}}lt.flags|=s,m.memoizedState=Pl(1|i,l,y,h)}function mv(s,i){return Ac(8390656,8,s,i)}function mf(s,i){return Pc(2048,8,s,i)}function gv(s,i){return Pc(4,2,s,i)}function yv(s,i){return Pc(4,4,s,i)}function vv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function _v(s,i,l){return l=l!=null?l.concat([s]):null,Pc(4,4,vv.bind(null,i,s),l)}function gf(){}function wv(s,i){var l=Nn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&cf(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function Tv(s,i){var l=Nn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&cf(i,h[1])?h[0]:(s=s(),l.memoizedState=[s,i],s)}function Ev(s,i,l){return(ji&21)===0?(s.baseState&&(s.baseState=!1,un=!0),s.memoizedState=l):($n(l,i)||(l=Za(),lt.lanes|=l,Fi|=l,s.baseState=!0),i)}function z1(s,i){var l=$e;$e=l!==0&&4>l?l:4,s(!0);var h=uf.transition;uf.transition={};try{s(!1),i()}finally{$e=l,uf.transition=h}}function xv(){return Nn().memoizedState}function $1(s,i,l){var h=js(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Iv(s))Sv(i,l);else if(l=tv(s,i,l,h),l!==null){var m=sn();Kn(l,s,h,m),Av(l,i,h)}}function W1(s,i,l){var h=js(s),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Iv(s))Sv(i,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,k=y(x,l);if(m.hasEagerState=!0,m.eagerState=k,$n(k,x)){var D=i.interleaved;D===null?(m.next=m,nf(i)):(m.next=D.next,D.next=m),i.interleaved=m;return}}catch{}finally{}l=tv(s,i,m,h),l!==null&&(m=sn(),Kn(l,s,h,m),Av(l,i,h))}}function Iv(s){var i=s.alternate;return s===lt||i!==null&&i===lt}function Sv(s,i){Il=Sc=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Av(s,i,l){if((l&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,tl(s,l)}}var Cc={readContext:bn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},H1={readContext:bn,useCallback:function(s,i){return _r().memoizedState=[s,i===void 0?null:i],s},useContext:bn,useEffect:mv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,Ac(4194308,4,vv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Ac(4194308,4,s,i)},useInsertionEffect:function(s,i){return Ac(4,2,s,i)},useMemo:function(s,i){var l=_r();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var h=_r();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=$1.bind(null,lt,s),[h.memoizedState,s]},useRef:function(s){var i=_r();return s={current:s},i.memoizedState=s},useState:fv,useDebugValue:gf,useDeferredValue:function(s){return _r().memoizedState=s},useTransition:function(){var s=fv(!1),i=s[0];return s=z1.bind(null,s[1]),_r().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var h=lt,m=_r();if(it){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),Dt===null)throw Error(t(349));(ji&30)!==0||lv(h,i,l)}m.memoizedState=l;var y={value:l,getSnapshot:i};return m.queue=y,mv(cv.bind(null,h,y,s),[s]),h.flags|=2048,Pl(9,uv.bind(null,h,y,l,i),void 0,null),l},useId:function(){var s=_r(),i=Dt.identifierPrefix;if(it){var l=Qr,h=Kr;l=(h&~(1<<32-yn(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=Sl++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=B1++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},q1={readContext:bn,useCallback:wv,useContext:bn,useEffect:mf,useImperativeHandle:_v,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Tv,useReducer:ff,useRef:pv,useState:function(){return ff(Al)},useDebugValue:gf,useDeferredValue:function(s){var i=Nn();return Ev(i,Ct.memoizedState,s)},useTransition:function(){var s=ff(Al)[0],i=Nn().memoizedState;return[s,i]},useMutableSource:ov,useSyncExternalStore:av,useId:xv,unstable_isNewReconciler:!1},G1={readContext:bn,useCallback:wv,useContext:bn,useEffect:mf,useImperativeHandle:_v,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:Tv,useReducer:pf,useRef:pv,useState:function(){return pf(Al)},useDebugValue:gf,useDeferredValue:function(s){var i=Nn();return Ct===null?i.memoizedState=s:Ev(i,Ct.memoizedState,s)},useTransition:function(){var s=pf(Al)[0],i=Nn().memoizedState;return[s,i]},useMutableSource:ov,useSyncExternalStore:av,useId:xv,unstable_isNewReconciler:!1};function Hn(s,i){if(s&&s.defaultProps){i=ae({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function yf(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:ae({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var kc={isMounted:function(s){return(s=s._reactInternals)?Bn(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=sn(),m=js(s),y=Yr(h,m);y.payload=i,l!=null&&(y.callback=l),i=Ds(s,y,m),i!==null&&(Kn(i,s,m,h),Tc(i,s,m))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=sn(),m=js(s),y=Yr(h,m);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=Ds(s,y,m),i!==null&&(Kn(i,s,m,h),Tc(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=sn(),h=js(s),m=Yr(l,h);m.tag=2,i!=null&&(m.callback=i),i=Ds(s,m,h),i!==null&&(Kn(i,s,h,l),Tc(i,s,h))}};function Pv(s,i,l,h,m,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,x):i.prototype&&i.prototype.isPureReactComponent?!fl(l,h)||!fl(m,y):!0}function Cv(s,i,l){var h=!1,m=bs,y=i.contextType;return typeof y=="object"&&y!==null?y=bn(y):(m=ln(i)?Vi:Kt.current,h=i.contextTypes,y=(h=h!=null)?zo(s,m):bs),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=kc,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),i}function kv(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&kc.enqueueReplaceState(i,i.state,null)}function vf(s,i,l,h){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},rf(s);var y=i.contextType;typeof y=="object"&&y!==null?m.context=bn(y):(y=ln(i)?Vi:Kt.current,m.context=zo(s,y)),m.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(yf(s,i,y,l),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&kc.enqueueReplaceState(m,m.state,null),Ec(s,l,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Xo(s,i){try{var l="",h=i;do l+=Ne(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:m,digest:null}}function _f(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function wf(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var K1=typeof WeakMap=="function"?WeakMap:Map;function Rv(s,i,l){l=Yr(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){Oc||(Oc=!0,Mf=h),wf(s,i)},l}function bv(s,i,l){l=Yr(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=i.value;l.payload=function(){return h(m)},l.callback=function(){wf(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){wf(s,i),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),l}function Nv(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new K1;var m=new Set;h.set(i,m)}else m=h.get(i),m===void 0&&(m=new Set,h.set(i,m));m.has(l)||(m.add(l),s=lA.bind(null,s,i,l),i.then(s,s))}function Vv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Dv(s,i,l,h,m){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Yr(-1,1),i.tag=2,Ds(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var Q1=Z.ReactCurrentOwner,un=!1;function rn(s,i,l,h){i.child=s===null?ev(i,null,l,h):qo(i,s.child,l,h)}function Mv(s,i,l,h,m){l=l.render;var y=i.ref;return Ko(i,m),h=hf(s,i,l,h,y,m),l=df(),s!==null&&!un?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,Jr(s,i,m)):(it&&l&&Gd(i),i.flags|=1,rn(s,i,h,m),i.child)}function Ov(s,i,l,h,m){if(s===null){var y=l.type;return typeof y=="function"&&!zf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Lv(s,i,y,h,m)):(s=zc(l.type,null,h,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&m)===0){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:fl,l(x,h)&&s.ref===i.ref)return Jr(s,i,m)}return i.flags|=1,s=Us(y,h),s.ref=i.ref,s.return=i,i.child=s}function Lv(s,i,l,h,m){if(s!==null){var y=s.memoizedProps;if(fl(y,h)&&s.ref===i.ref)if(un=!1,i.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(un=!0);else return i.lanes=s.lanes,Jr(s,i,m)}return Tf(s,i,l,h,m)}function jv(s,i,l){var h=i.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Jo,In),In|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ze(Jo,In),In|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ze(Jo,In),In|=h}else y!==null?(h=y.baseLanes|l,i.memoizedState=null):h=l,Ze(Jo,In),In|=h;return rn(s,i,m,l),i.child}function Fv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Tf(s,i,l,h,m){var y=ln(l)?Vi:Kt.current;return y=zo(i,y),Ko(i,m),l=hf(s,i,l,h,y,m),h=df(),s!==null&&!un?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,Jr(s,i,m)):(it&&h&&Gd(i),i.flags|=1,rn(s,i,l,m),i.child)}function Uv(s,i,l,h,m){if(ln(l)){var y=!0;fc(i)}else y=!1;if(Ko(i,m),i.stateNode===null)bc(s,i),Cv(i,l,h),vf(i,l,h,m),h=!0;else if(s===null){var x=i.stateNode,k=i.memoizedProps;x.props=k;var D=x.context,q=l.contextType;typeof q=="object"&&q!==null?q=bn(q):(q=ln(l)?Vi:Kt.current,q=zo(i,q));var ne=l.getDerivedStateFromProps,se=typeof ne=="function"||typeof x.getSnapshotBeforeUpdate=="function";se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==h||D!==q)&&kv(i,x,h,q),Vs=!1;var te=i.memoizedState;x.state=te,Ec(i,h,x,m),D=i.memoizedState,k!==h||te!==D||an.current||Vs?(typeof ne=="function"&&(yf(i,l,ne,h),D=i.memoizedState),(k=Vs||Pv(i,l,k,h,te,D,q))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=D),x.props=h,x.state=D,x.context=q,h=k):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{x=i.stateNode,nv(s,i),k=i.memoizedProps,q=i.type===i.elementType?k:Hn(i.type,k),x.props=q,se=i.pendingProps,te=x.context,D=l.contextType,typeof D=="object"&&D!==null?D=bn(D):(D=ln(l)?Vi:Kt.current,D=zo(i,D));var ue=l.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==se||te!==D)&&kv(i,x,h,D),Vs=!1,te=i.memoizedState,x.state=te,Ec(i,h,x,m);var fe=i.memoizedState;k!==se||te!==fe||an.current||Vs?(typeof ue=="function"&&(yf(i,l,ue,h),fe=i.memoizedState),(q=Vs||Pv(i,l,q,h,te,fe,D)||!1)?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,fe,D),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,fe,D)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===s.memoizedProps&&te===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&te===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=fe),x.props=h,x.state=fe,x.context=D,h=q):(typeof x.componentDidUpdate!="function"||k===s.memoizedProps&&te===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&te===s.memoizedState||(i.flags|=1024),h=!1)}return Ef(s,i,l,h,y,m)}function Ef(s,i,l,h,m,y){Fv(s,i);var x=(i.flags&128)!==0;if(!h&&!x)return m&&Hy(i,l,!1),Jr(s,i,y);h=i.stateNode,Q1.current=i;var k=x&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&x?(i.child=qo(i,s.child,null,y),i.child=qo(i,null,k,y)):rn(s,i,k,y),i.memoizedState=h.state,m&&Hy(i,l,!0),i.child}function Bv(s){var i=s.stateNode;i.pendingContext?$y(s,i.pendingContext,i.pendingContext!==i.context):i.context&&$y(s,i.context,!1),sf(s,i.containerInfo)}function zv(s,i,l,h,m){return Ho(),Yd(m),i.flags|=256,rn(s,i,l,h),i.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function If(s){return{baseLanes:s,cachePool:null,transitions:null}}function $v(s,i,l){var h=i.pendingProps,m=at.current,y=!1,x=(i.flags&128)!==0,k;if((k=x)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Ze(at,m&1),s===null)return Xd(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=h.children,s=h.fallback,y?(h=i.mode,y=i.child,x={mode:"hidden",children:x},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=$c(x,h,0,null),s=$i(s,h,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=If(l),i.memoizedState=xf,s):Sf(i,x));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return X1(s,i,x,h,k,m,l);if(y){y=h.fallback,x=i.mode,m=s.child,k=m.sibling;var D={mode:"hidden",children:h.children};return(x&1)===0&&i.child!==m?(h=i.child,h.childLanes=0,h.pendingProps=D,i.deletions=null):(h=Us(m,D),h.subtreeFlags=m.subtreeFlags&14680064),k!==null?y=Us(k,y):(y=$i(y,x,l,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,x=s.child.memoizedState,x=x===null?If(l):{baseLanes:x.baseLanes|l,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=s.childLanes&~l,i.memoizedState=xf,h}return y=s.child,s=y.sibling,h=Us(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=h,i.memoizedState=null,h}function Sf(s,i){return i=$c({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Rc(s,i,l,h){return h!==null&&Yd(h),qo(i,s.child,null,l),s=Sf(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function X1(s,i,l,h,m,y,x){if(l)return i.flags&256?(i.flags&=-257,h=_f(Error(t(422))),Rc(s,i,x,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=h.fallback,m=i.mode,h=$c({mode:"visible",children:h.children},m,0,null),y=$i(y,m,x,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&qo(i,s.child,null,x),i.child.memoizedState=If(x),i.memoizedState=xf,y);if((i.mode&1)===0)return Rc(s,i,x,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var k=h.dgst;return h=k,y=Error(t(419)),h=_f(y,h,void 0),Rc(s,i,x,h)}if(k=(x&s.childLanes)!==0,un||k){if(h=Dt,h!==null){switch(x&-x){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|x))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Xr(s,m),Kn(h,s,m,-1))}return Bf(),h=_f(Error(t(421))),Rc(s,i,x,h)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=uA.bind(null,s),m._reactRetry=i,null):(s=y.treeContext,xn=ks(m.nextSibling),En=i,it=!0,Wn=null,s!==null&&(kn[Rn++]=Kr,kn[Rn++]=Qr,kn[Rn++]=Di,Kr=s.id,Qr=s.overflow,Di=i),i=Sf(i,h.children),i.flags|=4096,i)}function Wv(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),tf(s.return,i,l)}function Af(s,i,l,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function Hv(s,i,l){var h=i.pendingProps,m=h.revealOrder,y=h.tail;if(rn(s,i,h.children,l),h=at.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wv(s,l,i);else if(s.tag===19)Wv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Ze(at,h),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(l=i.child,m=null;l!==null;)s=l.alternate,s!==null&&xc(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),Af(i,!1,m,l,y);break;case"backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&xc(s)===null){i.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Af(i,!0,l,null,y);break;case"together":Af(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bc(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Jr(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Fi|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=Us(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Us(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function Y1(s,i,l){switch(i.tag){case 3:Bv(i),Ho();break;case 5:iv(i);break;case 1:ln(i.type)&&fc(i);break;case 4:sf(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,m=i.memoizedProps.value;Ze(_c,h._currentValue),h._currentValue=m;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Ze(at,at.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?$v(s,i,l):(Ze(at,at.current&1),s=Jr(s,i,l),s!==null?s.sibling:null);Ze(at,at.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(s.flags&128)!==0){if(h)return Hv(s,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(at,at.current),h)break;return null;case 22:case 23:return i.lanes=0,jv(s,i,l)}return Jr(s,i,l)}var qv,Pf,Gv,Kv;qv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Pf=function(){},Gv=function(s,i,l,h){var m=s.memoizedProps;if(m!==h){s=i.stateNode,Li(vr.current);var y=null;switch(l){case"input":m=po(s,m),h=po(s,h),y=[];break;case"select":m=ae({},m,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":m=za(s,m),h=za(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=cc)}Un(l,h);var x;l=null;for(q in m)if(!h.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var k=m[q];for(x in k)k.hasOwnProperty(x)&&(l||(l={}),l[x]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in h){var D=h[q];if(k=m?.[q],h.hasOwnProperty(q)&&D!==k&&(D!=null||k!=null))if(q==="style")if(k){for(x in k)!k.hasOwnProperty(x)||D&&D.hasOwnProperty(x)||(l||(l={}),l[x]="");for(x in D)D.hasOwnProperty(x)&&k[x]!==D[x]&&(l||(l={}),l[x]=D[x])}else l||(y||(y=[]),y.push(q,l)),l=D;else q==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,k=k?k.__html:void 0,D!=null&&k!==D&&(y=y||[]).push(q,D)):q==="children"?typeof D!="string"&&typeof D!="number"||(y=y||[]).push(q,""+D):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(D!=null&&q==="onScroll"&&nt("scroll",s),y||k===D||(y=[])):(y=y||[]).push(q,D))}l&&(y=y||[]).push("style",l);var q=y;(i.updateQueue=q)&&(i.flags|=4)}},Kv=function(s,i,l,h){l!==h&&(i.flags|=4)};function Cl(s,i){if(!it)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Xt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function J1(s,i,l){var h=i.pendingProps;switch(Kd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(i),null;case 1:return ln(i.type)&&dc(),Xt(i),null;case 3:return h=i.stateNode,Qo(),rt(an),rt(Kt),lf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(yc(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wn!==null&&(jf(Wn),Wn=null))),Pf(s,i),Xt(i),null;case 5:of(i);var m=Li(xl.current);if(l=i.type,s!==null&&i.stateNode!=null)Gv(s,i,l,h,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Xt(i),null}if(s=Li(vr.current),yc(i)){h=i.stateNode,l=i.type;var y=i.memoizedProps;switch(h[yr]=i,h[vl]=y,s=(i.mode&1)!==0,l){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(m=0;m<ml.length;m++)nt(ml[m],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":Mu(h,y),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},nt("invalid",h);break;case"textarea":$a(h,y),nt("invalid",h)}Un(l,y),m=null;for(var x in y)if(y.hasOwnProperty(x)){var k=y[x];x==="children"?typeof k=="string"?h.textContent!==k&&(y.suppressHydrationWarning!==!0&&uc(h.textContent,k,s),m=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&uc(h.textContent,k,s),m=["children",""+k]):o.hasOwnProperty(x)&&k!=null&&x==="onScroll"&&nt("scroll",h)}switch(l){case"input":tr(h),Ba(h,y,!0);break;case"textarea":tr(h),fs(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=cc)}h=m,i.updateQueue=h,h!==null&&(i.flags|=4)}else{x=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Wa(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=x.createElement(l,{is:h.is}):(s=x.createElement(l),l==="select"&&(x=s,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):s=x.createElementNS(s,l),s[yr]=i,s[vl]=h,qv(s,i,!1,!1),i.stateNode=s;e:{switch(x=vo(l,h),l){case"dialog":nt("cancel",s),nt("close",s),m=h;break;case"iframe":case"object":case"embed":nt("load",s),m=h;break;case"video":case"audio":for(m=0;m<ml.length;m++)nt(ml[m],s);m=h;break;case"source":nt("error",s),m=h;break;case"img":case"image":case"link":nt("error",s),nt("load",s),m=h;break;case"details":nt("toggle",s),m=h;break;case"input":Mu(s,h),m=po(s,h),nt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=ae({},h,{value:void 0}),nt("invalid",s);break;case"textarea":$a(s,h),m=za(s,h),nt("invalid",s);break;default:m=h}Un(l,m),k=m;for(y in k)if(k.hasOwnProperty(y)){var D=k[y];y==="style"?yo(s,D):y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Lu(s,D)):y==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&vi(s,D):typeof D=="number"&&vi(s,""+D):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?D!=null&&y==="onScroll"&&nt("scroll",s):D!=null&&H(s,y,D,x))}switch(l){case"input":tr(s),Ba(s,h,!1);break;case"textarea":tr(s),fs(s);break;case"option":h.value!=null&&s.setAttribute("value",""+je(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Fn(s,!!h.multiple,y,!1):h.defaultValue!=null&&Fn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=cc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Xt(i),null;case 6:if(s&&i.stateNode!=null)Kv(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=Li(xl.current),Li(vr.current),yc(i)){if(h=i.stateNode,l=i.memoizedProps,h[yr]=i,(y=h.nodeValue!==l)&&(s=En,s!==null))switch(s.tag){case 3:uc(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&uc(h.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[yr]=i,i.stateNode=h}return Xt(i),null;case 13:if(rt(at),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(it&&xn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Yy(),Ho(),i.flags|=98560,y=!1;else if(y=yc(i),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[yr]=i}else Ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xt(i),y=!1}else Wn!==null&&(jf(Wn),Wn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(at.current&1)!==0?kt===0&&(kt=3):Bf())),i.updateQueue!==null&&(i.flags|=4),Xt(i),null);case 4:return Qo(),Pf(s,i),s===null&&gl(i.stateNode.containerInfo),Xt(i),null;case 10:return ef(i.type._context),Xt(i),null;case 17:return ln(i.type)&&dc(),Xt(i),null;case 19:if(rt(at),y=i.memoizedState,y===null)return Xt(i),null;if(h=(i.flags&128)!==0,x=y.rendering,x===null)if(h)Cl(y,!1);else{if(kt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(x=xc(s),x!==null){for(i.flags|=128,Cl(y,!1),h=x.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)y=l,s=h,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,s=x.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Ze(at,at.current&1|2),i.child}s=s.sibling}y.tail!==null&&tt()>Zo&&(i.flags|=128,h=!0,Cl(y,!1),i.lanes=4194304)}else{if(!h)if(s=xc(x),s!==null){if(i.flags|=128,h=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Cl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!it)return Xt(i),null}else 2*tt()-y.renderingStartTime>Zo&&l!==1073741824&&(i.flags|=128,h=!0,Cl(y,!1),i.lanes=4194304);y.isBackwards?(x.sibling=i.child,i.child=x):(l=y.last,l!==null?l.sibling=x:i.child=x,y.last=x)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=tt(),i.sibling=null,l=at.current,Ze(at,h?l&1|2:l&1),i):(Xt(i),null);case 22:case 23:return Uf(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(In&1073741824)!==0&&(Xt(i),i.subtreeFlags&6&&(i.flags|=8192)):Xt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Z1(s,i){switch(Kd(i),i.tag){case 1:return ln(i.type)&&dc(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Qo(),rt(an),rt(Kt),lf(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return of(i),null;case 13:if(rt(at),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ho()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return rt(at),null;case 4:return Qo(),null;case 10:return ef(i.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Nc=!1,Yt=!1,eA=typeof WeakSet=="function"?WeakSet:Set,he=null;function Yo(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){dt(s,i,h)}else l.current=null}function Cf(s,i,l){try{l()}catch(h){dt(s,i,h)}}var Qv=!1;function tA(s,i){if(Fd=$r,s=Py(),bd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,k=-1,D=-1,q=0,ne=0,se=s,te=null;t:for(;;){for(var ue;se!==l||m!==0&&se.nodeType!==3||(k=x+m),se!==y||h!==0&&se.nodeType!==3||(D=x+h),se.nodeType===3&&(x+=se.nodeValue.length),(ue=se.firstChild)!==null;)te=se,se=ue;for(;;){if(se===s)break t;if(te===l&&++q===m&&(k=x),te===y&&++ne===h&&(D=x),(ue=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=ue}l=k===-1||D===-1?null:{start:k,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ud={focusedElem:s,selectionRange:l},$r=!1,he=i;he!==null;)if(i=he,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,he=s;else for(;he!==null;){i=he;try{var fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var ge=fe.memoizedProps,gt=fe.memoizedState,B=i.stateNode,O=B.getSnapshotBeforeUpdate(i.elementType===i.type?ge:Hn(i.type,ge),gt);B.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){dt(i,i.return,ie)}if(s=i.sibling,s!==null){s.return=i.return,he=s;break}he=i.return}return fe=Qv,Qv=!1,fe}function kl(s,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&Cf(i,l,y)}m=m.next}while(m!==h)}}function Vc(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function kf(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Xv(s){var i=s.alternate;i!==null&&(s.alternate=null,Xv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[yr],delete i[vl],delete i[Wd],delete i[L1],delete i[j1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Yv(s){return s.tag===5||s.tag===3||s.tag===4}function Jv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Rf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=cc));else if(h!==4&&(s=s.child,s!==null))for(Rf(s,i,l),s=s.sibling;s!==null;)Rf(s,i,l),s=s.sibling}function bf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(bf(s,i,l),s=s.sibling;s!==null;)bf(s,i,l),s=s.sibling}var Ut=null,qn=!1;function Ms(s,i,l){for(l=l.child;l!==null;)Zv(s,i,l),l=l.sibling}function Zv(s,i,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(xi,l)}catch{}switch(l.tag){case 5:Yt||Yo(l,i);case 6:var h=Ut,m=qn;Ut=null,Ms(s,i,l),Ut=h,qn=m,Ut!==null&&(qn?(s=Ut,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Ut.removeChild(l.stateNode));break;case 18:Ut!==null&&(qn?(s=Ut,l=l.stateNode,s.nodeType===8?$d(s.parentNode,l):s.nodeType===1&&$d(s,l),Ss(s)):$d(Ut,l.stateNode));break;case 4:h=Ut,m=qn,Ut=l.stateNode.containerInfo,qn=!0,Ms(s,i,l),Ut=h,qn=m;break;case 0:case 11:case 14:case 15:if(!Yt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&Cf(l,i,x),m=m.next}while(m!==h)}Ms(s,i,l);break;case 1:if(!Yt&&(Yo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){dt(l,i,k)}Ms(s,i,l);break;case 21:Ms(s,i,l);break;case 22:l.mode&1?(Yt=(h=Yt)||l.memoizedState!==null,Ms(s,i,l),Yt=h):Ms(s,i,l);break;default:Ms(s,i,l)}}function e_(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new eA),i.forEach(function(h){var m=cA.bind(null,s,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Gn(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=s,x=i,k=x;e:for(;k!==null;){switch(k.tag){case 5:Ut=k.stateNode,qn=!1;break e;case 3:Ut=k.stateNode.containerInfo,qn=!0;break e;case 4:Ut=k.stateNode.containerInfo,qn=!0;break e}k=k.return}if(Ut===null)throw Error(t(160));Zv(y,x,m),Ut=null,qn=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch(q){dt(m,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)t_(i,s),i=i.sibling}function t_(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Gn(i,s),wr(s),h&4){try{kl(3,s,s.return),Vc(3,s)}catch(ge){dt(s,s.return,ge)}try{kl(5,s,s.return)}catch(ge){dt(s,s.return,ge)}}break;case 1:Gn(i,s),wr(s),h&512&&l!==null&&Yo(l,l.return);break;case 5:if(Gn(i,s),wr(s),h&512&&l!==null&&Yo(l,l.return),s.flags&32){var m=s.stateNode;try{vi(m,"")}catch(ge){dt(s,s.return,ge)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,x=l!==null?l.memoizedProps:y,k=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&mo(m,y),vo(k,x);var q=vo(k,y);for(x=0;x<D.length;x+=2){var ne=D[x],se=D[x+1];ne==="style"?yo(m,se):ne==="dangerouslySetInnerHTML"?Lu(m,se):ne==="children"?vi(m,se):H(m,ne,se,q)}switch(k){case"input":yi(m,y);break;case"textarea":Ou(m,y);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?Fn(m,!!y.multiple,ue,!1):te!==!!y.multiple&&(y.defaultValue!=null?Fn(m,!!y.multiple,y.defaultValue,!0):Fn(m,!!y.multiple,y.multiple?[]:"",!1))}m[vl]=y}catch(ge){dt(s,s.return,ge)}}break;case 6:if(Gn(i,s),wr(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(ge){dt(s,s.return,ge)}}break;case 3:if(Gn(i,s),wr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ss(i.containerInfo)}catch(ge){dt(s,s.return,ge)}break;case 4:Gn(i,s),wr(s);break;case 13:Gn(i,s),wr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Df=tt())),h&4&&e_(s);break;case 22:if(ne=l!==null&&l.memoizedState!==null,s.mode&1?(Yt=(q=Yt)||ne,Gn(i,s),Yt=q):Gn(i,s),wr(s),h&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ne&&(s.mode&1)!==0)for(he=s,ne=s.child;ne!==null;){for(se=he=ne;he!==null;){switch(te=he,ue=te.child,te.tag){case 0:case 11:case 14:case 15:kl(4,te,te.return);break;case 1:Yo(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){h=te,l=te.return;try{i=h,fe.props=i.memoizedProps,fe.state=i.memoizedState,fe.componentWillUnmount()}catch(ge){dt(h,l,ge)}}break;case 5:Yo(te,te.return);break;case 22:if(te.memoizedState!==null){s_(se);continue}}ue!==null?(ue.return=te,he=ue):s_(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,q?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=se.stateNode,D=se.memoizedProps.style,x=D!=null&&D.hasOwnProperty("display")?D.display:null,k.style.display=gs("display",x))}catch(ge){dt(s,s.return,ge)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=q?"":se.memoizedProps}catch(ge){dt(s,s.return,ge)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Gn(i,s),wr(s),h&4&&e_(s);break;case 21:break;default:Gn(i,s),wr(s)}}function wr(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Yv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(vi(m,""),h.flags&=-33);var y=Jv(s);bf(s,y,m);break;case 3:case 4:var x=h.stateNode.containerInfo,k=Jv(s);Rf(s,k,x);break;default:throw Error(t(161))}}catch(D){dt(s,s.return,D)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function nA(s,i,l){he=s,n_(s)}function n_(s,i,l){for(var h=(s.mode&1)!==0;he!==null;){var m=he,y=m.child;if(m.tag===22&&h){var x=m.memoizedState!==null||Nc;if(!x){var k=m.alternate,D=k!==null&&k.memoizedState!==null||Yt;k=Nc;var q=Yt;if(Nc=x,(Yt=D)&&!q)for(he=m;he!==null;)x=he,D=x.child,x.tag===22&&x.memoizedState!==null?i_(m):D!==null?(D.return=x,he=D):i_(m);for(;y!==null;)he=y,n_(y),y=y.sibling;he=m,Nc=k,Yt=q}r_(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,he=y):r_(s)}}function r_(s){for(;he!==null;){var i=he;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Yt||Vc(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Yt)if(l===null)h.componentDidMount();else{var m=i.elementType===i.type?l.memoizedProps:Hn(i.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&sv(i,y,h);break;case 3:var x=i.updateQueue;if(x!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}sv(i,x,l)}break;case 5:var k=i.stateNode;if(l===null&&i.flags&4){l=k;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var ne=q.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Ss(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Yt||i.flags&512&&kf(i)}catch(te){dt(i,i.return,te)}}if(i===s){he=null;break}if(l=i.sibling,l!==null){l.return=i.return,he=l;break}he=i.return}}function s_(s){for(;he!==null;){var i=he;if(i===s){he=null;break}var l=i.sibling;if(l!==null){l.return=i.return,he=l;break}he=i.return}}function i_(s){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Vc(4,i)}catch(D){dt(i,l,D)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var m=i.return;try{h.componentDidMount()}catch(D){dt(i,m,D)}}var y=i.return;try{kf(i)}catch(D){dt(i,y,D)}break;case 5:var x=i.return;try{kf(i)}catch(D){dt(i,x,D)}}}catch(D){dt(i,i.return,D)}if(i===s){he=null;break}var k=i.sibling;if(k!==null){k.return=i.return,he=k;break}he=i.return}}var rA=Math.ceil,Dc=Z.ReactCurrentDispatcher,Nf=Z.ReactCurrentOwner,Vn=Z.ReactCurrentBatchConfig,He=0,Dt=null,Et=null,Bt=0,In=0,Jo=Rs(0),kt=0,Rl=null,Fi=0,Mc=0,Vf=0,bl=null,cn=null,Df=0,Zo=1/0,Zr=null,Oc=!1,Mf=null,Os=null,Lc=!1,Ls=null,jc=0,Nl=0,Of=null,Fc=-1,Uc=0;function sn(){return(He&6)!==0?tt():Fc!==-1?Fc:Fc=tt()}function js(s){return(s.mode&1)===0?1:(He&2)!==0&&Bt!==0?Bt&-Bt:U1.transition!==null?(Uc===0&&(Uc=Za()),Uc):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Co(s.type)),s)}function Kn(s,i,l,h){if(50<Nl)throw Nl=0,Of=null,Error(t(185));Pi(s,l,h),((He&2)===0||s!==Dt)&&(s===Dt&&((He&2)===0&&(Mc|=l),kt===4&&Fs(s,Bt)),hn(s,h),l===1&&He===0&&(i.mode&1)===0&&(Zo=tt()+500,pc&&Ns()))}function hn(s,i){var l=s.callbackNode;Ai(s,i);var h=Ur(s,s===Dt?Bt:0);if(h===0)l!==null&&To(l),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(l!=null&&To(l),i===1)s.tag===0?F1(a_.bind(null,s)):qy(a_.bind(null,s)),M1(function(){(He&6)===0&&Ns()}),l=null;else{switch(ar(h)){case 1:l=Eo;break;case 4:l=Xa;break;case 16:l=Ei;break;case 536870912:l=xo;break;default:l=Ei}l=m_(l,o_.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function o_(s,i){if(Fc=-1,Uc=0,(He&6)!==0)throw Error(t(327));var l=s.callbackNode;if(ea()&&s.callbackNode!==l)return null;var h=Ur(s,s===Dt?Bt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=Bc(s,h);else{i=h;var m=He;He|=2;var y=u_();(Dt!==s||Bt!==i)&&(Zr=null,Zo=tt()+500,Bi(s,i));do try{oA();break}catch(k){l_(s,k)}while(!0);Zd(),Dc.current=y,He=m,Et!==null?i=0:(Dt=null,Bt=0,i=kt)}if(i!==0){if(i===2&&(m=Ja(s),m!==0&&(h=m,i=Lf(s,m))),i===1)throw l=Rl,Bi(s,0),Fs(s,h),hn(s,tt()),l;if(i===6)Fs(s,h);else{if(m=s.current.alternate,(h&30)===0&&!sA(m)&&(i=Bc(s,h),i===2&&(y=Ja(s),y!==0&&(h=y,i=Lf(s,y))),i===1))throw l=Rl,Bi(s,0),Fs(s,h),hn(s,tt()),l;switch(s.finishedWork=m,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:zi(s,cn,Zr);break;case 3:if(Fs(s,h),(h&130023424)===h&&(i=Df+500-tt(),10<i)){if(Ur(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){sn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=zd(zi.bind(null,s,cn,Zr),i);break}zi(s,cn,Zr);break;case 4:if(Fs(s,h),(h&4194240)===h)break;for(i=s.eventTimes,m=-1;0<h;){var x=31-yn(h);y=1<<x,x=i[x],x>m&&(m=x),h&=~y}if(h=m,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*rA(h/1960))-h,10<h){s.timeoutHandle=zd(zi.bind(null,s,cn,Zr),h);break}zi(s,cn,Zr);break;case 5:zi(s,cn,Zr);break;default:throw Error(t(329))}}}return hn(s,tt()),s.callbackNode===l?o_.bind(null,s):null}function Lf(s,i){var l=bl;return s.current.memoizedState.isDehydrated&&(Bi(s,i).flags|=256),s=Bc(s,i),s!==2&&(i=cn,cn=l,i!==null&&jf(i)),s}function jf(s){cn===null?cn=s:cn.push.apply(cn,s)}function sA(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!$n(y(),m))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fs(s,i){for(i&=~Vf,i&=~Mc,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-yn(i),h=1<<l;s[l]=-1,i&=~h}}function a_(s){if((He&6)!==0)throw Error(t(327));ea();var i=Ur(s,0);if((i&1)===0)return hn(s,tt()),null;var l=Bc(s,i);if(s.tag!==0&&l===2){var h=Ja(s);h!==0&&(i=h,l=Lf(s,h))}if(l===1)throw l=Rl,Bi(s,0),Fs(s,i),hn(s,tt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,zi(s,cn,Zr),hn(s,tt()),null}function Ff(s,i){var l=He;He|=1;try{return s(i)}finally{He=l,He===0&&(Zo=tt()+500,pc&&Ns())}}function Ui(s){Ls!==null&&Ls.tag===0&&(He&6)===0&&ea();var i=He;He|=1;var l=Vn.transition,h=$e;try{if(Vn.transition=null,$e=1,s)return s()}finally{$e=h,Vn.transition=l,He=i,(He&6)===0&&Ns()}}function Uf(){In=Jo.current,rt(Jo)}function Bi(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,D1(l)),Et!==null)for(l=Et.return;l!==null;){var h=l;switch(Kd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&dc();break;case 3:Qo(),rt(an),rt(Kt),lf();break;case 5:of(h);break;case 4:Qo();break;case 13:rt(at);break;case 19:rt(at);break;case 10:ef(h.type._context);break;case 22:case 23:Uf()}l=l.return}if(Dt=s,Et=s=Us(s.current,null),Bt=In=i,kt=0,Rl=null,Vf=Mc=Fi=0,cn=bl=null,Oi!==null){for(i=0;i<Oi.length;i++)if(l=Oi[i],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var x=y.next;y.next=m,h.next=x}l.pending=h}Oi=null}return s}function l_(s,i){do{var l=Et;try{if(Zd(),Ic.current=Cc,Sc){for(var h=lt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Sc=!1}if(ji=0,Vt=Ct=lt=null,Il=!1,Sl=0,Nf.current=null,l===null||l.return===null){kt=1,Rl=i,Et=null;break}e:{var y=s,x=l.return,k=l,D=i;if(i=Bt,k.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=D,ne=k,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Vv(x);if(ue!==null){ue.flags&=-257,Dv(ue,x,k,y,i),ue.mode&1&&Nv(y,q,i),i=ue,D=q;var fe=i.updateQueue;if(fe===null){var ge=new Set;ge.add(D),i.updateQueue=ge}else fe.add(D);break e}else{if((i&1)===0){Nv(y,q,i),Bf();break e}D=Error(t(426))}}else if(it&&k.mode&1){var gt=Vv(x);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Dv(gt,x,k,y,i),Yd(Xo(D,k));break e}}y=D=Xo(D,k),kt!==4&&(kt=2),bl===null?bl=[y]:bl.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var B=Rv(y,D,i);rv(y,B);break e;case 1:k=D;var O=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Os===null||!Os.has(W)))){y.flags|=65536,i&=-i,y.lanes|=i;var ie=bv(y,k,i);rv(y,ie);break e}}y=y.return}while(y!==null)}h_(l)}catch(ye){i=ye,Et===l&&l!==null&&(Et=l=l.return);continue}break}while(!0)}function u_(){var s=Dc.current;return Dc.current=Cc,s===null?Cc:s}function Bf(){(kt===0||kt===3||kt===2)&&(kt=4),Dt===null||(Fi&268435455)===0&&(Mc&268435455)===0||Fs(Dt,Bt)}function Bc(s,i){var l=He;He|=2;var h=u_();(Dt!==s||Bt!==i)&&(Zr=null,Bi(s,i));do try{iA();break}catch(m){l_(s,m)}while(!0);if(Zd(),He=l,Dc.current=h,Et!==null)throw Error(t(261));return Dt=null,Bt=0,kt}function iA(){for(;Et!==null;)c_(Et)}function oA(){for(;Et!==null&&!Ti();)c_(Et)}function c_(s){var i=p_(s.alternate,s,In);s.memoizedProps=s.pendingProps,i===null?h_(s):Et=i,Nf.current=null}function h_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=J1(l,i,In),l!==null){Et=l;return}}else{if(l=Z1(l,i),l!==null){l.flags&=32767,Et=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kt=6,Et=null;return}}if(i=i.sibling,i!==null){Et=i;return}Et=i=s}while(i!==null);kt===0&&(kt=5)}function zi(s,i,l){var h=$e,m=Vn.transition;try{Vn.transition=null,$e=1,aA(s,i,l,h)}finally{Vn.transition=m,$e=h}return null}function aA(s,i,l,h){do ea();while(Ls!==null);if((He&6)!==0)throw Error(t(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ad(s,y),s===Dt&&(Et=Dt=null,Bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Lc||(Lc=!0,m_(Ei,function(){return ea(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Vn.transition,Vn.transition=null;var x=$e;$e=1;var k=He;He|=4,Nf.current=null,tA(s,l),t_(l,s),P1(Ud),$r=!!Fd,Ud=Fd=null,s.current=l,nA(l),Fr(),He=k,$e=x,Vn.transition=y}else s.current=l;if(Lc&&(Lc=!1,Ls=s,jc=m),y=s.pendingLanes,y===0&&(Os=null),Ku(l.stateNode),hn(s,tt()),i!==null)for(h=s.onRecoverableError,l=0;l<i.length;l++)m=i[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Oc)throw Oc=!1,s=Mf,Mf=null,s;return(jc&1)!==0&&s.tag!==0&&ea(),y=s.pendingLanes,(y&1)!==0?s===Of?Nl++:(Nl=0,Of=s):Nl=0,Ns(),null}function ea(){if(Ls!==null){var s=ar(jc),i=Vn.transition,l=$e;try{if(Vn.transition=null,$e=16>s?16:s,Ls===null)var h=!1;else{if(s=Ls,Ls=null,jc=0,(He&6)!==0)throw Error(t(331));var m=He;for(He|=4,he=s.current;he!==null;){var y=he,x=y.child;if((he.flags&16)!==0){var k=y.deletions;if(k!==null){for(var D=0;D<k.length;D++){var q=k[D];for(he=q;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:kl(8,ne,y)}var se=ne.child;if(se!==null)se.return=ne,he=se;else for(;he!==null;){ne=he;var te=ne.sibling,ue=ne.return;if(Xv(ne),ne===q){he=null;break}if(te!==null){te.return=ue,he=te;break}he=ue}}}var fe=y.alternate;if(fe!==null){var ge=fe.child;if(ge!==null){fe.child=null;do{var gt=ge.sibling;ge.sibling=null,ge=gt}while(ge!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,he=x;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:kl(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,he=B;break e}he=y.return}}var O=s.current;for(he=O;he!==null;){x=he;var W=x.child;if((x.subtreeFlags&2064)!==0&&W!==null)W.return=x,he=W;else e:for(x=O;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Vc(9,k)}}catch(ye){dt(k,k.return,ye)}if(k===x){he=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,he=ie;break e}he=k.return}}if(He=m,Ns(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(xi,s)}catch{}h=!0}return h}finally{$e=l,Vn.transition=i}}return!1}function d_(s,i,l){i=Xo(l,i),i=Rv(s,i,1),s=Ds(s,i,1),i=sn(),s!==null&&(Pi(s,1,i),hn(s,i))}function dt(s,i,l){if(s.tag===3)d_(s,s,l);else for(;i!==null;){if(i.tag===3){d_(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Os===null||!Os.has(h))){s=Xo(l,s),s=bv(i,s,1),i=Ds(i,s,1),s=sn(),i!==null&&(Pi(i,1,s),hn(i,s));break}}i=i.return}}function lA(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),i=sn(),s.pingedLanes|=s.suspendedLanes&l,Dt===s&&(Bt&l)===l&&(kt===4||kt===3&&(Bt&130023424)===Bt&&500>tt()-Df?Bi(s,0):Vf|=l),hn(s,i)}function f_(s,i){i===0&&((s.mode&1)===0?i=1:(i=Es,Es<<=1,(Es&130023424)===0&&(Es=4194304)));var l=sn();s=Xr(s,i),s!==null&&(Pi(s,i,l),hn(s,l))}function uA(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),f_(s,l)}function cA(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),f_(s,l)}var p_;p_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||an.current)un=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return un=!1,Y1(s,i,l);un=(s.flags&131072)!==0}else un=!1,it&&(i.flags&1048576)!==0&&Gy(i,gc,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;bc(s,i),s=i.pendingProps;var m=zo(i,Kt.current);Ko(i,l),m=hf(null,i,h,s,m,l);var y=df();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,ln(h)?(y=!0,fc(i)):y=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,rf(i),m.updater=kc,i.stateNode=m,m._reactInternals=i,vf(i,h,s,l),i=Ef(null,i,h,!0,y,l)):(i.tag=0,it&&y&&Gd(i),rn(null,i,m,l),i=i.child),i;case 16:h=i.elementType;e:{switch(bc(s,i),s=i.pendingProps,m=h._init,h=m(h._payload),i.type=h,m=i.tag=dA(h),s=Hn(h,s),m){case 0:i=Tf(null,i,h,s,l);break e;case 1:i=Uv(null,i,h,s,l);break e;case 11:i=Mv(null,i,h,s,l);break e;case 14:i=Ov(null,i,h,Hn(h.type,s),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Hn(h,m),Tf(s,i,h,m,l);case 1:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Hn(h,m),Uv(s,i,h,m,l);case 3:e:{if(Bv(i),s===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,m=y.element,nv(s,i),Ec(i,h,null,l);var x=i.memoizedState;if(h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){m=Xo(Error(t(423)),i),i=zv(s,i,h,l,m);break e}else if(h!==m){m=Xo(Error(t(424)),i),i=zv(s,i,h,l,m);break e}else for(xn=ks(i.stateNode.containerInfo.firstChild),En=i,it=!0,Wn=null,l=ev(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ho(),h===m){i=Jr(s,i,l);break e}rn(s,i,h,l)}i=i.child}return i;case 5:return iv(i),s===null&&Xd(i),h=i.type,m=i.pendingProps,y=s!==null?s.memoizedProps:null,x=m.children,Bd(h,m)?x=null:y!==null&&Bd(h,y)&&(i.flags|=32),Fv(s,i),rn(s,i,x,l),i.child;case 6:return s===null&&Xd(i),null;case 13:return $v(s,i,l);case 4:return sf(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=qo(i,null,h,l):rn(s,i,h,l),i.child;case 11:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Hn(h,m),Mv(s,i,h,m,l);case 7:return rn(s,i,i.pendingProps,l),i.child;case 8:return rn(s,i,i.pendingProps.children,l),i.child;case 12:return rn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,m=i.pendingProps,y=i.memoizedProps,x=m.value,Ze(_c,h._currentValue),h._currentValue=x,y!==null)if($n(y.value,x)){if(y.children===m.children&&!an.current){i=Jr(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var k=y.dependencies;if(k!==null){x=y.child;for(var D=k.firstContext;D!==null;){if(D.context===h){if(y.tag===1){D=Yr(-1,l&-l),D.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var ne=q.pending;ne===null?D.next=D:(D.next=ne.next,ne.next=D),q.pending=D}}y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),tf(y.return,l,i),k.lanes|=l;break}D=D.next}}else if(y.tag===10)x=y.type===i.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(t(341));x.lanes|=l,k=x.alternate,k!==null&&(k.lanes|=l),tf(x,l,i),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===i){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}rn(s,i,m.children,l),i=i.child}return i;case 9:return m=i.type,h=i.pendingProps.children,Ko(i,l),m=bn(m),h=h(m),i.flags|=1,rn(s,i,h,l),i.child;case 14:return h=i.type,m=Hn(h,i.pendingProps),m=Hn(h.type,m),Ov(s,i,h,m,l);case 15:return Lv(s,i,i.type,i.pendingProps,l);case 17:return h=i.type,m=i.pendingProps,m=i.elementType===h?m:Hn(h,m),bc(s,i),i.tag=1,ln(h)?(s=!0,fc(i)):s=!1,Ko(i,l),Cv(i,h,m),vf(i,h,m,l),Ef(null,i,h,!0,s,l);case 19:return Hv(s,i,l);case 22:return jv(s,i,l)}throw Error(t(156,i.tag))};function m_(s,i){return Qa(s,i)}function hA(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(s,i,l,h){return new hA(s,i,l,h)}function zf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dA(s){if(typeof s=="function")return zf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Qe)return 14}return 2}function Us(s,i){var l=s.alternate;return l===null?(l=Dn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function zc(s,i,l,h,m,y){var x=2;if(h=s,typeof s=="function")zf(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case R:return $i(l.children,m,y,i);case I:x=8,m|=8;break;case A:return s=Dn(12,l,i,m|2),s.elementType=A,s.lanes=y,s;case C:return s=Dn(13,l,i,m),s.elementType=C,s.lanes=y,s;case Ve:return s=Dn(19,l,i,m),s.elementType=Ve,s.lanes=y,s;case xe:return $c(l,m,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:x=10;break e;case V:x=9;break e;case F:x=11;break e;case Qe:x=14;break e;case ze:x=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Dn(x,l,i,m),i.elementType=s,i.type=h,i.lanes=y,i}function $i(s,i,l,h){return s=Dn(7,s,h,i),s.lanes=l,s}function $c(s,i,l,h){return s=Dn(22,s,h,i),s.elementType=xe,s.lanes=l,s.stateNode={isHidden:!1},s}function $f(s,i,l){return s=Dn(6,s,null,i),s.lanes=l,s}function Wf(s,i,l){return i=Dn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function fA(s,i,l,h,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Hf(s,i,l,h,m,y,x,k,D){return s=new fA(s,i,l,k,D),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Dn(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(y),s}function pA(s,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:h==null?null:""+h,children:s,containerInfo:i,implementation:l}}function g_(s){if(!s)return bs;s=s._reactInternals;e:{if(Bn(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(ln(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(ln(l))return Wy(s,l,i)}return i}function y_(s,i,l,h,m,y,x,k,D){return s=Hf(l,h,!0,s,m,y,x,k,D),s.context=g_(null),l=s.current,h=sn(),m=js(l),y=Yr(h,m),y.callback=i??null,Ds(l,y,m),s.current.lanes=m,Pi(s,m,h),hn(s,h),s}function Wc(s,i,l,h){var m=i.current,y=sn(),x=js(m);return l=g_(l),i.context===null?i.context=l:i.pendingContext=l,i=Yr(y,x),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=Ds(m,i,x),s!==null&&(Kn(s,m,x,y),Tc(s,m,x)),x}function Hc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function v_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function qf(s,i){v_(s,i),(s=s.alternate)&&v_(s,i)}function mA(){return null}var __=typeof reportError=="function"?reportError:function(s){console.error(s)};function Gf(s){this._internalRoot=s}qc.prototype.render=Gf.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Wc(s,i,null,null)},qc.prototype.unmount=Gf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Ui(function(){Wc(null,s,null,null)}),i[qr]=null}};function qc(s){this._internalRoot=s}qc.prototype.unstable_scheduleHydration=function(s){if(s){var i=sl();s={blockedOn:null,target:s,priority:i};for(var l=0;l<vn.length&&i!==0&&i<vn[l].priority;l++);vn.splice(l,0,s),l===0&&Ao(s)}};function Kf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Gc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function w_(){}function gA(s,i,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var q=Hc(x);y.call(q)}}var x=y_(i,h,s,0,null,!1,!1,"",w_);return s._reactRootContainer=x,s[qr]=x.current,gl(s.nodeType===8?s.parentNode:s),Ui(),x}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var k=h;h=function(){var q=Hc(D);k.call(q)}}var D=Hf(s,0,!1,null,null,!1,!1,"",w_);return s._reactRootContainer=D,s[qr]=D.current,gl(s.nodeType===8?s.parentNode:s),Ui(function(){Wc(i,D,l,h)}),D}function Kc(s,i,l,h,m){var y=l._reactRootContainer;if(y){var x=y;if(typeof m=="function"){var k=m;m=function(){var D=Hc(x);k.call(D)}}Wc(i,x,s,m)}else x=gA(l,i,s,m,h);return Hc(x)}nl=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ke(i.pendingLanes);l!==0&&(tl(i,l|1),hn(i,tt()),(He&6)===0&&(Zo=tt()+500,Ns()))}break;case 13:Ui(function(){var h=Xr(s,1);if(h!==null){var m=sn();Kn(h,s,1,m)}}),qf(s,1)}},Io=function(s){if(s.tag===13){var i=Xr(s,134217728);if(i!==null){var l=sn();Kn(i,s,134217728,l)}qf(s,134217728)}},rl=function(s){if(s.tag===13){var i=js(s),l=Xr(s,i);if(l!==null){var h=sn();Kn(l,s,i,h)}qf(s,i)}},sl=function(){return $e},il=function(s,i){var l=$e;try{return $e=s,i()}finally{$e=l}},Or=function(s,i,l){switch(i){case"input":if(yi(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var m=hc(h);if(!m)throw Error(t(90));nr(h),yi(h,m)}}}break;case"textarea":Ou(s,l);break;case"select":i=l.value,i!=null&&Fn(s,!!l.multiple,i,!1)}},Fu=Ff,Uu=Ui;var yA={usingClientEntryPoint:!1,Events:[_l,Uo,hc,vs,_s,Ff]},Vl={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vA={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Gu(s),s===null?null:s.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||mA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{xi=Qc.inject(vA),gn=Qc}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA,dn.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(i))throw Error(t(200));return pA(s,i,null,l)},dn.createRoot=function(s,i){if(!Kf(s))throw Error(t(299));var l=!1,h="",m=__;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Hf(s,1,!1,null,null,l,!1,h,m),s[qr]=i.current,gl(s.nodeType===8?s.parentNode:s),new Gf(i)},dn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Gu(i),s=s===null?null:s.stateNode,s},dn.flushSync=function(s){return Ui(s)},dn.hydrate=function(s,i,l){if(!Gc(i))throw Error(t(200));return Kc(null,s,i,!0,l)},dn.hydrateRoot=function(s,i,l){if(!Kf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",x=__;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),i=y_(i,null,s,1,l??null,m,!1,y,x),s[qr]=i.current,gl(s),h)for(s=0;s<h.length;s++)l=h[s],m=l._getVersion,m=m(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,m]:i.mutableSourceEagerHydrationData.push(l,m);return new qc(i)},dn.render=function(s,i,l){if(!Gc(i))throw Error(t(200));return Kc(null,s,i,!1,l)},dn.unmountComponentAtNode=function(s){if(!Gc(s))throw Error(t(40));return s._reactRootContainer?(Ui(function(){Kc(null,null,s,!1,function(){s._reactRootContainer=null,s[qr]=null})}),!0):!1},dn.unstable_batchedUpdates=Ff,dn.unstable_renderSubtreeIntoContainer=function(s,i,l,h){if(!Gc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Kc(s,i,l,!1,h)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var C_;function PT(){if(C_)return Yf.exports;C_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yf.exports=PA(),Yf.exports}var k_;function CA(){if(k_)return Xc;k_=1;var n=PT();return Xc.createRoot=n.createRoot,Xc.hydrateRoot=n.hydrateRoot,Xc}var kA=CA(),$=Dm();const ts=TA($),CT=wA({__proto__:null,default:ts},[$]),kT=$.createContext({});function RA(n){const e=$.useRef(null);return e.current===null&&(e.current=n()),e.current}const Mm=typeof window<"u",bA=Mm?$.useLayoutEffect:$.useEffect,Om=$.createContext(null);function Lm(n,e){n.indexOf(e)===-1&&n.push(e)}function jm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const is=(n,e,t)=>t>e?e:t<n?n:t;let Fm=()=>{};const os={},RT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function bT(n){return typeof n=="object"&&n!==null}const NT=n=>/^0[^.\s]+$/u.test(n);function Um(n){let e;return()=>(e===void 0&&(e=n()),e)}const jn=n=>n,NA=(n,e)=>t=>e(n(t)),gu=(...n)=>n.reduce(NA),eu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Bm{constructor(){this.subscriptions=[]}add(e){return Lm(this.subscriptions,e),()=>jm(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Er=n=>n*1e3,xr=n=>n/1e3;function VT(n,e){return e?n*(1e3/e):0}const DT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,VA=1e-7,DA=12;function MA(n,e,t,r,o){let a,u,d=0;do u=e+(t-e)/2,a=DT(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>VA&&++d<DA);return u}function yu(n,e,t,r){if(n===e&&t===r)return jn;const o=a=>MA(a,0,1,n,t);return a=>a===0||a===1?a:DT(o(a),e,r)}const MT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,OT=n=>e=>1-n(1-e),LT=yu(.33,1.53,.69,.99),zm=OT(LT),jT=MT(zm),FT=n=>(n*=2)<1?.5*zm(n):.5*(2-Math.pow(2,-10*(n-1))),$m=n=>1-Math.sin(Math.acos(n)),UT=OT($m),BT=MT($m),OA=yu(.42,0,1,1),LA=yu(0,0,.58,1),zT=yu(.42,0,.58,1),jA=n=>Array.isArray(n)&&typeof n[0]!="number",$T=n=>Array.isArray(n)&&typeof n[0]=="number",FA={linear:jn,easeIn:OA,easeInOut:zT,easeOut:LA,circIn:$m,circInOut:BT,circOut:UT,backIn:zm,backInOut:jT,backOut:LT,anticipate:FT},UA=n=>typeof n=="string",R_=n=>{if($T(n)){Fm(n.length===4);const[e,t,r,o]=n;return yu(e,t,r,o)}else if(UA(n))return FA[n];return n},Yc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function BA(n,e){let t=new Set,r=new Set,o=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),n()),g(d)}const p={schedule:(g,_=!1,E=!1)=>{const M=E&&o?t:r;return _&&u.add(g),M.has(g)||M.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(d=g,o){a=!0;return}o=!0,[t,r]=[r,t],t.forEach(f),t.clear(),o=!1,a&&(a=!1,p.process(g))}};return p}const zA=40;function WT(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Yc.reduce((H,Z)=>(H[Z]=BA(a),H),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:g,update:_,preRender:E,render:P,postRender:M}=u,j=()=>{const H=os.useManualTiming?o.timestamp:performance.now();t=!1,os.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(H-o.timestamp,zA),1)),o.timestamp=H,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),g.process(o),_.process(o),E.process(o),P.process(o),M.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(j))},b=()=>{t=!0,r=!0,o.isProcessing||n(j)};return{schedule:Yc.reduce((H,Z)=>{const re=u[Z];return H[Z]=(X,R=!1,I=!1)=>(t||b(),re.schedule(X,R,I)),H},{}),cancel:H=>{for(let Z=0;Z<Yc.length;Z++)u[Yc[Z]].cancel(H)},state:o,steps:u}}const{schedule:ot,cancel:ii,state:zt,steps:ep}=WT(typeof requestAnimationFrame<"u"?requestAnimationFrame:jn,!0);let hh;function $A(){hh=void 0}const mn={now:()=>(hh===void 0&&mn.set(zt.isProcessing||os.useManualTiming?zt.timestamp:performance.now()),hh),set:n=>{hh=n,queueMicrotask($A)}},HT=n=>e=>typeof e=="string"&&e.startsWith(n),Wm=HT("--"),WA=HT("var(--"),Hm=n=>WA(n)?HA.test(n.split("/*")[0].trim()):!1,HA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ka={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},tu={...ka,transform:n=>is(0,1,n)},Jc={...ka,default:1},Bl=n=>Math.round(n*1e5)/1e5,qm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qA(n){return n==null}const GA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gm=(n,e)=>t=>!!(typeof t=="string"&&GA.test(t)&&t.startsWith(n)||e&&!qA(t)&&Object.prototype.hasOwnProperty.call(t,e)),qT=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(qm);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},KA=n=>is(0,255,n),tp={...ka,transform:n=>Math.round(KA(n))},Ki={test:Gm("rgb","red"),parse:qT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+tp.transform(n)+", "+tp.transform(e)+", "+tp.transform(t)+", "+Bl(tu.transform(r))+")"};function QA(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Vp={test:Gm("#"),parse:QA,transform:Ki.transform},vu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ws=vu("deg"),Ir=vu("%"),Ae=vu("px"),XA=vu("vh"),YA=vu("vw"),b_={...Ir,parse:n=>Ir.parse(n)/100,transform:n=>Ir.transform(n*100)},oa={test:Gm("hsl","hue"),parse:qT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ir.transform(Bl(e))+", "+Ir.transform(Bl(t))+", "+Bl(tu.transform(r))+")"},It={test:n=>Ki.test(n)||Vp.test(n)||oa.test(n),parse:n=>Ki.test(n)?Ki.parse(n):oa.test(n)?oa.parse(n):Vp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ki.transform(n):oa.transform(n),getAnimatableNone:n=>{const e=It.parse(n);return e.alpha=0,It.transform(e)}},JA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZA(n){return isNaN(n)&&typeof n=="string"&&(n.match(qm)?.length||0)+(n.match(JA)?.length||0)>0}const GT="number",KT="color",eP="var",tP="var(",N_="${}",nP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(nP,f=>(It.test(f)?(r.color.push(a),o.push(KT),t.push(It.parse(f))):f.startsWith(tP)?(r.var.push(a),o.push(eP),t.push(f)):(r.number.push(a),o.push(GT),t.push(parseFloat(f))),++a,N_)).split(N_);return{values:t,split:d,indexes:r,types:o}}function QT(n){return nu(n).values}function XT(n){const{split:e,types:t}=nu(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=t[u];d===GT?a+=Bl(o[u]):d===KT?a+=It.transform(o[u]):a+=o[u]}return a}}const rP=n=>typeof n=="number"?0:It.test(n)?It.getAnimatableNone(n):n;function sP(n){const e=QT(n);return XT(n)(e.map(rP))}const oi={test:ZA,parse:QT,createTransformer:XT,getAnimatableNone:sP};function np(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function iP({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=np(f,d,n+1/3),a=np(f,d,n),u=np(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Sh(n,e){return t=>t>0?e:n}const ut=(n,e,t)=>n+(e-n)*t,rp=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},oP=[Vp,Ki,oa],aP=n=>oP.find(e=>e.test(n));function V_(n){const e=aP(n);if(!e)return!1;let t=e.parse(n);return e===oa&&(t=iP(t)),t}const D_=(n,e)=>{const t=V_(n),r=V_(e);if(!t||!r)return Sh(n,e);const o={...t};return a=>(o.red=rp(t.red,r.red,a),o.green=rp(t.green,r.green,a),o.blue=rp(t.blue,r.blue,a),o.alpha=ut(t.alpha,r.alpha,a),Ki.transform(o))},Dp=new Set(["none","hidden"]);function lP(n,e){return Dp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function uP(n,e){return t=>ut(n,e,t)}function Km(n){return typeof n=="number"?uP:typeof n=="string"?Hm(n)?Sh:It.test(n)?D_:dP:Array.isArray(n)?YT:typeof n=="object"?It.test(n)?D_:cP:Sh}function YT(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>Km(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function cP(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=Km(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function hP(n,e){const t=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=n.indexes[a][r[a]],d=n.values[u]??0;t[o]=d,r[a]++}return t}const dP=(n,e)=>{const t=oi.createTransformer(e),r=nu(n),o=nu(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Dp.has(n)&&!o.values.length||Dp.has(e)&&!r.values.length?lP(n,e):gu(YT(hP(r,o),o.values),t):Sh(n,e)};function JT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ut(n,e,t):Km(n)(n,e)}const fP=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ot.update(e,t),stop:()=>ii(e),now:()=>zt.isProcessing?zt.timestamp:mn.now()}},ZT=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=Math.round(n(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ah=2e4;function Qm(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Ah;)e+=t,r=n.next(e);return e>=Ah?1/0:e}function pP(n,e=100,t){const r=t({...n,keyframes:[0,e]}),o=Math.min(Qm(r),Ah);return{type:"keyframes",ease:a=>r.next(o*a).value/e,duration:xr(o)}}const mP=5;function eE(n,e,t){const r=Math.max(e-mP,0);return VT(t-n(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function gP({duration:n=ft.duration,bounce:e=ft.bounce,velocity:t=ft.velocity,mass:r=ft.mass}){let o,a,u=1-e;u=is(ft.minDamping,ft.maxDamping,u),n=is(ft.minDuration,ft.maxDuration,xr(n)),u<1?(o=p=>{const g=p*u,_=g*n,E=g-t,P=Mp(p,u),M=Math.exp(-_);return sp-E/P*M},a=p=>{const _=p*u*n,E=_*t+t,P=Math.pow(u,2)*Math.pow(p,2)*n,M=Math.exp(-_),j=Mp(Math.pow(p,2),u);return(-o(p)+sp>0?-1:1)*((E-P)*M)/j}):(o=p=>{const g=Math.exp(-p*n),_=(p-t)*n+1;return-sp+g*_},a=p=>{const g=Math.exp(-p*n),_=(t-p)*(n*n);return g*_});const d=5/n,f=vP(o,a,d);if(n=Er(n),isNaN(f))return{stiffness:ft.stiffness,damping:ft.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const yP=12;function vP(n,e,t){let r=t;for(let o=1;o<yP;o++)r=r-n(r)/e(r);return r}function Mp(n,e){return n*Math.sqrt(1-e*e)}const _P=["duration","bounce"],wP=["stiffness","damping","mass"];function M_(n,e){return e.some(t=>n[t]!==void 0)}function TP(n){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...n};if(!M_(n,wP)&&M_(n,_P))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*is(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:ft.mass,stiffness:o,damping:a}}else{const t=gP(n);e={...e,...t,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function Ph(n=ft.visualDuration,e=ft.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:P}=TP({...t,velocity:-xr(t.velocity||0)}),M=E||0,j=p/(2*Math.sqrt(f*g)),b=u-a,L=xr(Math.sqrt(f/g)),K=Math.abs(b)<5;r||(r=K?ft.restSpeed.granular:ft.restSpeed.default),o||(o=K?ft.restDelta.granular:ft.restDelta.default);let H;if(j<1){const re=Mp(L,j);H=X=>{const R=Math.exp(-j*L*X);return u-R*((M+j*L*b)/re*Math.sin(re*X)+b*Math.cos(re*X))}}else if(j===1)H=re=>u-Math.exp(-L*re)*(b+(M+L*b)*re);else{const re=L*Math.sqrt(j*j-1);H=X=>{const R=Math.exp(-j*L*X),I=Math.min(re*X,300);return u-R*((M+j*L*b)*Math.sinh(I)+re*b*Math.cosh(I))/re}}const Z={calculatedDuration:P&&_||null,next:re=>{const X=H(re);if(P)d.done=re>=_;else{let R=re===0?M:0;j<1&&(R=re===0?Er(M):eE(H,re,X));const I=Math.abs(R)<=r,A=Math.abs(u-X)<=o;d.done=I&&A}return d.value=d.done?u:X,d},toString:()=>{const re=Math.min(Qm(Z),Ah),X=ZT(R=>Z.next(re*R).value,re,30);return re+"ms "+X},toTransition:()=>{}};return Z}Ph.applyToOptions=n=>{const e=pP(n,100,Ph);return n.ease=e.ease,n.duration=Er(e.duration),n.type="keyframes",n};function Op({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const _=n[0],E={done:!1,value:_},P=I=>d!==void 0&&I<d||f!==void 0&&I>f,M=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let j=t*e;const b=_+j,L=u===void 0?b:u(b);L!==b&&(j=L-_);const K=I=>-j*Math.exp(-I/r),H=I=>L+K(I),Z=I=>{const A=K(I),N=H(I);E.done=Math.abs(A)<=p,E.value=E.done?L:N};let re,X;const R=I=>{P(E.value)&&(re=I,X=Ph({keyframes:[E.value,M(E.value)],velocity:eE(H,I,E.value),damping:o,stiffness:a,restDelta:p,restSpeed:g}))};return R(0),{calculatedDuration:null,next:I=>{let A=!1;return!X&&re===void 0&&(A=!0,Z(I),R(I)),re!==void 0&&I>=re?X.next(I-re):(!A&&Z(I),E)}}}function EP(n,e,t){const r=[],o=t||os.mix||JT,a=n.length-1;for(let u=0;u<a;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||jn:e;d=gu(f,d)}r.push(d)}return r}function xP(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(Fm(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=EP(e,r,o),f=d.length,p=g=>{if(u&&g<n[0])return e[0];let _=0;if(f>1)for(;_<n.length-2&&!(g<n[_+1]);_++);const E=eu(n[_],n[_+1],g);return d[_](E)};return t?g=>p(is(n[0],n[a-1],g)):p}function IP(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=eu(0,e,r);n.push(ut(t,1,o))}}function SP(n){const e=[0];return IP(e,n.length-1),e}function AP(n,e){return n.map(t=>t*e)}function PP(n,e){return n.map(()=>e||zT).splice(0,n.length-1)}function zl({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=jA(r)?r.map(R_):R_(r),a={done:!1,value:e[0]},u=AP(t&&t.length===e.length?t:SP(e),n),d=xP(u,e,{ease:Array.isArray(o)?o:PP(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const CP=n=>n!==null;function Xm(n,{repeat:e,repeatType:t="loop"},r,o=1){const a=n.filter(CP),d=o<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const kP={decay:Op,inertia:Op,tween:zl,keyframes:zl,spring:Ph};function tE(n){typeof n.type=="string"&&(n.type=kP[n.type])}class Ym{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const RP=n=>n/100;class Jm extends Ym{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;tE(e);const{type:t=zl,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:d}=e;const f=t||zl;f!==zl&&typeof d[0]!="number"&&(this.mixKeyframes=gu(RP,JT(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Qm(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:_,repeatType:E,repeatDelay:P,type:M,onUpdate:j,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?L<0:L>o;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let H=this.currentTime,Z=r;if(_){const I=Math.min(this.currentTime,o)/d;let A=Math.floor(I),N=I%1;!N&&I>=1&&(N=1),N===1&&A--,A=Math.min(A,_+1),!!(A%2)&&(E==="reverse"?(N=1-N,P&&(N-=P/d)):E==="mirror"&&(Z=u)),H=is(0,1,N)*d}const re=K?{done:!1,value:g[0]}:Z.next(H);a&&(re.value=a(re.value));let{done:X}=re;!K&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return R&&M!==Op&&(re.value=Xm(g,this.options,b,this.speed)),j&&j(re.value),R&&this.finish(),re}then(e,t){return this.finished.then(e,t)}get duration(){return xr(this.calculatedDuration)}get time(){return xr(this.currentTime)}set time(e){e=Er(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(mn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=fP,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function bP(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Qi=n=>n*180/Math.PI,Lp=n=>{const e=Qi(Math.atan2(n[1],n[0]));return jp(e)},NP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Lp,rotateZ:Lp,skewX:n=>Qi(Math.atan(n[1])),skewY:n=>Qi(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},jp=n=>(n=n%360,n<0&&(n+=360),n),O_=Lp,L_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),j_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),VP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:L_,scaleY:j_,scale:n=>(L_(n)+j_(n))/2,rotateX:n=>jp(Qi(Math.atan2(n[6],n[5]))),rotateY:n=>jp(Qi(Math.atan2(-n[2],n[0]))),rotateZ:O_,rotate:O_,skewX:n=>Qi(Math.atan(n[4])),skewY:n=>Qi(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Fp(n){return n.includes("scale")?1:0}function Up(n,e){if(!n||n==="none")return Fp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(t)r=VP,o=t;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=NP,o=d}if(!o)return Fp(e);const a=r[e],u=o[1].split(",").map(MP);return typeof a=="function"?a(u):u[a]}const DP=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Up(t,e)};function MP(n){return parseFloat(n.trim())}const Ra=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ba=new Set(Ra),F_=n=>n===ka||n===Ae,OP=new Set(["x","y","z"]),LP=Ra.filter(n=>!OP.has(n));function jP(n){const e=[];return LP.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Yi={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Up(e,"x"),y:(n,{transform:e})=>Up(e,"y")};Yi.translateX=Yi.x;Yi.translateY=Yi.y;const Ji=new Set;let Bp=!1,zp=!1,$p=!1;function nE(){if(zp){const n=Array.from(Ji).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=jP(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{r.getValue(a)?.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zp=!1,Bp=!1,Ji.forEach(n=>n.complete($p)),Ji.clear()}function rE(){Ji.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(zp=!0)})}function FP(){$p=!0,rE(),nE(),$p=!1}class Zm{constructor(e,t,r,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ji.add(this),Bp||(Bp=!0,ot.read(rE),ot.resolveKeyframes(nE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;if(e[0]===null){const a=o?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const d=r.readValue(t,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}bP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ji.delete(this)}cancel(){this.state==="scheduled"&&(Ji.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UP=n=>n.startsWith("--");function BP(n,e,t){UP(e)?n.style.setProperty(e,t):n.style[e]=t}const zP=Um(()=>window.ScrollTimeline!==void 0),$P={};function WP(n,e){const t=Um(n);return()=>$P[e]??t()}const sE=WP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ll=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,U_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ll([0,.65,.55,1]),circOut:Ll([.55,0,1,.45]),backIn:Ll([.31,.01,.66,-.59]),backOut:Ll([.33,1.53,.69,.99])};function iE(n,e){if(n)return typeof n=="function"?sE()?ZT(n,e):"ease-out":$T(n)?Ll(n):Array.isArray(n)?n.map(t=>iE(t,e)||U_.easeOut):U_[n]}function HP(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeOut",times:f}={},p=void 0){const g={[e]:t};f&&(g.offset=f);const _=iE(d,o);Array.isArray(_)&&(g.easing=_);const E={delay:r,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(g,E)}function oE(n){return typeof n=="function"&&"applyToOptions"in n}function qP({type:n,...e}){return oE(n)&&sE()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class GP extends Ym{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Fm(typeof e.type!="string");const p=qP(e);this.animation=HP(t,r,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=Xm(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):BP(t,r,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xr(Number(e))}get time(){return xr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Er(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&zP()?(this.animation.timeline=e,jn):t(this)}}const aE={anticipate:FT,backInOut:jT,circInOut:BT};function KP(n){return n in aE}function QP(n){typeof n.ease=="string"&&KP(n.ease)&&(n.ease=aE[n.ease])}const B_=10;class XP extends GP{constructor(e){QP(e),tE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:o,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const d=new Jm({...u,autoplay:!1}),f=Er(this.finishedTime??this.time);t.setWithVelocity(d.sample(f-B_).value,d.sample(f).value,B_),d.stop()}}const z_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(oi.test(n)||n==="0")&&!n.startsWith("url("));function YP(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function JP(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=z_(o,e),d=z_(a,e);return!u||!d?!1:YP(n)||(t==="spring"||oE(t))&&r}function Wp(n){n.duration=0,n.type}const ZP=new Set(["opacity","clipPath","filter","transform"]),eC=Um(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tC(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:o,damping:a,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return eC()&&t&&ZP.has(t)&&(t!=="transform"||!p)&&!f&&!r&&o!=="mirror"&&a!==0&&u!=="inertia"}const nC=40;class rC extends Ym{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:d,name:f,motionValue:p,element:g,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mn.now();const E={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:g,..._},P=g?.KeyframeResolver||Zm;this.keyframeResolver=new P(d,(M,j,b)=>this.onKeyframesResolved(M,j,E,!b),f,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:d,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=mn.now(),JP(e,a,u,d)||((os.instantAnimations||!f)&&g?.(Xm(e,r,t)),e[0]=e[e.length-1],Wp(r),r.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>nC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},P=!p&&tC(E)?new XP({...E,element:E.motionValue.owner.current}):new Jm(E);P.finished.then(()=>this.notifyFinished()).catch(jn),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),FP()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const sC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iC(n){const e=sC.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function lE(n,e,t=1){const[r,o]=iC(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return RT(u)?parseFloat(u):u}return Hm(o)?lE(o,e,t+1):o}function eg(n,e){return n?.[e]??n?.default??n}const uE=new Set(["width","height","top","left","right","bottom",...Ra]),oC={test:n=>n==="auto",parse:n=>n},cE=n=>e=>e.test(n),hE=[ka,Ae,Ir,Ws,YA,XA,oC],$_=n=>hE.find(cE(n));function aC(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||NT(n):!0}const lC=new Set(["brightness","contrast","saturate","opacity"]);function uC(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(qm)||[];if(!r)return n;const o=t.replace(r,"");let a=lC.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const cC=/\b([a-z-]*)\(.*?\)/gu,Hp={...oi,getAnimatableNone:n=>{const e=n.match(cC);return e?e.map(uC).join(" "):n}},W_={...ka,transform:Math.round},hC={rotate:Ws,rotateX:Ws,rotateY:Ws,rotateZ:Ws,scale:Jc,scaleX:Jc,scaleY:Jc,scaleZ:Jc,skew:Ws,skewX:Ws,skewY:Ws,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:tu,originX:b_,originY:b_,originZ:Ae},tg={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...hC,zIndex:W_,fillOpacity:tu,strokeOpacity:tu,numOctaves:W_},dC={...tg,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:Hp,WebkitFilter:Hp},dE=n=>dC[n];function fE(n,e){let t=dE(n);return t!==Hp&&(t=oi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const fC=new Set(["auto","none","0"]);function pC(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!fC.has(a)&&nu(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=fE(t,o)}class mC extends Zm{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Hm(p))){const g=lE(p,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!uE.has(r)||e.length!==2)return;const[o,a]=e,u=$_(o),d=$_(a);if(u!==d)if(F_(u)&&F_(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Yi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||aC(e[o]))&&r.push(o);r.length&&pC(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(t);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Yi[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function gC(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=t?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const pE=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function yC(n){return bT(n)&&"offsetHeight"in n}const H_=30,vC=n=>!isNaN(parseFloat(n));class _C{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=mn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Bm);const r=this.events[e].add(t);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>H_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,H_);return VT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _a(n,e){return new _C(n,e)}const{schedule:ng}=WT(queueMicrotask,!1),Qn={x:!1,y:!1};function mE(){return Qn.x||Qn.y}function wC(n){return n==="x"||n==="y"?Qn[n]?null:(Qn[n]=!0,()=>{Qn[n]=!1}):Qn.x||Qn.y?null:(Qn.x=Qn.y=!0,()=>{Qn.x=Qn.y=!1})}function gE(n,e){const t=gC(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function q_(n){return!(n.pointerType==="touch"||mE())}function TC(n,e,t={}){const[r,o,a]=gE(n,t),u=d=>{if(!q_(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const g=_=>{q_(_)&&(p(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,o)};return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const yE=(n,e)=>e?n===e?!0:yE(n,e.parentElement):!1,rg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,EC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xC(n){return EC.has(n.tagName)||n.tabIndex!==-1}const dh=new WeakSet;function G_(n){return e=>{e.key==="Enter"&&n(e)}}function ip(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IC=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=G_(()=>{if(dh.has(t))return;ip(t,"down");const o=G_(()=>{ip(t,"up")}),a=()=>ip(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function K_(n){return rg(n)&&!mE()}function SC(n,e,t={}){const[r,o,a]=gE(n,t),u=d=>{const f=d.currentTarget;if(!K_(d))return;dh.add(f);const p=e(f,d),g=(P,M)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),dh.has(f)&&dh.delete(f),K_(P)&&typeof p=="function"&&p(P,{success:M})},_=P=>{g(P,f===window||f===document||t.useGlobalTarget||yE(f,P.target))},E=P=>{g(P,!1)};window.addEventListener("pointerup",_,o),window.addEventListener("pointercancel",E,o)};return r.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),yC(d)&&(d.addEventListener("focus",p=>IC(p,o)),!xC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function vE(n){return bT(n)&&"ownerSVGElement"in n}function AC(n){return vE(n)&&n.tagName==="svg"}const tn=n=>!!(n&&n.getVelocity),PC=[...hE,It,oi],CC=n=>PC.find(cE(n)),_E=$.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function kC(n=!0){const e=$.useContext(Om);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=$.useId();$.useEffect(()=>{if(n)return o(a)},[n]);const u=$.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const wE=$.createContext({strict:!1}),Q_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wa={};for(const n in Q_)wa[n]={isEnabled:e=>Q_[n].some(t=>!!e[t])};function RC(n){for(const e in n)wa[e]={...wa[e],...n[e]}}const bC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ch(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bC.has(n)}let TE=n=>!Ch(n);function NC(n){typeof n=="function"&&(TE=e=>e.startsWith("on")?!Ch(e):n(e))}try{NC(require("@emotion/is-prop-valid").default)}catch{}function VC(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(TE(o)||t===!0&&Ch(o)||!e&&!Ch(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const ed=$.createContext({});function td(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ru(n){return typeof n=="string"||Array.isArray(n)}const sg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ig=["initial",...sg];function nd(n){return td(n.animate)||ig.some(e=>ru(n[e]))}function EE(n){return!!(nd(n)||n.variants)}function DC(n,e){if(nd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ru(t)?t:void 0,animate:ru(r)?r:void 0}}return n.inherit!==!1?e:{}}function MC(n){const{initial:e,animate:t}=DC(n,$.useContext(ed));return $.useMemo(()=>({initial:e,animate:t}),[X_(e),X_(t)])}function X_(n){return Array.isArray(n)?n.join(" "):n}const su={};function OC(n){for(const e in n)su[e]=n[e],Wm(e)&&(su[e].isCSSVariable=!0)}function xE(n,{layout:e,layoutId:t}){return ba.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!su[n]||n==="opacity")}const LC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jC=Ra.length;function FC(n,e,t){let r="",o=!0;for(let a=0;a<jC;a++){const u=Ra[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const p=pE(d,tg[u]);if(!f){o=!1;const g=LC[u]||u;r+=`${g}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function og(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const p=e[f];if(ba.has(f)){u=!0;continue}else if(Wm(f)){o[f]=p;continue}else{const g=pE(p,tg[f]);f.startsWith("origin")?(d=!0,a[f]=g):r[f]=g}}if(e.transform||(u||t?r.transform=FC(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const ag=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IE(n,e,t){for(const r in e)!tn(e[r])&&!xE(r,t)&&(n[r]=e[r])}function UC({transformTemplate:n},e){return $.useMemo(()=>{const t=ag();return og(t,e,n),Object.assign({},t.vars,t.style)},[e])}function BC(n,e){const t=n.style||{},r={};return IE(r,t,n),Object.assign(r,UC(n,e)),r}function zC(n,e){const t={},r=BC(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const $C={offset:"stroke-dashoffset",array:"stroke-dasharray"},WC={offset:"strokeDashoffset",array:"strokeDasharray"};function HC(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?$C:WC;n[a.offset]=Ae.transform(-r);const u=Ae.transform(e),d=Ae.transform(t);n[a.array]=`${u} ${d}`}function SE(n,{attrX:e,attrY:t,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},f,p,g){if(og(n,d,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:E}=n;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=g?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),r!==void 0&&(_.scale=r),o!==void 0&&HC(_,o,a,u,!1)}const AE=()=>({...ag(),attrs:{}}),PE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function qC(n,e,t,r){const o=$.useMemo(()=>{const a=AE();return SE(a,e,PE(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};IE(a,n.style,n),o.style={...a,...o.style}}return o}const GC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lg(n){return typeof n!="string"||n.includes("-")?!1:!!(GC.indexOf(n)>-1||/[A-Z]/u.test(n))}function KC(n,e,t,{latestValues:r},o,a=!1){const d=(lg(n)?qC:zC)(e,r,o,n),f=VC(e,typeof n=="string",a),p=n!==$.Fragment?{...f,...d,ref:t}:{},{children:g}=e,_=$.useMemo(()=>tn(g)?g.get():g,[g]);return $.createElement(n,{...p,children:_})}function Y_(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function ug(n,e,t,r){if(typeof e=="function"){const[o,a]=Y_(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=Y_(r);e=e(t!==void 0?t:n.custom,o,a)}return e}function fh(n){return tn(n)?n.get():n}function QC({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,o){return{latestValues:XC(t,r,o,n),renderState:e()}}function XC(n,e,t,r){const o={},a=r(n,{});for(const E in a)o[E]=fh(a[E]);let{initial:u,animate:d}=n;const f=nd(n),p=EE(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const _=g?d:u;if(_&&typeof _!="boolean"&&!td(_)){const E=Array.isArray(_)?_:[_];for(let P=0;P<E.length;P++){const M=ug(n,E[P]);if(M){const{transitionEnd:j,transition:b,...L}=M;for(const K in L){let H=L[K];if(Array.isArray(H)){const Z=g?H.length-1:0;H=H[Z]}H!==null&&(o[K]=H)}for(const K in j)o[K]=j[K]}}}return o}const CE=n=>(e,t)=>{const r=$.useContext(ed),o=$.useContext(Om),a=()=>QC(n,e,r,o);return t?a():RA(a)};function cg(n,e,t){const{style:r}=n,o={};for(const a in r)(tn(r[a])||e.style&&tn(e.style[a])||xE(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(o[a]=r[a]);return o}const YC=CE({scrapeMotionValuesFromProps:cg,createRenderState:ag});function kE(n,e,t){const r=cg(n,e,t);for(const o in n)if(tn(n[o])||tn(e[o])){const a=Ra.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}const JC=CE({scrapeMotionValuesFromProps:kE,createRenderState:AE}),ZC=Symbol.for("motionComponentSymbol");function aa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ek(n,e,t){return $.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):aa(t)&&(t.current=r))},[e])}const hg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tk="framerAppearId",RE="data-"+hg(tk),bE=$.createContext({});function nk(n,e,t,r,o){const{visualElement:a}=$.useContext(ed),u=$.useContext(wE),d=$.useContext(Om),f=$.useContext(_E).reducedMotion,p=$.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:a,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,_=$.useContext(bE);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&rk(p.current,t,o,_);const E=$.useRef(!1);$.useInsertionEffect(()=>{g&&E.current&&g.update(t,d)});const P=t[RE],M=$.useRef(!!P&&!window.MotionHandoffIsComplete?.(P)&&window.MotionHasOptimisedAnimation?.(P));return bA(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),M.current&&g.animationState&&g.animationState.animateChanges())}),$.useEffect(()=>{g&&(!M.current&&g.animationState&&g.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(P)}),M.current=!1),g.enteringChildren=void 0)}),g}function rk(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:NE(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&aa(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function NE(n){if(n)return n.options.allowProjection!==!1?n.projection:NE(n.parent)}function op(n,{forwardMotionProps:e=!1}={},t,r){t&&RC(t);const o=lg(n)?JC:YC;function a(d,f){let p;const g={...$.useContext(_E),...d,layoutId:sk(d)},{isStatic:_}=g,E=MC(d),P=o(d,_);if(!_&&Mm){ik();const M=ok(g);p=M.MeasureLayout,E.visualElement=nk(n,P,g,r,M.ProjectionNode)}return T.jsxs(ed.Provider,{value:E,children:[p&&E.visualElement?T.jsx(p,{visualElement:E.visualElement,...g}):null,KC(n,d,ek(P,E.visualElement,f),P,_,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=$.forwardRef(a);return u[ZC]=n,u}function sk({layoutId:n}){const e=$.useContext(kT).id;return e&&n!==void 0?e+"-"+n:n}function ik(n,e){$.useContext(wE).strict}function ok(n){const{drag:e,layout:t}=wa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ak(n,e){if(typeof Proxy>"u")return op;const t=new Map,r=(a,u)=>op(a,u,n,e),o=(a,u)=>r(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?r:(t.has(u)||t.set(u,op(u,void 0,n,e)),t.get(u))})}function VE({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function lk({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function uk(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function ap(n){return n===void 0||n===1}function qp({scale:n,scaleX:e,scaleY:t}){return!ap(n)||!ap(e)||!ap(t)}function qi(n){return qp(n)||DE(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function DE(n){return J_(n.x)||J_(n.y)}function J_(n){return n&&n!=="0%"}function kh(n,e,t){const r=n-t,o=e*r;return t+o}function Z_(n,e,t,r,o){return o!==void 0&&(n=kh(n,o,r)),kh(n,t,r)+e}function Gp(n,e=0,t=1,r,o){n.min=Z_(n.min,e,t,r,o),n.max=Z_(n.max,e,t,r,o)}function ME(n,{x:e,y:t}){Gp(n.x,e.translate,e.scale,e.originPoint),Gp(n.y,t.translate,t.scale,t.originPoint)}const e0=.999999999999,t0=1.0000000000001;function ck(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ua(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,ME(n,u)),r&&qi(a.latestValues)&&ua(n,a.latestValues))}e.x<t0&&e.x>e0&&(e.x=1),e.y<t0&&e.y>e0&&(e.y=1)}function la(n,e){n.min=n.min+e,n.max=n.max+e}function n0(n,e,t,r,o=.5){const a=ut(n.min,n.max,o);Gp(n,e,t,a,r)}function ua(n,e){n0(n.x,e.x,e.scaleX,e.scale,e.originX),n0(n.y,e.y,e.scaleY,e.scale,e.originY)}function OE(n,e){return VE(uk(n.getBoundingClientRect(),e))}function hk(n,e,t){const r=OE(n,t),{scroll:o}=e;return o&&(la(r.x,o.offset.x),la(r.y,o.offset.y)),r}const r0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:r0(),y:r0()}),s0=()=>({min:0,max:0}),yt=()=>({x:s0(),y:s0()}),Kp={current:null},LE={current:!1};function dk(){if(LE.current=!0,!!Mm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kp.current=n.matches;n.addEventListener("change",e),e()}else Kp.current=!1}const fk=new WeakMap;function pk(n,e,t){for(const r in e){const o=e[r],a=t[r];if(tn(o))n.addValue(r,o);else if(tn(a))n.addValue(r,_a(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,_a(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const i0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mk{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=mn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ot.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=nd(t),this.isVariantNode=EE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in _){const P=_[E];f[E]!==void 0&&tn(P)&&P.set(f[E])}}mount(e){this.current=e,fk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),LE.current||dk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ii(this.notifyUpdate),ii(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ba.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wa){const t=wa[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<i0.length;r++){const o=i0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=pk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=_a(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(RT(r)||NT(r))?r=parseFloat(r):!CC(r)&&oi.test(t)&&(r=fE(e,t)),this.setBaseTarget(e,tn(r)?r.get():r)),tn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const a=ug(this.props,t,this.presenceContext?.custom);a&&(r=a[e])}if(t&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!tn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Bm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){ng.render(this.render)}}class jE extends mk{constructor(){super(...arguments),this.KeyframeResolver=mC}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function FE(n,{style:e,vars:t},r,o){const a=n.style;let u;for(u in e)a[u]=e[u];o?.applyProjectionStyles(a,r);for(u in t)a.setProperty(u,t[u])}function gk(n){return window.getComputedStyle(n)}class yk extends jE{constructor(){super(...arguments),this.type="html",this.renderInstance=FE}readValueFromInstance(e,t){if(ba.has(t))return this.projection?.isProjecting?Fp(t):DP(e,t);{const r=gk(e),o=(Wm(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return OE(e,t)}build(e,t,r){og(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return cg(e,t,r)}}const UE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vk(n,e,t,r){FE(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(UE.has(o)?o:hg(o),e.attrs[o])}class _k extends jE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ba.has(t)){const r=dE(t);return r&&r.default||0}return t=UE.has(t)?t:hg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return kE(e,t,r)}build(e,t,r){SE(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,o){vk(e,t,r,o)}mount(e){this.isSVGTag=PE(e.tagName),super.mount(e)}}const wk=(n,e)=>lg(n)?new _k(e):new yk(e,{allowProjection:n!==$.Fragment});function da(n,e,t){const r=n.getProps();return ug(r,e,t!==void 0?t:r.custom,n)}const Qp=n=>Array.isArray(n);function Tk(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,_a(t))}function Ek(n){return Qp(n)?n[n.length-1]||0:n}function xk(n,e){const t=da(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const d=Ek(a[u]);Tk(n,u,d)}}function Ik(n){return!!(tn(n)&&n.add)}function Xp(n,e){const t=n.getValue("willChange");if(Ik(t))return t.add(e);if(!t&&os.WillChange){const r=new os.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function BE(n){return n.props[RE]}const Sk=n=>n!==null;function Ak(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(Sk),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return o[a]}const Pk={type:"spring",stiffness:500,damping:25,restSpeed:10},Ck=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),kk={type:"keyframes",duration:.8},Rk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bk=(n,{keyframes:e})=>e.length>2?kk:ba.has(n)?n.startsWith("scale")?Ck(e[1]):Pk:Rk;function Nk({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const dg=(n,e,t,r={},o,a)=>u=>{const d=eg(r,n)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Er(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};Nk(d)||Object.assign(g,bk(n,g)),g.duration&&(g.duration=Er(g.duration)),g.repeatDelay&&(g.repeatDelay=Er(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Wp(g),g.delay===0&&(_=!0)),(os.instantAnimations||os.skipAnimations)&&(_=!0,Wp(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,_&&!a&&e.get()!==void 0){const E=Ak(g.keyframes,d);if(E!==void 0){ot.update(()=>{g.onUpdate(E),g.onComplete()});return}}return d.isSync?new Jm(g):new rC(g)};function Vk({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function zE(n,e,{delay:t=0,transitionOverride:r,type:o}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...d}=e;r&&(a=r);const f=[],p=o&&n.animationState&&n.animationState.getState()[o];for(const g in d){const _=n.getValue(g,n.latestValues[g]??null),E=d[g];if(E===void 0||p&&Vk(p,g))continue;const P={delay:t,...eg(a||{},g)},M=_.get();if(M!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===M&&!P.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const L=BE(n);if(L){const K=window.MotionHandoffAnimation(L,g,ot);K!==null&&(P.startTime=K,j=!0)}}Xp(n,g),_.start(dg(g,_,E,n.shouldReduceMotion&&uE.has(g)?{type:!1}:P,n,j));const b=_.animation;b&&f.push(b)}return u&&Promise.all(f).then(()=>{ot.update(()=>{u&&xk(n,u)})}),f}function $E(n,e,t,r=0,o=1){const a=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=n.size,d=(u-1)*r;return typeof t=="function"?t(a,u):o===1?a*r:d-a*r}function Yp(n,e,t={}){const r=da(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(o=t.transitionOverride);const a=r?()=>Promise.all(zE(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:_}=o;return Dk(n,e,f,p,g,_,t)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,p]=d==="beforeChildren"?[a,u]:[u,a];return f().then(()=>p())}else return Promise.all([a(),u(t.delay)])}function Dk(n,e,t=0,r=0,o=0,a=1,u){const d=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),d.push(Yp(f,e,{...u,delay:t+(typeof r=="function"?0:r)+$E(n.variantChildren,f,r,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function Mk(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Yp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=Yp(n,e,t);else{const o=typeof e=="function"?da(n,e,t.custom):e;r=Promise.all(zE(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function WE(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Ok=ig.length;function HE(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?HE(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Ok;t++){const r=ig[t],o=n.props[r];(ru(o)||o===!1)&&(e[r]=o)}return e}const Lk=[...sg].reverse(),jk=sg.length;function Fk(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Mk(n,t,r)))}function Uk(n){let e=Fk(n),t=o0(),r=!0;const o=f=>(p,g)=>{const _=da(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:P,...M}=_;p={...p,...M,...P}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,g=HE(n.parent)||{},_=[],E=new Set;let P={},M=1/0;for(let b=0;b<jk;b++){const L=Lk[b],K=t[L],H=p[L]!==void 0?p[L]:g[L],Z=ru(H),re=L===f?K.isActive:null;re===!1&&(M=b);let X=H===g[L]&&H!==p[L]&&Z;if(X&&r&&n.manuallyAnimateOnMount&&(X=!1),K.protectedKeys={...P},!K.isActive&&re===null||!H&&!K.prevProp||td(H)||typeof H=="boolean")continue;const R=Bk(K.prevProp,H);let I=R||L===f&&K.isActive&&!X&&Z||b>M&&Z,A=!1;const N=Array.isArray(H)?H:[H];let V=N.reduce(o(L),{});re===!1&&(V={});const{prevResolvedValues:F={}}=K,C={...F,...V},Ve=xe=>{I=!0,E.has(xe)&&(A=!0,E.delete(xe)),K.needsAnimating[xe]=!0;const Q=n.getValue(xe);Q&&(Q.liveStyle=!1)};for(const xe in C){const Q=V[xe],de=F[xe];if(P.hasOwnProperty(xe))continue;let ae=!1;Qp(Q)&&Qp(de)?ae=!WE(Q,de):ae=Q!==de,ae?Q!=null?Ve(xe):E.add(xe):Q!==void 0&&E.has(xe)?Ve(xe):K.protectedKeys[xe]=!0}K.prevProp=H,K.prevResolvedValues=V,K.isActive&&(P={...P,...V}),r&&n.blockInitialAnimation&&(I=!1);const Qe=X&&R;I&&(!Qe||A)&&_.push(...N.map(xe=>{const Q={type:L};if(typeof xe=="string"&&r&&!Qe&&n.manuallyAnimateOnMount&&n.parent){const{parent:de}=n,ae=da(de,xe);if(de.enteringChildren&&ae){const{delayChildren:U}=ae.transition||{};Q.delay=$E(de.enteringChildren,n,U)}}return{animation:xe,options:Q}}))}if(E.size){const b={};if(typeof p.initial!="boolean"){const L=da(n,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(b.transition=L.transition)}E.forEach(L=>{const K=n.getBaseTarget(L),H=n.getValue(L);H&&(H.liveStyle=!0),b[L]=K??null}),_.push({animation:b})}let j=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(_):Promise.resolve()}function d(f,p){if(t[f].isActive===p)return Promise.resolve();n.variantChildren?.forEach(_=>_.animationState?.setActive(f,p)),t[f].isActive=p;const g=u(f);for(const _ in t)t[_].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=o0(),r=!0}}}function Bk(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!WE(e,n):!1}function Wi(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o0(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class pi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zk extends pi{constructor(e){super(e),e.animationState||(e.animationState=Uk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();td(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $k=0;class Wk extends pi{constructor(){super(...arguments),this.id=$k++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Hk={animation:{Feature:zk},exit:{Feature:Wk}};function iu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function _u(n){return{point:{x:n.pageX,y:n.pageY}}}const qk=n=>e=>rg(e)&&n(e,_u(e));function $l(n,e,t,r){return iu(n,e,qk(t),r)}const qE=1e-4,Gk=1-qE,Kk=1+qE,GE=.01,Qk=0-GE,Xk=0+GE;function on(n){return n.max-n.min}function Yk(n,e,t){return Math.abs(n-e)<=t}function a0(n,e,t,r=.5){n.origin=r,n.originPoint=ut(e.min,e.max,n.origin),n.scale=on(t)/on(e),n.translate=ut(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Gk&&n.scale<=Kk||isNaN(n.scale))&&(n.scale=1),(n.translate>=Qk&&n.translate<=Xk||isNaN(n.translate))&&(n.translate=0)}function Wl(n,e,t,r){a0(n.x,e.x,t.x,r?r.originX:void 0),a0(n.y,e.y,t.y,r?r.originY:void 0)}function l0(n,e,t){n.min=t.min+e.min,n.max=n.min+on(e)}function Jk(n,e,t){l0(n.x,e.x,t.x),l0(n.y,e.y,t.y)}function u0(n,e,t){n.min=e.min-t.min,n.max=n.min+on(e)}function Hl(n,e,t){u0(n.x,e.x,t.x),u0(n.y,e.y,t.y)}function On(n){return[n("x"),n("y")]}const KE=({current:n})=>n?n.ownerDocument.defaultView:null,c0=(n,e)=>Math.abs(n-e);function Zk(n,e){const t=c0(n.x,e.x),r=c0(n.y,e.y);return Math.sqrt(t**2+r**2)}class QE{constructor(e,t,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=up(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,M=Zk(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!M)return;const{point:j}=E,{timestamp:b}=zt;this.history.push({...j,timestamp:b});const{onStart:L,onMove:K}=this.handlers;P||(L&&L(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,E)},this.handlePointerMove=(E,P)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=lp(P,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(E,P)=>{this.end();const{onEnd:M,onSessionEnd:j,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=up(E.type==="pointercancel"?this.lastMoveEventInfo:lp(P,this.transformPagePoint),this.history);this.startEvent&&M&&M(E,L),j&&j(E,L)},!rg(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const d=_u(e),f=lp(d,this.transformPagePoint),{point:p}=f,{timestamp:g}=zt;this.history=[{...p,timestamp:g}];const{onSessionStart:_}=t;_&&_(e,up(f,this.history)),this.removeListeners=gu($l(this.contextWindow,"pointermove",this.handlePointerMove),$l(this.contextWindow,"pointerup",this.handlePointerUp),$l(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ii(this.updatePoint)}}function lp(n,e){return e?{point:e(n.point)}:n}function h0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function up({point:n},e){return{point:n,delta:h0(n,XE(e)),offset:h0(n,eR(e)),velocity:tR(e,.1)}}function eR(n){return n[0]}function XE(n){return n[n.length-1]}function tR(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=XE(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>Er(e)));)t--;if(!r)return{x:0,y:0};const a=xr(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function nR(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ut(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ut(t,n,r.max):Math.min(n,t)),n}function d0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function rR(n,{top:e,left:t,bottom:r,right:o}){return{x:d0(n.x,t,o),y:d0(n.y,e,r)}}function f0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function sR(n,e){return{x:f0(n.x,e.x),y:f0(n.y,e.y)}}function iR(n,e){let t=.5;const r=on(n),o=on(e);return o>r?t=eu(e.min,e.max-r,n.min):r>o&&(t=eu(n.min,n.max-o,e.min)),is(0,1,t)}function oR(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Jp=.35;function aR(n=Jp){return n===!1?n=0:n===!0&&(n=Jp),{x:p0(n,"left","right"),y:p0(n,"top","bottom")}}function p0(n,e,t){return{min:m0(n,e),max:m0(n,t)}}function m0(n,e){return typeof n=="number"?n:n[e]||0}const lR=new WeakMap;class uR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(_u(_).point)},u=(_,E)=>{const{drag:P,dragPropagation:M,onDragStart:j}=this.getProps();if(P&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wC(P),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(L=>{let K=this.getAxisMotionValue(L).get()||0;if(Ir.test(K)){const{projection:H}=this.visualElement;if(H&&H.layout){const Z=H.layout.layoutBox[L];Z&&(K=on(Z)*(parseFloat(K)/100))}}this.originPoint[L]=K}),j&&ot.postRender(()=>j(_,E)),Xp(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},d=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:P,dragDirectionLock:M,onDirectionLock:j,onDrag:b}=this.getProps();if(!P&&!this.openDragLock)return;const{offset:L}=E;if(M&&this.currentDirection===null){this.currentDirection=cR(L),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",E.point,L),this.updateAxis("y",E.point,L),this.visualElement.render(),b&&b(_,E)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>On(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new QE(e,{onSessionStart:a,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:KE(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,o=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&ot.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!Zc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=nR(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&aa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rR(r.layoutBox,e):this.constraints=!1,this.elastic=aR(t),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&On(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=oR(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!aa(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=hk(r,o.root,this.visualElement.getTransformPagePoint());let u=sR(o.layout.layoutBox,a);if(t){const d=t(lk(u));this.hasMutatedConstraints=!!d,d&&(u=VE(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=On(g=>{if(!Zc(g,t,this.currentDirection))return;let _=f&&f[g]||{};u&&(_={min:0,max:0});const E=o?200:1e6,P=o?40:1e7,M={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,M)});return Promise.all(p).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Xp(this.visualElement,e),r.start(dg(e,r,0,t,this.visualElement,!1))}stopAnimation(){On(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){On(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){On(t=>{const{drag:r}=this.getProps();if(!Zc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];a.set(e[t]-ut(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!aa(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};On(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=iR({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),On(u=>{if(!Zc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(ut(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;lR.set(this.visualElement,this);const e=this.visualElement.current,t=$l(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();aa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ot.read(r);const u=iu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(On(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Jp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Zc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function cR(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class hR extends pi{constructor(e){super(e),this.removeGroupControls=jn,this.removeListeners=jn,this.controls=new uR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const g0=n=>(e,t)=>{n&&ot.postRender(()=>n(e,t))};class dR extends pi{constructor(){super(...arguments),this.removePointerDownListener=jn}onPointerDown(e){this.session=new QE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:g0(e),onStart:g0(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&ot.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=$l(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ml={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ae.test(n))n=parseFloat(n);else return n;const t=y0(n,e.target.x),r=y0(n,e.target.y);return`${t}% ${r}%`}},fR={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=oi.parse(n);if(o.length>5)return r;const a=oi.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=ut(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};let cp=!1;class pR extends $.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;OC(mR),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),cp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,cp=!0,o||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ot.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ng.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;cp=!0,o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YE(n){const[e,t]=kC(),r=$.useContext(kT);return T.jsx(pR,{...n,layoutGroup:r,switchLayoutGroup:$.useContext(bE),isPresent:e,safeToRemove:t})}const mR={borderRadius:{...Ml,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ml,borderTopRightRadius:Ml,borderBottomLeftRadius:Ml,borderBottomRightRadius:Ml,boxShadow:fR};function gR(n,e,t){const r=tn(n)?n:_a(n);return r.start(dg("",r,e,t)),r.animation}const yR=(n,e)=>n.depth-e.depth;class vR{constructor(){this.children=[],this.isDirty=!1}add(e){Lm(this.children,e),this.isDirty=!0}remove(e){jm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yR),this.isDirty=!1,this.children.forEach(e)}}function _R(n,e){const t=mn.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(ii(r),n(a-e))};return ot.setup(r,!0),()=>ii(r)}const JE=["TopLeft","TopRight","BottomLeft","BottomRight"],wR=JE.length,v0=n=>typeof n=="string"?parseFloat(n):n,_0=n=>typeof n=="number"||Ae.test(n);function TR(n,e,t,r,o,a){o?(n.opacity=ut(0,t.opacity??1,ER(r)),n.opacityExit=ut(e.opacity??1,0,xR(r))):a&&(n.opacity=ut(e.opacity??1,t.opacity??1,r));for(let u=0;u<wR;u++){const d=`border${JE[u]}Radius`;let f=w0(e,d),p=w0(t,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||_0(f)===_0(p)?(n[d]=Math.max(ut(v0(f),v0(p),r),0),(Ir.test(p)||Ir.test(f))&&(n[d]+="%")):n[d]=p}(e.rotate||t.rotate)&&(n.rotate=ut(e.rotate||0,t.rotate||0,r))}function w0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const ER=ZE(0,.5,UT),xR=ZE(.5,.95,jn);function ZE(n,e,t){return r=>r<n?0:r>e?1:t(eu(n,e,r))}function T0(n,e){n.min=e.min,n.max=e.max}function Mn(n,e){T0(n.x,e.x),T0(n.y,e.y)}function E0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function x0(n,e,t,r,o){return n-=e,n=kh(n,1/t,r),o!==void 0&&(n=kh(n,1/o,r)),n}function IR(n,e=0,t=1,r=.5,o,a=n,u=n){if(Ir.test(e)&&(e=parseFloat(e),e=ut(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=ut(a.min,a.max,r);n===a&&(d-=e),n.min=x0(n.min,e,t,d,o),n.max=x0(n.max,e,t,d,o)}function I0(n,e,[t,r,o],a,u){IR(n,e[t],e[r],e[o],e.scale,a,u)}const SR=["x","scaleX","originX"],AR=["y","scaleY","originY"];function S0(n,e,t,r){I0(n.x,e,SR,t?t.x:void 0,r?r.x:void 0),I0(n.y,e,AR,t?t.y:void 0,r?r.y:void 0)}function A0(n){return n.translate===0&&n.scale===1}function ex(n){return A0(n.x)&&A0(n.y)}function P0(n,e){return n.min===e.min&&n.max===e.max}function PR(n,e){return P0(n.x,e.x)&&P0(n.y,e.y)}function C0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function tx(n,e){return C0(n.x,e.x)&&C0(n.y,e.y)}function k0(n){return on(n.x)/on(n.y)}function R0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class CR{constructor(){this.members=[]}add(e){Lm(this.members,e),e.scheduleRender()}remove(e){if(jm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kR(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:P,skewY:M}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),P&&(r+=`skewX(${P}deg) `),M&&(r+=`skewY(${M}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const hp=["","X","Y","Z"],RR=1e3;let bR=0;function dp(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function nx(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=BE(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ot,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&nx(r)}function rx({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=bR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DR),this.nodes.forEach(jR),this.nodes.forEach(FR),this.nodes.forEach(MR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new vR)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Bm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=vE(u)&&!AC(u),this.instance=u;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),n){let g,_=0;const E=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{_=window.innerWidth}),n(u,()=>{const P=window.innerWidth;P!==_&&(_=P,this.root.updateBlockedByResize=!0,g&&g(),g=_R(E,250),ph.hasAnimatedSinceResize&&(ph.hasAnimatedSinceResize=!1,this.nodes.forEach(V0)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||WR,{onLayoutAnimationStart:j,onLayoutAnimationComplete:b}=p.getProps(),L=!this.targetLayout||!tx(this.targetLayout,P),K=!_&&E;if(this.options.layoutRoot||this.resumeFrom||K||_&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...eg(M,"layout"),onPlay:j,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(g,K)}else _||V0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(b0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(N0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LR),this.nodes.forEach(NR),this.nodes.forEach(VR)):this.nodes.forEach(N0),this.clearAllSnapshots();const d=mn.now();zt.delta=is(0,1e3/60,d-zt.timestamp),zt.timestamp=d,zt.isProcessing=!0,ep.update.process(zt),ep.preRender.process(zt),ep.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ng.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OR),this.sharedNodes.forEach(BR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ex(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||qi(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),HR(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return yt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qR))){const{scroll:p}=this.root;p&&(la(d.x,p.offset.x),la(d.y,p.offset.y))}return d}removeElementScroll(u){const d=yt();if(Mn(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:_}=p;p!==this.root&&g&&_.layoutScroll&&(g.wasRoot&&Mn(d,u),la(d.x,g.offset.x),la(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const f=yt();Mn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ua(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qi(g.latestValues)&&ua(f,g.latestValues)}return qi(this.latestValues)&&ua(f,this.latestValues),f}removeTransform(u){const d=yt();Mn(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!qi(p.latestValues))continue;qp(p.latestValues)&&p.updateSnapshot();const g=yt(),_=p.measurePageBox();Mn(g,_),S0(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return qi(this.latestValues)&&S0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Hl(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mn(this.target,this.layout.layoutBox),ME(this.target,this.targetDelta)):Mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Hl(this.relativeTargetOrigin,this.target,E.target),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qp(this.parent.latestValues)||DE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Mn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;ck(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=yt());const{target:P}=u;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E0(this.prevProjectionDelta.x,this.projectionDelta.x),E0(this.prevProjectionDelta.y,this.projectionDelta.y)),Wl(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!R0(this.projectionDelta.x,this.prevProjectionDelta.x)||!R0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ca(),this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=yt(),P=f?f.source:void 0,M=this.layout?this.layout.source:void 0,j=P!==M,b=this.getStack(),L=!b||b.members.length<=1,K=!!(j&&!L&&this.options.crossfade===!0&&!this.path.some($R));this.animationProgress=0;let H;this.mixTargetDelta=Z=>{const re=Z/1e3;D0(_.x,u.x,re),D0(_.y,u.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zR(this.relativeTarget,this.relativeTargetOrigin,E,re),H&&PR(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=yt()),Mn(H,this.relativeTarget)),j&&(this.animationValues=g,TR(g,p,this.latestValues,re,K,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{ph.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_a(0)),this.currentAnimation=gR(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&sx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||yt();const _=on(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=on(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Mn(d,f),ua(d,g),Wl(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new CR),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&dp("z",u,p,this.animationValues);for(let g=0;g<hp.length;g++)dp(`rotate${hp[g]}`,u,p,this.animationValues),dp(`skew${hp[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=fh(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=fh(d?.pointerEvents)||""),this.hasProjected&&!qi(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=kR(this.projectionDeltaWithTransform,this.treeScale,g);f&&(_=f(g,_)),u.transform=_;const{x:E,y:P}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${P.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const M in su){if(g[M]===void 0)continue;const{correct:j,applyTo:b,isCSSVariable:L}=su[M],K=_==="none"?g[M]:j(g[M],p);if(b){const H=b.length;for(let Z=0;Z<H;Z++)u[b[Z]]=K}else L?this.options.visualElement.renderState.vars[M]=K:u[M]=K}this.options.layoutId&&(u.pointerEvents=p===this?fh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(b0),this.root.sharedNodes.clear()}}}function NR(n){n.updateLayout()}function VR(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:o}=n.options,a=e.source!==n.layout.source;o==="size"?On(g=>{const _=a?e.measuredBox[g]:e.layoutBox[g],E=on(_);_.min=t[g].min,_.max=_.min+E}):sx(o,e.layoutBox,t)&&On(g=>{const _=a?e.measuredBox[g]:e.layoutBox[g],E=on(t[g]);_.max=_.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+E)});const u=ca();Wl(u,t,e.layoutBox);const d=ca();a?Wl(d,n.applyTransform(r,!0),e.measuredBox):Wl(d,t,e.layoutBox);const f=!ex(u);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:_,layout:E}=g;if(_&&E){const P=yt();Hl(P,e.layoutBox,_.layoutBox);const M=yt();Hl(M,t,E.layoutBox),tx(P,M)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=P,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function DR(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function MR(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function OR(n){n.clearSnapshot()}function b0(n){n.clearMeasurements()}function N0(n){n.isLayoutDirty=!1}function LR(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function V0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function jR(n){n.resolveTargetDelta()}function FR(n){n.calcProjection()}function UR(n){n.resetSkewAndRotation()}function BR(n){n.removeLeadSnapshot()}function D0(n,e,t){n.translate=ut(e.translate,0,t),n.scale=ut(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function M0(n,e,t,r){n.min=ut(e.min,t.min,r),n.max=ut(e.max,t.max,r)}function zR(n,e,t,r){M0(n.x,e.x,t.x,r),M0(n.y,e.y,t.y,r)}function $R(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const WR={duration:.45,ease:[.4,0,.1,1]},O0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),L0=O0("applewebkit/")&&!O0("chrome/")?Math.round:jn;function j0(n){n.min=L0(n.min),n.max=L0(n.max)}function HR(n){j0(n.x),j0(n.y)}function sx(n,e,t){return n==="position"||n==="preserve-aspect"&&!Yk(k0(e),k0(t),.2)}function qR(n){return n!==n.root&&n.scroll?.wasRoot}const GR=rx({attachResizeListener:(n,e)=>iu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fp={current:void 0},ix=rx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!fp.current){const n=new GR({});n.mount(window),n.setOptions({layoutScroll:!0}),fp.current=n}return fp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),KR={pan:{Feature:dR},drag:{Feature:hR,ProjectionNode:ix,MeasureLayout:YE}};function F0(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&ot.postRender(()=>a(e,_u(e)))}class QR extends pi{mount(){const{current:e}=this.node;e&&(this.unmount=TC(e,(t,r)=>(F0(this.node,r,"Start"),o=>F0(this.node,o,"End"))))}unmount(){}}class XR extends pi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gu(iu(this.node.current,"focus",()=>this.onFocus()),iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function U0(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&ot.postRender(()=>a(e,_u(e)))}class YR extends pi{mount(){const{current:e}=this.node;e&&(this.unmount=SC(e,(t,r)=>(U0(this.node,r,"Start"),(o,{success:a})=>U0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zp=new WeakMap,pp=new WeakMap,JR=n=>{const e=Zp.get(n.target);e&&e(n)},ZR=n=>{n.forEach(JR)};function eb({root:n,...e}){const t=n||document;pp.has(t)||pp.set(t,{});const r=pp.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(ZR,{root:n,...e})),r[o]}function tb(n,e,t){const r=eb(e);return Zp.set(n,t),r.observe(n),()=>{Zp.delete(n),r.unobserve(n)}}const nb={some:0,all:1};class rb extends pi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:nb[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return tb(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(sb(e,t))&&this.startObserver()}unmount(){}}function sb({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const ib={inView:{Feature:rb},tap:{Feature:YR},focus:{Feature:XR},hover:{Feature:QR}},ob={layout:{ProjectionNode:ix,MeasureLayout:YE}},ab={...Hk,...ib,...KR,...ob},St=ak(ab,wk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ub=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),B0=n=>{const e=ub(n);return e.charAt(0).toUpperCase()+e.slice(1)},ox=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),cb=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...d},f)=>$.createElement("svg",{ref:f,...hb,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:ox("lucide",o),...!a&&!cb(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,g])=>$.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(n,e)=>{const t=$.forwardRef(({className:r,...o},a)=>$.createElement(db,{ref:a,iconNode:e,className:ox(`lucide-${lb(B0(n))}`,`lucide-${n}`,r),...o}));return t.displayName=B0(n),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Na=Lt("arrow-left",fb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mb=Lt("arrow-right",pb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],em=Lt("eye-off",gb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tm=Lt("eye",yb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_b=Lt("grid-3x3",vb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],fg=Lt("heart",wb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Eb=Lt("list",Tb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ib=Lt("log-out",xb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ab=Lt("minus",Sb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cb=Lt("plus",Pb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Rb=Lt("rotate-ccw",kb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ax=Lt("search",bb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Vb=Lt("share-2",Nb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Mb=Lt("shield",Db);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ou=Lt("shopping-bag",Ob);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ql=Lt("star",Lb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Fb=Lt("truck",jb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ta=Lt("user",Ub);function z0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function lx(...n){return e=>{let t=!1;const r=n.map(o=>{const a=z0(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():z0(n[o],null)}}}}function Rh(...n){return $.useCallback(lx(...n),n)}function bh(n){const e=zb(n),t=$.forwardRef((r,o)=>{const{children:a,...u}=r,d=$.Children.toArray(a),f=d.find(Wb);if(f){const p=f.props.children,g=d.map(_=>_===f?$.Children.count(p)>1?$.Children.only(null):$.isValidElement(p)?p.props.children:null:_);return T.jsx(e,{...u,ref:o,children:$.isValidElement(p)?$.cloneElement(p,void 0,g):null})}return T.jsx(e,{...u,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var Bb=bh("Slot");function zb(n){const e=$.forwardRef((t,r)=>{const{children:o,...a}=t;if($.isValidElement(o)){const u=qb(o),d=Hb(a,o.props);return o.type!==$.Fragment&&(d.ref=r?lx(r,u):u),$.cloneElement(o,d)}return $.Children.count(o)>1?$.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var $b=Symbol("radix.slottable");function Wb(n){return $.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$b}function Hb(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function qb(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function ux(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=ux(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function cx(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=ux(n))&&(r&&(r+=" "),r+=e);return r}const $0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,W0=cx,hx=(n,e)=>t=>{var r;if(e?.variants==null)return W0(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(p=>{const g=t?.[p],_=a?.[p];if(g===null)return null;const E=$0(g)||$0(_);return o[p][E]}),d=t&&Object.entries(t).reduce((p,g)=>{let[_,E]=g;return E===void 0||(p[_]=E),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:_,className:E,...P}=g;return Object.entries(P).every(M=>{let[j,b]=M;return Array.isArray(b)?b.includes({...a,...d}[j]):{...a,...d}[j]===b})?[...p,_,E]:p},[]);return W0(n,u,f,t?.class,t?.className)},pg="-",Gb=n=>{const e=Qb(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const d=u.split(pg);return d[0]===""&&d.length!==1&&d.shift(),dx(d,e)||Kb(u)},getConflictingClassGroupIds:(u,d)=>{const f=t[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},dx=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?dx(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(pg);return e.validators.find(({validator:u})=>u(a))?.classGroupId},H0=/^\[(.+)\]$/,Kb=n=>{if(H0.test(n)){const e=H0.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Qb=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)nm(t[o],r,o,e);return r},nm=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:q0(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(Xb(o)){nm(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,u])=>{nm(u,q0(e,a),t,r)})})},q0=(n,e)=>{let t=n;return e.split(pg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Xb=n=>n.isThemeGetter,Yb=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return o(a,u),u},set(a,u){t.has(a)?t.set(a,u):o(a,u)}}},rm="!",sm=":",Jb=sm.length,Zb=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let u=0,d=0,f=0,p;for(let M=0;M<o.length;M++){let j=o[M];if(u===0&&d===0){if(j===sm){a.push(o.slice(f,M)),f=M+Jb;continue}if(j==="/"){p=M;continue}}j==="["?u++:j==="]"?u--:j==="("?d++:j===")"&&d--}const g=a.length===0?o:o.substring(f),_=eN(g),E=_!==g,P=p&&p>f?p-f:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:P}};if(e){const o=e+sm,a=r;r=u=>u.startsWith(o)?a(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},eN=n=>n.endsWith(rm)?n.substring(0,n.length-1):n.startsWith(rm)?n.substring(1):n,tN=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(u=>{u[0]==="["||e[u]?(o.push(...a.sort(),u),a=[]):a.push(u)}),o.push(...a.sort()),o}},nN=n=>({cache:Yb(n.cacheSize),parseClassName:Zb(n),sortModifiers:tN(n),...Gb(n)}),rN=/\s+/,sN=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,u=[],d=n.trim().split(rN);let f="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:_,modifiers:E,hasImportantModifier:P,baseClassName:M,maybePostfixModifierPosition:j}=t(g);if(_){f=g+(f.length>0?" "+f:f);continue}let b=!!j,L=r(b?M.substring(0,j):M);if(!L){if(!b){f=g+(f.length>0?" "+f:f);continue}if(L=r(M),!L){f=g+(f.length>0?" "+f:f);continue}b=!1}const K=a(E).join(":"),H=P?K+rm:K,Z=H+L;if(u.includes(Z))continue;u.push(Z);const re=o(L,b);for(let X=0;X<re.length;++X){const R=re[X];u.push(H+R)}f=g+(f.length>0?" "+f:f)}return f};function iN(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=fx(e))&&(r&&(r+=" "),r+=t);return r}const fx=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=fx(n[r]))&&(t&&(t+=" "),t+=e);return t};function oN(n,...e){let t,r,o,a=u;function u(f){const p=e.reduce((g,_)=>_(g),n());return t=nN(p),r=t.cache.get,o=t.cache.set,a=d,d(f)}function d(f){const p=r(f);if(p)return p;const g=sN(f,t);return o(f,g),g}return function(){return a(iN.apply(null,arguments))}}const Rt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},px=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,aN=/^\d+\/\d+$/,lN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ta=n=>aN.test(n),Me=n=>!!n&&!Number.isNaN(Number(n)),zs=n=>!!n&&Number.isInteger(Number(n)),mp=n=>n.endsWith("%")&&Me(n.slice(0,-1)),es=n=>lN.test(n),fN=()=>!0,pN=n=>uN.test(n)&&!cN.test(n),gx=()=>!1,mN=n=>hN.test(n),gN=n=>dN.test(n),yN=n=>!pe(n)&&!me(n),vN=n=>Va(n,_x,gx),pe=n=>px.test(n),Hi=n=>Va(n,wx,pN),gp=n=>Va(n,xN,Me),G0=n=>Va(n,yx,gx),_N=n=>Va(n,vx,gN),eh=n=>Va(n,Tx,mN),me=n=>mx.test(n),Ol=n=>Da(n,wx),wN=n=>Da(n,IN),K0=n=>Da(n,yx),TN=n=>Da(n,_x),EN=n=>Da(n,vx),th=n=>Da(n,Tx,!0),Va=(n,e,t)=>{const r=px.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Da=(n,e,t=!1)=>{const r=mx.exec(n);return r?r[1]?e(r[1]):t:!1},yx=n=>n==="position"||n==="percentage",vx=n=>n==="image"||n==="url",_x=n=>n==="length"||n==="size"||n==="bg-size",wx=n=>n==="length",xN=n=>n==="number",IN=n=>n==="family-name",Tx=n=>n==="shadow",SN=()=>{const n=Rt("color"),e=Rt("font"),t=Rt("text"),r=Rt("font-weight"),o=Rt("tracking"),a=Rt("leading"),u=Rt("breakpoint"),d=Rt("container"),f=Rt("spacing"),p=Rt("radius"),g=Rt("shadow"),_=Rt("inset-shadow"),E=Rt("text-shadow"),P=Rt("drop-shadow"),M=Rt("blur"),j=Rt("perspective"),b=Rt("aspect"),L=Rt("ease"),K=Rt("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...Z(),me,pe],X=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],I=()=>[me,pe,f],A=()=>[ta,"full","auto",...I()],N=()=>[zs,"none","subgrid",me,pe],V=()=>["auto",{span:["full",zs,me,pe]},zs,me,pe],F=()=>[zs,"auto",me,pe],C=()=>["auto","min","max","fr",me,pe],Ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Qe=()=>["start","end","center","stretch","center-safe","end-safe"],ze=()=>["auto",...I()],xe=()=>[ta,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],Q=()=>[n,me,pe],de=()=>[...Z(),K0,G0,{position:[me,pe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",TN,vN,{size:[me,pe]}],ee=()=>[mp,Ol,Hi],ve=()=>["","none","full",p,me,pe],_e=()=>["",Me,Ol,Hi],Ne=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[Me,mp,K0,G0],je=()=>["","none",M,me,pe],qe=()=>["none",Me,me,pe],_t=()=>["none",Me,me,pe],tr=()=>[Me,me,pe],nr=()=>[ta,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[es],breakpoint:[es],color:[fN],container:[es],"drop-shadow":[es],ease:["in","out","in-out"],font:[yN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[es],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[es],shadow:[es],spacing:["px",Me],text:[es],"text-shadow":[es],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ta,pe,me,b]}],container:["container"],columns:[{columns:[Me,pe,me,d]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[zs,"auto",me,pe]}],basis:[{basis:[ta,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,ta,"auto","initial","none",pe]}],grow:[{grow:["",Me,me,pe]}],shrink:[{shrink:["",Me,me,pe]}],order:[{order:[zs,"first","last","none",me,pe]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Ve(),"normal"]}],"justify-items":[{"justify-items":[...Qe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Qe()]}],"align-content":[{content:["normal",...Ve()]}],"align-items":[{items:[...Qe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Qe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ve()}],"place-items":[{"place-items":[...Qe(),"baseline"]}],"place-self":[{"place-self":["auto",...Qe()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:ze()}],mx:[{mx:ze()}],my:[{my:ze()}],ms:[{ms:ze()}],me:[{me:ze()}],mt:[{mt:ze()}],mr:[{mr:ze()}],mb:[{mb:ze()}],ml:[{ml:ze()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:xe()}],w:[{w:[d,"screen",...xe()]}],"min-w":[{"min-w":[d,"screen","none",...xe()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...xe()]}],h:[{h:["screen","lh",...xe()]}],"min-h":[{"min-h":["screen","lh","none",...xe()]}],"max-h":[{"max-h":["screen","lh",...xe()]}],"font-size":[{text:["base",t,Ol,Hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,me,gp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mp,pe]}],"font-family":[{font:[wN,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,me,pe]}],"line-clamp":[{"line-clamp":[Me,"none",me,gp]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",me,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",me,Hi]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Me,"auto",me,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zs,me,pe],radial:["",me,pe],conic:[zs,me,pe]},EN,_N]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:_e()}],"border-w-x":[{"border-x":_e()}],"border-w-y":[{"border-y":_e()}],"border-w-s":[{"border-s":_e()}],"border-w-e":[{"border-e":_e()}],"border-w-t":[{"border-t":_e()}],"border-w-r":[{"border-r":_e()}],"border-w-b":[{"border-b":_e()}],"border-w-l":[{"border-l":_e()}],"divide-x":[{"divide-x":_e()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":_e()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,me,pe]}],"outline-w":[{outline:["",Me,Ol,Hi]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",g,th,eh]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",_,th,eh]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Me,Hi]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":_e()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",E,th,eh]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Me,me,pe]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[me,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Z()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,pe]}],filter:[{filter:["","none",me,pe]}],blur:[{blur:je()}],brightness:[{brightness:[Me,me,pe]}],contrast:[{contrast:[Me,me,pe]}],"drop-shadow":[{"drop-shadow":["","none",P,th,eh]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Me,me,pe]}],"hue-rotate":[{"hue-rotate":[Me,me,pe]}],invert:[{invert:["",Me,me,pe]}],saturate:[{saturate:[Me,me,pe]}],sepia:[{sepia:["",Me,me,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,pe]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[Me,me,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Me,me,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,me,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,me,pe]}],"backdrop-invert":[{"backdrop-invert":["",Me,me,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Me,me,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Me,me,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,me,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",me,pe]}],ease:[{ease:["linear","initial",L,me,pe]}],delay:[{delay:[Me,me,pe]}],animate:[{animate:["none",K,me,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,me,pe]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:_t()}],"scale-x":[{"scale-x":_t()}],"scale-y":[{"scale-y":_t()}],"scale-z":[{"scale-z":_t()}],"scale-3d":["scale-3d"],skew:[{skew:tr()}],"skew-x":[{"skew-x":tr()}],"skew-y":[{"skew-y":tr()}],transform:[{transform:[me,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:nr()}],"translate-x":[{"translate-x":nr()}],"translate-y":[{"translate-y":nr()}],"translate-z":[{"translate-z":nr()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,pe]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Me,Ol,Hi,gp]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},AN=oN(SN);function An(...n){return AN(cx(n))}const PN=hx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Le({className:n,variant:e,size:t,asChild:r=!1,...o}){const a=r?Bb:"button";return T.jsx(a,{"data-slot":"button",className:An(PN({variant:e,size:t}),n),...o})}function Zs({className:n,type:e="text",...t}){return T.jsx("input",{type:e,"data-slot":"input",className:An("file-foreground placeholder-muted-foreground selection-primary selection-primary-foreground dark-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file-flex file-7 file-0 file-transparent file-sm file-medium disabled-events-none disabled-not-allowed disabled-50 md-sm","focus-visible-ring focus-visible-ring/50 focus-visible-[3px]","aria-invalid-destructive/20 dark-invalid-destructive/40 aria-invalid-destructive",n),...t})}const CN=hx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:ring focus-visible:ring/50 focus-visible:ring-offset-2 transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Qs({className:n,variant:e,asChild:t=!1,...r}){const o=t?$.Fragment:"span";return T.jsx(o,{"data-slot":"badge",className:An(CN({variant:e}),n),...r})}function Xs({className:n,...e}){return T.jsx("div",{"data-slot":"card",className:An("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function Ex({className:n,...e}){return T.jsx("div",{"data-slot":"card-header",className:An("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]-cols-[1fr_auto] [.border-b]-6",n),...e})}function xx({className:n,...e}){return T.jsx("h4",{"data-slot":"card-title",className:An("leading-none",n),...e})}function Ix({className:n,...e}){return T.jsx("p",{"data-slot":"card-description",className:An("text-muted-foreground",n),...e})}function Ys({className:n,...e}){return T.jsx("div",{"data-slot":"card-content",className:An("px-6 [&>*]:mb-6 last:[&>*]:mb-0",n),...e})}const kN="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Sx(n){const[e,t]=$.useState(!1),r=()=>{t(!0)},{src:o,alt:a,style:u,className:d,...f}=n;return e?T.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${d??""}`,style:u,children:T.jsx("div",{className:"flex items-center justify-center w-full h-full",children:T.jsx("img",{src:kN,alt:"Error loading image",...f,"data-original-url":o})})}):T.jsx("img",{src:o,alt:a,className:d,style:u,...f,onError:r})}const RN=()=>{};var Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},bN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,p=f?n[o+2]:0,g=a>>2,_=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,P=p&63;f||(P=64,u||(E=64)),r.push(t[g],t[_],t[E],t[P])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ax(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||p==null||_==null)throw new NN;const E=a<<2|d>>4;if(r.push(E),p!==64){const P=d<<4&240|p>>2;if(r.push(P),_!==64){const M=p<<6&192|_;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VN=function(n){const e=Ax(n);return Px.encodeByteArray(e,!0)},Nh=function(n){return VN(n).replace(/\./g,"")},Cx=function(n){try{return Px.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=()=>DN().__FIREBASE_DEFAULTS__,ON=()=>{if(typeof process>"u"||typeof Q0>"u")return;const n=Q0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Cx(n[1]);return e&&JSON.parse(e)},rd=()=>{try{return RN()||MN()||ON()||LN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kx=n=>rd()?.emulatorHosts?.[n],Rx=n=>{const e=kx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},bx=()=>rd()?.config,Nx=n=>rd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Nh(JSON.stringify(t)),Nh(JSON.stringify(u)),""].join(".")}const Gl={};function FN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?n.emulator.push(e):n.prod.push(e);return n}function UN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let X0=!1;function gg(n,e){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Gl[n]===e||Gl[n]||X0)return;Gl[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=FN().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,P){E.setAttribute("width","24"),E.setAttribute("id",P),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{X0=!0,u()},E}function g(E,P){E.setAttribute("id",P),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=UN(r),P=t("text"),M=document.getElementById(P)||document.createElement("span"),j=t("learnmore"),b=document.getElementById(j)||document.createElement("a"),L=t("preprendIcon"),K=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;d(H),g(b,j);const Z=p();f(K,L),H.append(K,M,b,Z),document.body.appendChild(H)}a?(M.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function zN(){const n=rd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qN(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GN(){return!zN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KN(){try{return typeof indexedDB=="object"}catch{return!1}}function QN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="FirebaseError";class Dr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=XN,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?YN(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Dr(o,d,r)}}function YN(n,e){return n.replace(JN,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const JN=/\{\$([^}]+)}/g;function ZN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function to(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Y0(a)&&Y0(u)){if(!to(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Y0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function e2(n,e){const t=new t2(n,e);return t.subscribe.bind(t)}class t2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");n2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=yp),o.error===void 0&&(o.error=yp),o.complete===void 0&&(o.complete=yp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(n){return n&&n._delegate?n._delegate:n}class ai{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new jN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i2(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s2(n){return n===Gi?void 0:n}function i2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const a2={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},l2=Fe.INFO,u2={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},c2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=u2[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=l2,this._logHandler=c2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const h2=(n,e)=>e.some(t=>n instanceof t);let J0,Z0;function d2(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f2(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dx=new WeakMap,im=new WeakMap,Mx=new WeakMap,vp=new WeakMap,vg=new WeakMap;function p2(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ei(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Dx.set(t,n)}).catch(()=>{}),vg.set(e,n),e}function m2(n){if(im.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});im.set(n,e)}let om={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return im.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Mx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ei(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function g2(n){om=n(om)}function y2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(_p(this),e,...t);return Mx.set(r,e.sort?e.sort():[e]),ei(r)}:f2().includes(n)?function(...e){return n.apply(_p(this),e),ei(Dx.get(this))}:function(...e){return ei(n.apply(_p(this),e))}}function v2(n){return typeof n=="function"?y2(n):(n instanceof IDBTransaction&&m2(n),h2(n,d2())?new Proxy(n,om):n)}function ei(n){if(n instanceof IDBRequest)return p2(n);if(vp.has(n))return vp.get(n);const e=v2(n);return e!==n&&(vp.set(n,e),vg.set(e,n)),e}const _p=n=>vg.get(n);function _2(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=ei(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ei(u.result),f.oldVersion,f.newVersion,ei(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const w2=["get","getKey","getAll","getAllKeys","count"],T2=["put","add","delete","clear"],wp=new Map;function ew(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=T2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||w2.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),o&&f.done]))[0]};return wp.set(e,a),a}g2(n=>({...n,get:(e,t,r)=>ew(e,t)||n.get(e,t,r),has:(e,t)=>!!ew(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(x2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function x2(n){return n.getComponent()?.type==="VERSION"}const am="@firebase/app",tw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new yg("@firebase/app"),I2="@firebase/app-compat",S2="@firebase/analytics-compat",A2="@firebase/analytics",P2="@firebase/app-check-compat",C2="@firebase/app-check",k2="@firebase/auth",R2="@firebase/auth-compat",b2="@firebase/database",N2="@firebase/data-connect",V2="@firebase/database-compat",D2="@firebase/functions",M2="@firebase/functions-compat",O2="@firebase/installations",L2="@firebase/installations-compat",j2="@firebase/messaging",F2="@firebase/messaging-compat",U2="@firebase/performance",B2="@firebase/performance-compat",z2="@firebase/remote-config",$2="@firebase/remote-config-compat",W2="@firebase/storage",H2="@firebase/storage-compat",q2="@firebase/firestore",G2="@firebase/ai",K2="@firebase/firestore-compat",Q2="firebase",X2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",Y2={[am]:"fire-core",[I2]:"fire-core-compat",[A2]:"fire-analytics",[S2]:"fire-analytics-compat",[C2]:"fire-app-check",[P2]:"fire-app-check-compat",[k2]:"fire-auth",[R2]:"fire-auth-compat",[b2]:"fire-rtdb",[N2]:"fire-data-connect",[V2]:"fire-rtdb-compat",[D2]:"fire-fn",[M2]:"fire-fn-compat",[O2]:"fire-iid",[L2]:"fire-iid-compat",[j2]:"fire-fcm",[F2]:"fire-fcm-compat",[U2]:"fire-perf",[B2]:"fire-perf-compat",[z2]:"fire-rc",[$2]:"fire-rc-compat",[W2]:"fire-gcs",[H2]:"fire-gcs-compat",[q2]:"fire-fst",[K2]:"fire-fst-compat",[G2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,J2=new Map,um=new Map;function nw(n,e){try{n.container.addComponent(e)}catch(t){as.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function no(n){const e=n.name;if(um.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,n);for(const t of Vh.values())nw(t,n);for(const t of J2.values())nw(t,n);return!0}function sd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new wu("app","Firebase",Z2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=X2;function Ox(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:lm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ti.create("bad-app-name",{appName:String(o)});if(t||(t=bx()),!t)throw ti.create("no-options");const a=Vh.get(o);if(a){if(to(t,a.options)&&to(r,a.config))return a;throw ti.create("duplicate-app",{appName:o})}const u=new o2(o);for(const f of um.values())u.addComponent(f);const d=new eV(t,r,u);return Vh.set(o,d),d}function _g(n=lm){const e=Vh.get(n);if(!e&&n===lm&&bx())return Ox();if(!e)throw ti.create("no-app",{appName:n});return e}function Sr(n,e,t){let r=Y2[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(u.join(" "));return}no(new ai(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="firebase-heartbeat-database",nV=1,au="firebase-heartbeat-store";let Tp=null;function Lx(){return Tp||(Tp=_2(tV,nV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(au)}catch(t){console.warn(t)}}}}).catch(n=>{throw ti.create("idb-open",{originalErrorMessage:n.message})})),Tp}async function rV(n){try{const t=(await Lx()).transaction(au),r=await t.objectStore(au).get(jx(n));return await t.done,r}catch(e){if(e instanceof Dr)as.warn(e.message);else{const t=ti.create("idb-get",{originalErrorMessage:e?.message});as.warn(t.message)}}}async function rw(n,e){try{const r=(await Lx()).transaction(au,"readwrite");await r.objectStore(au).put(e,jx(n)),await r.done}catch(t){if(t instanceof Dr)as.warn(t.message);else{const r=ti.create("idb-set",{originalErrorMessage:t?.message});as.warn(r.message)}}}function jx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=1024,iV=30;class oV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>iV){const o=uV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){as.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sw(),{heartbeatsToSend:t,unsentEntries:r}=aV(this._heartbeatsCache.heartbeats),o=Nh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return as.warn(e),""}}}function sw(){return new Date().toISOString().substring(0,10)}function aV(n,e=sV){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),iw(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),iw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class lV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KN()?QN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iw(n){return Nh(JSON.stringify({version:2,heartbeats:n})).length}function uV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(n){no(new ai("platform-logger",e=>new E2(e),"PRIVATE")),no(new ai("heartbeat",e=>new oV(e),"PRIVATE")),Sr(am,tw,n),Sr(am,tw,"esm2020"),Sr("fire-js","")}cV("");var hV="firebase",dV="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(hV,dV,"app");function Fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fV=Fx,Ux=new wu("auth","Firebase",Fx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new yg("@firebase/auth");function pV(n,...e){Dh.logLevel<=Fe.WARN&&Dh.warn(`Auth (${lo}): ${n}`,...e)}function mh(n,...e){Dh.logLevel<=Fe.ERROR&&Dh.error(`Auth (${lo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(n,...e){throw wg(n,...e)}function Ar(n,...e){return wg(n,...e)}function Bx(n,e,t){const r={...fV(),[e]:t};return new wu("auth","Firebase",r).create(e,{appName:n.name})}function Zi(n){return Bx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ux.create(n,...e)}function Ce(n,e,...t){if(!n)throw wg(e,...t)}function ns(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mh(e),new Error(e)}function us(n,e){n||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return typeof self<"u"&&self.location?.href||""}function mV(){return ow()==="http:"||ow()==="https:"}function ow(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mV()||WN()||"connection"in navigator)?navigator.onLine:!0}function yV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,us(t>e,"Short delay should be less than long delay!"),this.isMobile=BN()||HN()}get(){return gV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(n,e){us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wV=new Eu(3e4,6e4);function Eg(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ma(n,e,t,r,o={}){return $x(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Tu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return $N()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ao(n.emulatorConfig.host)&&(p.credentials="include"),zx.fetch()(await Wx(n,n.config.apiHost,t,d),p)})}async function $x(n,e,t){n._canInitEmulator=!1;const r={...vV,...e};try{const o=new EV(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw nh(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw nh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw nh(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Bx(n,g,p);ls(n,g)}}catch(o){if(o instanceof Dr)throw o;ls(n,"network-request-failed",{message:String(o)})}}async function TV(n,e,t,r,o={}){const a=await Ma(n,e,t,r,o);return"mfaPendingCredential"in a&&ls(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Wx(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Tg(n.config,o):`${n.config.apiScheme}://${o}`;return _V.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class EV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),wV.get())})}}function nh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Ar(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(n,e){return Ma(n,"POST","/v1/accounts:delete",e)}async function Mh(n,e){return Ma(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IV(n,e=!1){const t=Ht(n),r=await t.getIdToken(e),o=xg(r);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Kl(Ep(o.auth_time)),issuedAtTime:Kl(Ep(o.iat)),expirationTime:Kl(Ep(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ep(n){return Number(n)*1e3}function xg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Cx(t);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function aw(n){const e=xg(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Dr&&SV(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function SV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(n){const e=n.auth,t=await n.getIdToken(),r=await lu(n,Mh(e,{idToken:t}));Ce(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?Hx(o.providerUserInfo):[],u=CV(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,p=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function PV(n){const e=Ht(n);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CV(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Hx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(n,e){const t=await $x(n,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await Wx(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&ao(n.emulatorConfig.host)&&(f.credentials="include"),zx.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RV(n,e){return Ma(n,"POST","/v2/accounts:revokeToken",Eg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=aw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await kV(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new fa;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ce(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new AV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return IV(this,e)}reload(){return PV(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await lu(this,xV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:P,providerData:M,stsTokenManager:j}=t;Ce(_&&j,e,"internal-error");const b=fa.fromJSON(this.name,j);Ce(typeof _=="string",e,"internal-error"),$s(r,e.name),$s(o,e.name),Ce(typeof E=="boolean",e,"internal-error"),Ce(typeof P=="boolean",e,"internal-error"),$s(a,e.name),$s(u,e.name),$s(d,e.name),$s(f,e.name),$s(p,e.name),$s(g,e.name);const L=new Yn({uid:_,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:P,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:b,createdAt:p,lastLoginAt:g});return M&&Array.isArray(M)&&(L.providerData=M.map(K=>({...K}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(e,t,r=!1){const o=new fa;o.updateFromServerResponse(t);const a=new Yn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Oh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Hx(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new fa;d.updateFromIdToken(r);const f=new Yn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;function rs(n){us(n instanceof Function,"Expected a class definition");let e=lw.get(n);return e?(us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qx.type="NONE";const uw=qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(n,e,t){return`firebase:${n}:${e}:${t}`}class pa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,a),this.fullPersistenceKey=gh("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Mh(this.auth,{idToken:e}).catch(()=>{});return t?Yn._fromGetAccountInfoResponse(this.auth,t,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new pa(rs(uw),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||rs(uw);const u=gh(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(u);if(g){let _;if(typeof g=="string"){const E=await Mh(e,{idToken:g}).catch(()=>{});if(!E)break;_=await Yn._fromGetAccountInfoResponse(e,E,g)}else _=Yn._fromJSON(e,g);p!==a&&(d=_),a=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new pa(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new pa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jx(e))return"Blackberry";if(Zx(e))return"Webos";if(Kx(e))return"Safari";if((e.includes("chrome/")||Qx(e))&&!e.includes("edge/"))return"Chrome";if(Yx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Gx(n=nn()){return/firefox\//i.test(n)}function Kx(n=nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qx(n=nn()){return/crios\//i.test(n)}function Xx(n=nn()){return/iemobile/i.test(n)}function Yx(n=nn()){return/android/i.test(n)}function Jx(n=nn()){return/blackberry/i.test(n)}function Zx(n=nn()){return/webos/i.test(n)}function Ig(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bV(n=nn()){return Ig(n)&&!!window.navigator?.standalone}function NV(){return qN()&&document.documentMode===10}function eI(n=nn()){return Ig(n)||Yx(n)||Zx(n)||Jx(n)||/windows phone/i.test(n)||Xx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n,e=[]){let t;switch(n){case"Browser":t=cw(nn());break;case"Worker":t=`${cw(nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(n,e={}){return Ma(n,"GET","/v2/passwordPolicy",Eg(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=6;class OV{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??MV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hw(this),this.idTokenSubscription=new hw(this),this.beforeStateQueue=new VV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Mh(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Zi(this));const t=e?Ht(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DV(this),t=new OV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await RV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rs(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sg(n){return Ht(n)}class hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=e2(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jV(n){Ag=n}function FV(n){return Ag.loadJS(n)}function UV(){return Ag.gapiScript}function BV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(n,e){const t=sd(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(to(a,e??{}))return o;ls(o,"already-initialized")}return t.initialize({options:e})}function $V(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(rs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function WV(n,e,t){const r=Sg(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=nI(e),{host:u,port:d}=HV(e),f=d===null?"":`:${d}`,p={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(to(p,r.config.emulator)&&to(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,ao(u)?(mg(`${a}//${u}${f}`),gg("Auth",!0)):qV()}function nI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HV(n){const e=nI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:dw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:dw(u)}}}function dw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,t){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(n,e){return TV(n,"POST","/v1/accounts:signInWithIdp",Eg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="http://localhost";class ro extends rI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ls("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new ro(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ma(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ma(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ma(e,t)}buildRequest(){const e={requestUri:GV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends sI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends xu{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ro._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qs.credential(t,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends xu{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends xu{constructor(){super("twitter.com")}static credential(e,t){return ro._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ks.credential(t,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Yn._fromIdTokenResponse(e,r,o),u=fw(r);return new Ea({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=fw(r);return new Ea({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function fw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Dr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Lh(e,t,r,o)}}function iI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(n,a,e,r):a})}async function KV(n,e,t=!1){const r=await lu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ea._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(n,e,t=!1){const{auth:r}=n;if(Xn(r.app))return Promise.reject(Zi(r));const o="reauthenticate";try{const a=await lu(n,iI(r,o,e,n),t);Ce(a.idToken,r,"internal-error");const u=xg(a.idToken);Ce(u,r,"internal-error");const{sub:d}=u;return Ce(n.uid===d,r,"user-mismatch"),Ea._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&ls(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(n,e,t=!1){if(Xn(n.app))return Promise.reject(Zi(n));const r="signIn",o=await iI(n,r,e),a=await Ea._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function YV(n,e,t,r){return Ht(n).onIdTokenChanged(e,t,r)}function JV(n,e,t){return Ht(n).beforeAuthStateChanged(e,t)}function ZV(n){return Ht(n).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=1e3,tD=10;class aI extends oI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);NV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tD):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aI.type="LOCAL";const nD=aI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends oI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lI.type="SESSION";const uI=lI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new id(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await rD(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=Pg("",20);o.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function iD(n){Pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function oD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aD(){return navigator?.serviceWorker?.controller||null}function lD(){return cI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebaseLocalStorageDb",uD=1,Fh="firebaseLocalStorage",dI="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function od(n,e){return n.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function cD(){const n=indexedDB.deleteDatabase(hI);return new Iu(n).toPromise()}function dm(){const n=indexedDB.open(hI,uD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fh,{keyPath:dI})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await cD(),e(await dm()))})})}async function pw(n,e,t){const r=od(n,!0).put({[dI]:e,value:t});return new Iu(r).toPromise()}async function hD(n,e){const t=od(n,!1).get(e),r=await new Iu(t).toPromise();return r===void 0?null:r.value}function mw(n,e){const t=od(n,!0).delete(e);return new Iu(t).toPromise()}const dD=800,fD=3;class fI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>fD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(lD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oD(),!this.activeServiceWorker)return;this.sender=new sD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await pw(e,jh,"1"),await mw(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>pw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>hD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=od(o,!1).getAll();return new Iu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fI.type="LOCAL";const pD=fI;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n,e){return e?rs(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends rI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ma(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gD(n){return XV(n.auth,new Cg(n),n.bypassAuthState)}function yD(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),QV(t,new Cg(n),n.bypassAuthState)}async function vD(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),KV(t,new Cg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gD;case"linkViaPopup":case"linkViaRedirect":return vD;case"reauthViaPopup":case"reauthViaRedirect":return yD;default:ls(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new Eu(2e3,1e4);class ha extends pI{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=Pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_D.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="pendingRedirect",yh=new Map;class TD extends pI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const r=await ED(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ED(n,e){const t=SD(e),r=ID(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function xD(n,e){yh.set(n._key(),e)}function ID(n){return rs(n._redirectPersistence)}function SD(n){return gh(wD,n.config.apiKey,n.name)}async function AD(n,e,t=!1){if(Xn(n.app))return Promise.reject(Zi(n));const r=Sg(n),o=mD(r,e),u=await new TD(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=600*1e3;class CD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!mI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ar(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PD&&this.cachedEventUids.clear(),this.cachedEventUids.has(gw(e))}saveEventToCache(e){this.cachedEventUids.add(gw(e)),this.lastProcessedEventTime=Date.now()}}function gw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function kD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(n,e={}){return Ma(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ND=/^https?/;async function VD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RD(n);for(const t of e)try{if(DD(t))return}catch{}ls(n,"unauthorized-domain")}function DD(n){const e=cm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!ND.test(t))return!1;if(bD.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Eu(3e4,6e4);function yw(){const n=Pr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OD(n){return new Promise((e,t)=>{function r(){yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yw(),t(Ar(n,"network-request-failed"))},timeout:MD.get()})}if(Pr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pr().gapi?.load)r();else{const o=BV("iframefcb");return Pr()[o]=()=>{gapi.load?r():t(Ar(n,"network-request-failed"))},FV(`${UV()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw vh=null,e})}let vh=null;function LD(n){return vh=vh||OD(n),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new Eu(5e3,15e3),FD="__/auth/iframe",UD="emulator/auth/iframe",BD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $D(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tg(e,UD):`https://${n.config.authDomain}/${FD}`,r={apiKey:e.apiKey,appName:n.name,v:lo},o=zD.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Tu(r).slice(1)}`}async function WD(n){const e=await LD(n),t=Pr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:$D(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BD,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ar(n,"network-request-failed"),d=Pr().setTimeout(()=>{a(u)},jD.get());function f(){Pr().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qD=500,GD=600,KD="_blank",QD="http://localhost";class vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XD(n,e,t,r=qD,o=GD){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...HD,width:r.toString(),height:o.toString(),top:a,left:u},p=nn().toLowerCase();t&&(d=Qx(p)?KD:t),Gx(p)&&(e=e||QD,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[P,M])=>`${E}${P}=${M},`,"");if(bV(p)&&d!=="_self")return YD(e||"",d),new vw(null);const _=window.open(e||"",d,g);Ce(_,n,"popup-blocked");try{_.focus()}catch{}return new vw(_)}function YD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="__/auth/handler",ZD="emulator/auth/handler",eM=encodeURIComponent("fac");async function _w(n,e,t,r,o,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:lo,eventId:o};if(e instanceof sI){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",ZN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof xu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),p=f?`#${eM}=${encodeURIComponent(f)}`:"";return`${tM(n)}?${Tu(d).slice(1)}${p}`}function tM({config:n}){return n.emulator?Tg(n,ZD):`https://${n.authDomain}/${JD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="webStorageSupport";class nM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uI,this._completeRedirectFn=AD,this._overrideRedirectResult=xD}async _openPopup(e,t,r,o){us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await _w(e,t,r,cm(),o);return XD(e,a,Pg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await _w(e,t,r,cm(),o);return iD(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(us(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await WD(e),r=new CD(e);return t.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xp,{type:xp},o=>{const a=o?.[0]?.[xp];a!==void 0&&t(!!a),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eI()||Kx()||Ig()}}const rM=nM;var ww="@firebase/auth",Tw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oM(n){no(new ai("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tI(n)},p=new LV(r,o,a,f);return $V(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),no(new ai("auth-internal",e=>{const t=Sg(e.getProvider("auth").getImmediate());return(r=>new sM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(ww,Tw,iM(n)),Sr(ww,Tw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=300,lM=Nx("authIdTokenMaxAge")||aM;let Ew=null;const uM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>lM)return;const o=t?.token;Ew!==o&&(Ew=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cM(n=_g()){const e=sd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zV(n,{popupRedirectResolver:rM,persistence:[pD,nD,uI]}),r=Nx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=uM(a.toString());JV(t,u,()=>u(t.currentUser)),YV(t,d=>u(d))}}const o=kx("auth");return o&&WV(t,`http://${o}`),t}function hM(){return document.getElementsByTagName("head")?.[0]??document}jV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Ar("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",hM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oM("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebasestorage.googleapis.com",dM="storageBucket",fM=120*1e3,pM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Dr{constructor(e,t,r=0){super(Ip(e),`Firebase Storage: ${t} (${Ip(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ip(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nr||(Nr={}));function Ip(n){return"storage/"+n}function mM(){const n="An unknown error occurred, please check the error payload for server response.";return new Mr(Nr.UNKNOWN,n)}function gM(){return new Mr(Nr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yM(){return new Mr(Nr.CANCELED,"User canceled the upload/download.")}function vM(n){return new Mr(Nr.INVALID_URL,"Invalid URL '"+n+"'.")}function _M(n){return new Mr(Nr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function xw(n){return new Mr(Nr.INVALID_ARGUMENT,n)}function yI(){return new Mr(Nr.APP_DELETED,"The Firebase app was deleted.")}function wM(n){return new Mr(Nr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Jn.makeFromUrl(e,t)}catch{return new Jn(e,"")}if(r.path==="")return r;throw _M(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function p(Z){Z.path_=decodeURIComponent(Z.path)}const g="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",P=new RegExp(`^https?://${_}/${g}/b/${o}/o${E}`,"i"),M={bucket:1,path:3},j=t===gI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",L=new RegExp(`^https?://${j}/${o}/${b}`,"i"),H=[{regex:d,indices:f,postModify:a},{regex:P,indices:M,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let Z=0;Z<H.length;Z++){const re=H[Z],X=re.regex.exec(e);if(X){const R=X[re.indices.bucket];let I=X[re.indices.path];I||(I=""),r=new Jn(R,I),re.postModify(r);break}}if(r==null)throw vM(e);return r}}class TM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(n,e,t){let r=1,o=null,a=null,u=!1,d=0;function f(){return d===2}let p=!1;function g(...b){p||(p=!0,e.apply(null,b))}function _(b){o=setTimeout(()=>{o=null,n(P,f())},b)}function E(){a&&clearTimeout(a)}function P(b,...L){if(p){E();return}if(b){E(),g.call(null,b,...L);return}if(f()||u){E(),g.call(null,b,...L);return}r<64&&(r*=2);let H;d===1?(d=2,H=0):H=(r+Math.random())*1e3,_(H)}let M=!1;function j(b){M||(M=!0,E(),!p&&(o!==null?(b||(d=2),clearTimeout(o),_(0)):b||(d=1)))}return _(0),a=setTimeout(()=>{u=!0,j(!0)},t),j}function xM(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(n){return n!==void 0}function Iw(n,e,t,r){if(r<e)throw xw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw xw(`Invalid value for '${n}'. Expected ${t} or less.`)}function SM(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Uh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Uh||(Uh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t,r,o,a,u,d,f,p,g,_,E=!0,P=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,j)=>{this.resolve_=M,this.reject_=j,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new rh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Uh.NO_ERROR,f=a.getStatus();if(!d||AM(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Uh.ABORT;r(!1,new rh(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new rh(p,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());IM(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=mM();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(o.canceled){const f=this.appDelete_?yI():yM();u(f)}else{const f=gM();u(f)}};this.canceled_?t(!1,new rh(!1,null,!0)):this.backoffId_=EM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function CM(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function kM(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RM(n,e){e&&(n["X-Firebase-GMPID"]=e)}function bM(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function NM(n,e,t,r,o,a,u=!0,d=!1){const f=SM(n.urlParams),p=n.url+f,g=Object.assign({},n.headers);return RM(g,e),CM(g,t),kM(g,a),bM(g,r),new PM(p,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function DM(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this._service=e,t instanceof Jn?this._location=t:this._location=Jn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bh(e,t)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DM(this._location.path)}get storage(){return this._service}get parent(){const e=VM(this._location.path);if(e===null)return null;const t=new Jn(this._location.bucket,e);return new Bh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw wM(e)}}function Sw(n,e){const t=e?.[dM];return t==null?null:Jn.makeFromBucketSpec(t,n)}function MM(n,e,t,r={}){n.host=`${e}:${t}`;const o=ao(e);o&&(mg(`https://${n.host}/b`),gg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Vx(a,n.app.options.projectId))}class OM{constructor(e,t,r,o,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=gI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fM,this._maxUploadRetryTime=pM,this._requests=new Set,o!=null?this._bucket=Jn.makeFromBucketSpec(o,this._host):this._bucket=Sw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=Sw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Iw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Iw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bh(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new TM(yI());{const u=NM(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const Aw="@firebase/storage",Pw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="storage";function LM(n=_g(),e){n=Ht(n);const r=sd(n,vI).getImmediate({identifier:e}),o=Rx("storage");return o&&jM(r,...o),r}function jM(n,e,t,r={}){MM(n,e,t,r)}function FM(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new OM(t,r,o,e,lo)}function UM(){no(new ai(vI,FM,"PUBLIC").setMultipleInstances(!0)),Sr(Aw,Pw,""),Sr(Aw,Pw,"esm2020")}UM();var Cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,_I;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function A(){}A.prototype=I.prototype,R.F=I.prototype,R.prototype=new A,R.prototype.constructor=R,R.D=function(N,V,F){for(var C=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)C[Ve-2]=arguments[Ve];return I.prototype[V].apply(N,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,I,A){A||(A=0);const N=Array(16);if(typeof I=="string")for(var V=0;V<16;++V)N[V]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(V=0;V<16;++V)N[V]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=R.g[0],A=R.g[1],V=R.g[2];let F=R.g[3],C;C=I+(F^A&(V^F))+N[0]+3614090360&4294967295,I=A+(C<<7&4294967295|C>>>25),C=F+(V^I&(A^V))+N[1]+3905402710&4294967295,F=I+(C<<12&4294967295|C>>>20),C=V+(A^F&(I^A))+N[2]+606105819&4294967295,V=F+(C<<17&4294967295|C>>>15),C=A+(I^V&(F^I))+N[3]+3250441966&4294967295,A=V+(C<<22&4294967295|C>>>10),C=I+(F^A&(V^F))+N[4]+4118548399&4294967295,I=A+(C<<7&4294967295|C>>>25),C=F+(V^I&(A^V))+N[5]+1200080426&4294967295,F=I+(C<<12&4294967295|C>>>20),C=V+(A^F&(I^A))+N[6]+2821735955&4294967295,V=F+(C<<17&4294967295|C>>>15),C=A+(I^V&(F^I))+N[7]+4249261313&4294967295,A=V+(C<<22&4294967295|C>>>10),C=I+(F^A&(V^F))+N[8]+1770035416&4294967295,I=A+(C<<7&4294967295|C>>>25),C=F+(V^I&(A^V))+N[9]+2336552879&4294967295,F=I+(C<<12&4294967295|C>>>20),C=V+(A^F&(I^A))+N[10]+4294925233&4294967295,V=F+(C<<17&4294967295|C>>>15),C=A+(I^V&(F^I))+N[11]+2304563134&4294967295,A=V+(C<<22&4294967295|C>>>10),C=I+(F^A&(V^F))+N[12]+1804603682&4294967295,I=A+(C<<7&4294967295|C>>>25),C=F+(V^I&(A^V))+N[13]+4254626195&4294967295,F=I+(C<<12&4294967295|C>>>20),C=V+(A^F&(I^A))+N[14]+2792965006&4294967295,V=F+(C<<17&4294967295|C>>>15),C=A+(I^V&(F^I))+N[15]+1236535329&4294967295,A=V+(C<<22&4294967295|C>>>10),C=I+(V^F&(A^V))+N[1]+4129170786&4294967295,I=A+(C<<5&4294967295|C>>>27),C=F+(A^V&(I^A))+N[6]+3225465664&4294967295,F=I+(C<<9&4294967295|C>>>23),C=V+(I^A&(F^I))+N[11]+643717713&4294967295,V=F+(C<<14&4294967295|C>>>18),C=A+(F^I&(V^F))+N[0]+3921069994&4294967295,A=V+(C<<20&4294967295|C>>>12),C=I+(V^F&(A^V))+N[5]+3593408605&4294967295,I=A+(C<<5&4294967295|C>>>27),C=F+(A^V&(I^A))+N[10]+38016083&4294967295,F=I+(C<<9&4294967295|C>>>23),C=V+(I^A&(F^I))+N[15]+3634488961&4294967295,V=F+(C<<14&4294967295|C>>>18),C=A+(F^I&(V^F))+N[4]+3889429448&4294967295,A=V+(C<<20&4294967295|C>>>12),C=I+(V^F&(A^V))+N[9]+568446438&4294967295,I=A+(C<<5&4294967295|C>>>27),C=F+(A^V&(I^A))+N[14]+3275163606&4294967295,F=I+(C<<9&4294967295|C>>>23),C=V+(I^A&(F^I))+N[3]+4107603335&4294967295,V=F+(C<<14&4294967295|C>>>18),C=A+(F^I&(V^F))+N[8]+1163531501&4294967295,A=V+(C<<20&4294967295|C>>>12),C=I+(V^F&(A^V))+N[13]+2850285829&4294967295,I=A+(C<<5&4294967295|C>>>27),C=F+(A^V&(I^A))+N[2]+4243563512&4294967295,F=I+(C<<9&4294967295|C>>>23),C=V+(I^A&(F^I))+N[7]+1735328473&4294967295,V=F+(C<<14&4294967295|C>>>18),C=A+(F^I&(V^F))+N[12]+2368359562&4294967295,A=V+(C<<20&4294967295|C>>>12),C=I+(A^V^F)+N[5]+4294588738&4294967295,I=A+(C<<4&4294967295|C>>>28),C=F+(I^A^V)+N[8]+2272392833&4294967295,F=I+(C<<11&4294967295|C>>>21),C=V+(F^I^A)+N[11]+1839030562&4294967295,V=F+(C<<16&4294967295|C>>>16),C=A+(V^F^I)+N[14]+4259657740&4294967295,A=V+(C<<23&4294967295|C>>>9),C=I+(A^V^F)+N[1]+2763975236&4294967295,I=A+(C<<4&4294967295|C>>>28),C=F+(I^A^V)+N[4]+1272893353&4294967295,F=I+(C<<11&4294967295|C>>>21),C=V+(F^I^A)+N[7]+4139469664&4294967295,V=F+(C<<16&4294967295|C>>>16),C=A+(V^F^I)+N[10]+3200236656&4294967295,A=V+(C<<23&4294967295|C>>>9),C=I+(A^V^F)+N[13]+681279174&4294967295,I=A+(C<<4&4294967295|C>>>28),C=F+(I^A^V)+N[0]+3936430074&4294967295,F=I+(C<<11&4294967295|C>>>21),C=V+(F^I^A)+N[3]+3572445317&4294967295,V=F+(C<<16&4294967295|C>>>16),C=A+(V^F^I)+N[6]+76029189&4294967295,A=V+(C<<23&4294967295|C>>>9),C=I+(A^V^F)+N[9]+3654602809&4294967295,I=A+(C<<4&4294967295|C>>>28),C=F+(I^A^V)+N[12]+3873151461&4294967295,F=I+(C<<11&4294967295|C>>>21),C=V+(F^I^A)+N[15]+530742520&4294967295,V=F+(C<<16&4294967295|C>>>16),C=A+(V^F^I)+N[2]+3299628645&4294967295,A=V+(C<<23&4294967295|C>>>9),C=I+(V^(A|~F))+N[0]+4096336452&4294967295,I=A+(C<<6&4294967295|C>>>26),C=F+(A^(I|~V))+N[7]+1126891415&4294967295,F=I+(C<<10&4294967295|C>>>22),C=V+(I^(F|~A))+N[14]+2878612391&4294967295,V=F+(C<<15&4294967295|C>>>17),C=A+(F^(V|~I))+N[5]+4237533241&4294967295,A=V+(C<<21&4294967295|C>>>11),C=I+(V^(A|~F))+N[12]+1700485571&4294967295,I=A+(C<<6&4294967295|C>>>26),C=F+(A^(I|~V))+N[3]+2399980690&4294967295,F=I+(C<<10&4294967295|C>>>22),C=V+(I^(F|~A))+N[10]+4293915773&4294967295,V=F+(C<<15&4294967295|C>>>17),C=A+(F^(V|~I))+N[1]+2240044497&4294967295,A=V+(C<<21&4294967295|C>>>11),C=I+(V^(A|~F))+N[8]+1873313359&4294967295,I=A+(C<<6&4294967295|C>>>26),C=F+(A^(I|~V))+N[15]+4264355552&4294967295,F=I+(C<<10&4294967295|C>>>22),C=V+(I^(F|~A))+N[6]+2734768916&4294967295,V=F+(C<<15&4294967295|C>>>17),C=A+(F^(V|~I))+N[13]+1309151649&4294967295,A=V+(C<<21&4294967295|C>>>11),C=I+(V^(A|~F))+N[4]+4149444226&4294967295,I=A+(C<<6&4294967295|C>>>26),C=F+(A^(I|~V))+N[11]+3174756917&4294967295,F=I+(C<<10&4294967295|C>>>22),C=V+(I^(F|~A))+N[2]+718787259&4294967295,V=F+(C<<15&4294967295|C>>>17),C=A+(F^(V|~I))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,I){I===void 0&&(I=R.length);const A=I-this.blockSize,N=this.C;let V=this.h,F=0;for(;F<I;){if(V==0)for(;F<=A;)o(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<I;)if(N[V++]=R.charCodeAt(F++),V==this.blockSize){o(this,N),V=0;break}}else for(;F<I;)if(N[V++]=R[F++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=I},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var A=R.length-8;A<R.length;++A)R[A]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,A=0;A<4;++A)for(let N=0;N<32;N+=8)R[I++]=this.g[A]>>>N&255;return R};function a(R,I){var A=d;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=I(R)}function u(R,I){this.h=I;const A=[];let N=!0;for(let V=R.length-1;V>=0;V--){const F=R[V]|0;N&&F==I||(A[V]=F,N=!1)}this.g=A}var d={};function f(R){return-128<=R&&R<128?a(R,function(I){return new u([I|0],I<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return b(p(-R));const I=[];let A=1;for(let N=0;R>=A;N++)I[N]=R/A|0,A*=4294967296;return new u(I,0)}function g(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return b(g(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(I,8));let N=_;for(let F=0;F<R.length;F+=8){var V=Math.min(8,R.length-F);const C=parseInt(R.substring(F,F+V),I);V<8?(V=p(Math.pow(I,V)),N=N.j(V).add(p(C))):(N=N.j(A),N=N.add(p(C)))}return N}var _=f(0),E=f(1),P=f(16777216);n=u.prototype,n.m=function(){if(j(this))return-b(this).m();let R=0,I=1;for(let A=0;A<this.g.length;A++){const N=this.i(A);R+=(N>=0?N:4294967296+N)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(M(this))return"0";if(j(this))return"-"+b(this).toString(R);const I=p(Math.pow(R,6));var A=this;let N="";for(;;){const V=Z(A,I).g;A=L(A,V.j(I));let F=((A.g.length>0?A.g[0]:A.h)>>>0).toString(R);if(A=V,M(A))return F+N;for(;F.length<6;)F="0"+F;N=F+N}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function M(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function j(R){return R.h==-1}n.l=function(R){return R=L(this,R),j(R)?-1:M(R)?0:1};function b(R){const I=R.g.length,A=[];for(let N=0;N<I;N++)A[N]=~R.g[N];return new u(A,~R.h).add(E)}n.abs=function(){return j(this)?b(this):this},n.add=function(R){const I=Math.max(this.g.length,R.g.length),A=[];let N=0;for(let V=0;V<=I;V++){let F=N+(this.i(V)&65535)+(R.i(V)&65535),C=(F>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);N=C>>>16,F&=65535,C&=65535,A[V]=C<<16|F}return new u(A,A[A.length-1]&-2147483648?-1:0)};function L(R,I){return R.add(b(I))}n.j=function(R){if(M(this)||M(R))return _;if(j(this))return j(R)?b(this).j(b(R)):b(b(this).j(R));if(j(R))return b(this.j(b(R)));if(this.l(P)<0&&R.l(P)<0)return p(this.m()*R.m());const I=this.g.length+R.g.length,A=[];for(var N=0;N<2*I;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(let V=0;V<R.g.length;V++){const F=this.i(N)>>>16,C=this.i(N)&65535,Ve=R.i(V)>>>16,Qe=R.i(V)&65535;A[2*N+2*V]+=C*Qe,K(A,2*N+2*V),A[2*N+2*V+1]+=F*Qe,K(A,2*N+2*V+1),A[2*N+2*V+1]+=C*Ve,K(A,2*N+2*V+1),A[2*N+2*V+2]+=F*Ve,K(A,2*N+2*V+2)}for(R=0;R<I;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=I;R<2*I;R++)A[R]=0;return new u(A,0)};function K(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function H(R,I){this.g=R,this.h=I}function Z(R,I){if(M(I))throw Error("division by zero");if(M(R))return new H(_,_);if(j(R))return I=Z(b(R),I),new H(b(I.g),b(I.h));if(j(I))return I=Z(R,b(I)),new H(b(I.g),I.h);if(R.g.length>30){if(j(R)||j(I))throw Error("slowDivide_ only works with positive integers.");for(var A=E,N=I;N.l(R)<=0;)A=re(A),N=re(N);var V=X(A,1),F=X(N,1);for(N=X(N,2),A=X(A,2);!M(N);){var C=F.add(N);C.l(R)<=0&&(V=V.add(A),F=C),N=X(N,1),A=X(A,1)}return I=L(R,V.j(I)),new H(V,I)}for(V=_;R.l(I)>=0;){for(A=Math.max(1,Math.floor(R.m()/I.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),F=p(A),C=F.j(I);j(C)||C.l(R)>0;)A-=N,F=p(A),C=F.j(I);M(F)&&(F=E),V=V.add(F),R=L(R,C)}return new H(V,R)}n.B=function(R){return Z(this,R).h},n.and=function(R){const I=Math.max(this.g.length,R.g.length),A=[];for(let N=0;N<I;N++)A[N]=this.i(N)&R.i(N);return new u(A,this.h&R.h)},n.or=function(R){const I=Math.max(this.g.length,R.g.length),A=[];for(let N=0;N<I;N++)A[N]=this.i(N)|R.i(N);return new u(A,this.h|R.h)},n.xor=function(R){const I=Math.max(this.g.length,R.g.length),A=[];for(let N=0;N<I;N++)A[N]=this.i(N)^R.i(N);return new u(A,this.h^R.h)};function re(R){const I=R.g.length+1,A=[];for(let N=0;N<I;N++)A[N]=R.i(N)<<1|R.i(N-1)>>>31;return new u(A,R.h)}function X(R,I){const A=I>>5;I%=32;const N=R.g.length-A,V=[];for(let F=0;F<N;F++)V[F]=I>0?R.i(F+A)>>>I|R.i(F+A+1)<<32-I:R.i(F+A);return new u(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_I=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,ni=u}).apply(typeof Cw<"u"?Cw:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wI,jl,TI,_h,fm,EI,xI,II;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var v=0;v<c.length;++v){var w=c[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function o(c,v){if(v)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in w))break e;w=w[z]}c=c[c.length-1],S=w[c],v=v(S),v!=S&&v!=null&&e(w,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var w=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&w.push([S,v[S]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function f(c,v,w){return c.call.apply(c.bind,arguments)}function p(c,v,w){return p=f,p.apply(null,arguments)}function g(c,v){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function _(c,v){function w(){}w.prototype=v.prototype,c.Z=v.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(S,z,G){for(var oe=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)oe[Re-2]=arguments[Re];return v.prototype[z].apply(S,oe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const v=c.length;if(v>0){const w=Array(v);for(let S=0;S<v;S++)w[S]=c[S];return w}return[]}function M(c,v){for(let S=1;S<arguments.length;S++){const z=arguments[S];var w=typeof z;if(w=w!="object"?w:z?Array.isArray(z)?"array":w:"null",w=="array"||w=="object"&&typeof z.length=="number"){w=c.length||0;const G=z.length||0;c.length=w+G;for(let oe=0;oe<G;oe++)c[w+oe]=z[oe]}else c.push(z)}}class j{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(c){u.setTimeout(()=>{throw c},0)}function L(){var c=R;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,w){const S=H.get();S.set(v,w),this.h?this.h.next=S:this.g=S,this.h=S}}var H=new j(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let re,X=!1,R=new K,I=()=>{const c=Promise.resolve(void 0);re=()=>{c.then(A)}};function A(){for(var c;c=L();){try{c.h.call(c.g)}catch(w){b(w)}var v=H;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}X=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ve(c,v){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}_(Ve,V),Ve.prototype.init=function(c,v){const w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(w=="mouseover"?v=c.fromElement:w=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),ze=0;function xe(c,v,w,S,z){this.listener=c,this.proxy=null,this.src=v,this.type=w,this.capture=!!S,this.ha=z,this.key=++ze,this.da=this.fa=!1}function Q(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function de(c,v,w){for(const S in c)v.call(w,c[S],S,c)}function ae(c,v){for(const w in c)v.call(void 0,c[w],w,c)}function U(c){const v={};for(const w in c)v[w]=c[w];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(c,v){let w,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(w in S)c[w]=S[w];for(let G=0;G<ee.length;G++)w=ee[G],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function _e(c){this.src=c,this.g={},this.h=0}_e.prototype.add=function(c,v,w,S,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=De(c,v,S,z);return oe>-1?(v=c[oe],w||(v.fa=!1)):(v=new xe(v,this.src,G,!!S,z),v.fa=w,c.push(v)),v};function Ne(c,v){const w=v.type;if(w in c.g){var S=c.g[w],z=Array.prototype.indexOf.call(S,v,void 0),G;(G=z>=0)&&Array.prototype.splice.call(S,z,1),G&&(Q(v),c.g[w].length==0&&(delete c.g[w],c.h--))}}function De(c,v,w,S){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==v&&G.capture==!!w&&G.ha==S)return z}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),je={};function qe(c,v,w,S,z){if(Array.isArray(v)){for(let G=0;G<v.length;G++)qe(c,v[G],w,S,z);return null}return w=Ba(w),c&&c[Qe]?c.J(v,w,d(S)?!!S.capture:!1,z):_t(c,v,w,!1,S,z)}function _t(c,v,w,S,z,G){if(!v)throw Error("Invalid event type");const oe=d(z)?!!z.capture:!!z;let Re=mo(c);if(Re||(c[Ie]=Re=new _e(c)),w=Re.add(v,w,S,oe,G),w.proxy)return w;if(S=tr(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)F||(z=oe),z===void 0&&(z=!1),c.addEventListener(v.toString(),S,z);else if(c.attachEvent)c.attachEvent(po(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function tr(){function c(w){return v.call(c.src,c.listener,w)}const v=Mu;return c}function nr(c,v,w,S,z){if(Array.isArray(v))for(var G=0;G<v.length;G++)nr(c,v[G],w,S,z);else S=d(S)?!!S.capture:!!S,w=Ba(w),c&&c[Qe]?(c=c.i,G=String(v).toString(),G in c.g&&(v=c.g[G],w=De(v,w,S,z),w>-1&&(Q(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete c.g[G],c.h--)))):c&&(c=mo(c))&&(v=c.g[v.toString()],c=-1,v&&(c=De(v,w,S,z)),(w=c>-1?v[c]:null)&&ds(w))}function ds(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Qe])Ne(v.i,c);else{var w=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(w,S,c.capture):v.detachEvent?v.detachEvent(po(w),S):v.addListener&&v.removeListener&&v.removeListener(S),(w=mo(v))?(Ne(w,c),w.h==0&&(w.src=null,v[Ie]=null)):Q(c)}}}function po(c){return c in je?je[c]:je[c]="on"+c}function Mu(c,v){if(c.da)c=!0;else{v=new Ve(v,this);const w=c.listener,S=c.ha||c.src;c.fa&&ds(c),c=w.call(S,v)}return c}function mo(c){return c=c[Ie],c instanceof _e?c:null}var yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ba(c){return typeof c=="function"?c:(c[yi]||(c[yi]=function(v){return c.handleEvent(v)}),c[yi])}function wt(){N.call(this),this.i=new _e(this),this.M=this,this.G=null}_(wt,N),wt.prototype[Qe]=!0,wt.prototype.removeEventListener=function(c,v,w,S){nr(this,c,v,w,S)};function pt(c,v){var w,S=c.G;if(S)for(w=[];S;S=S.G)w.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new V(v,c);else if(v instanceof V)v.target=v.target||c;else{var z=v;v=new V(S,c),ve(v,z)}z=!0;let G,oe;if(w)for(oe=w.length-1;oe>=0;oe--)G=v.g=w[oe],z=Fn(G,S,!0,v)&&z;if(G=v.g=c,z=Fn(G,S,!0,v)&&z,z=Fn(G,S,!1,v)&&z,w)for(oe=0;oe<w.length;oe++)G=v.g=w[oe],z=Fn(G,S,!1,v)&&z}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const w=c.g[v];for(let S=0;S<w.length;S++)Q(w[S]);delete c.g[v],c.h--}}this.G=null},wt.prototype.J=function(c,v,w,S){return this.i.add(String(c),v,!1,w,S)},wt.prototype.K=function(c,v,w,S){return this.i.add(String(c),v,!0,w,S)};function Fn(c,v,w,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let z=!0;for(let G=0;G<v.length;++G){const oe=v[G];if(oe&&!oe.da&&oe.capture==w){const Re=oe.listener,mt=oe.ha||oe.src;oe.fa&&Ne(c.i,oe),z=Re.call(mt,S)!==!1&&z}}return z&&!S.defaultPrevented}function za(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(c,v||0)}function $a(c){c.g=za(()=>{c.g=null,c.i&&(c.i=!1,$a(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Ou extends N{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$a(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){N.call(this),this.h=c,this.g={}}_(fs,N);var Wa=[];function go(c){de(c.g,function(v,w){this.g.hasOwnProperty(w)&&ds(v)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),go(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=u.JSON.stringify,Lu=u.JSON.parse,vi=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function ms(){}function ju(){}var gs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yo(){V.call(this,"d")}_(yo,V);function Ha(){V.call(this,"c")}_(Ha,V);var Un={},vo=null;function ys(){return vo=vo||new wt}Un.Ia="serverreachability";function _o(c){V.call(this,Un.Ia,c)}_(_o,V);function Or(c){const v=ys();pt(v,new _o(v))}Un.STAT_EVENT="statevent";function Lr(c,v){V.call(this,Un.STAT_EVENT,c),this.stat=v}_(Lr,V);function ht(c){const v=ys();pt(v,new Lr(v,c))}Un.Ja="timingevent";function qa(c,v){V.call(this,Un.Ja,c),this.size=v}_(qa,V);function vs(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},v)}function _s(){this.g=!0}_s.prototype.ua=function(){this.g=!1};function Fu(c,v,w,S,z,G){c.info(function(){if(c.g)if(G){var oe="",Re=G.split("&");for(let Ye=0;Ye<Re.length;Ye++){var mt=Re[Ye].split("=");if(mt.length>1){const Tt=mt[0];mt=mt[1];const Tn=Tt.split("_");oe=Tn.length>=2&&Tn[1]=="type"?oe+(Tt+"="+mt+"&"):oe+(Tt+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+v+`
`+w+`
`+oe})}function Uu(c,v,w,S,z,G,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+v+`
`+w+`
`+G+" "+oe})}function rr(c,v,w,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+_i(c,w)+(S?" "+S:"")})}function Bu(c,v){c.info(function(){return"TIMEOUT: "+v})}_s.prototype.info=function(){};function _i(c,v){if(!c.g)return v;if(!v)return null;try{const G=JSON.parse(v);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var w=G[c];if(!(w.length<2)){var S=w[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return ps(G)}catch{return v}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ts={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zu;function jr(){}_(jr,ms),jr.prototype.g=function(){return new XMLHttpRequest},zu=new jr;function sr(c){return encodeURIComponent(String(c))}function wo(c){var v=1;c=c.split(":");const w=[];for(;v>0&&c.length;)w.push(c.shift()),v--;return c.length&&w.push(c.join(":")),w}function Pn(c,v,w,S){this.j=c,this.i=v,this.l=w,this.S=S||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $u}function $u(){this.i=null,this.g="",this.h=!1}var Wu={},Ga={};function Bn(c,v,w){c.M=1,c.A=Ur(Cn(v)),c.u=w,c.R=!0,Ka(c,null)}function Ka(c,v){c.F=Date.now(),wi(c),c.B=Cn(c.A);var w=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),sl(w.i,"t",S),c.C=0,w=c.j.L,c.h=new $u,c.g=ec(c.j,w?v:null,!c.u),c.P>0&&(c.O=new Ou(p(c.Y,c,c.g),c.P)),v=c.V,w=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Wa[0]=z.toString()),z=Wa);for(let G=0;G<z.length;G++){const oe=qe(w,z[G],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Or(),Fu(c.i,c.v,c.B,c.l,c.S,c.u)}Pn.prototype.ba=function(c){c=c.target;const v=this.O;v&&hr(c)==3?v.j():this.Y(c)},Pn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=hr(this.g),mt=this.g.ya(),Ye=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Ju(this.g)))){this.K||Re!=4||mt==7||(mt==8||Ye<=0?Or(3):Or(2)),To(this);var v=this.g.ca();this.X=v;var w=Hu(this);if(this.o=v==200,Uu(this.i,this.v,this.B,this.l,this.S,Re,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var G=S;break t}}G=null}if(c=G)rr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,c);else{this.o=!1,this.m=3,ht(12),Fr(this),Ti(this);break e}}if(this.R){c=!0;let Tt;for(;!this.K&&this.C<w.length;)if(Tt=Gu(this,w),Tt==Ga){Re==4&&(this.m=4,ht(14),c=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Wu){this.m=4,ht(15),rr(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else rr(this.i,this.l,Tt,null),tt(this,Tt);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||w.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)rr(this.i,this.l,w,"[Invalid Chunked Response]"),Fr(this),Ti(this);else if(w.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Ri(oe),oe.P=!0,ht(11))}}else rr(this.i,this.l,w,null),tt(this,w);Re==4&&Fr(this),this.o&&!this.K&&(Re==4?bo(this.j,this):(this.o=!1,wi(this)))}else ol(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Fr(this),Ti(this)}}}catch{}finally{}};function Hu(c){if(!qu(c))return c.g.la();const v=Ju(c.g);if(v==="")return"";let w="";const S=v.length,z=hr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Fr(c),Ti(c),"";c.h.i=new u.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,w+=c.h.i.decode(v[G],{stream:!(z&&G==S-1)});return v.length=0,c.h.g+=w,c.C=0,c.h.g}function qu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Gu(c,v){var w=c.C,S=v.indexOf(`
`,w);return S==-1?Ga:(w=Number(v.substring(w,S)),isNaN(w)?Wu:(S+=1,S+w>v.length?Ga:(v=v.slice(S,S+w),c.C=S+w,v)))}Pn.prototype.cancel=function(){this.K=!0,Fr(this)};function wi(c){c.T=Date.now()+c.H,Qa(c,c.H)}function Qa(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=vs(p(c.aa,c),v)}function To(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Pn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Bu(this.i,this.B),this.M!=2&&(Or(),ht(17)),Fr(this),this.m=2,Ti(this)):Qa(this,this.T-c)};function Ti(c){c.j.I==0||c.K||bo(c.j,c)}function Fr(c){To(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,go(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function tt(c,v){try{var w=c.j;if(w.I!=0&&(w.g==c||Ya(w.h,c))){if(!c.L&&Ya(w.h,c)&&w.I==3){try{var S=w.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)Ro(w),_n(w);else break e;pr(w),ht(18)}}else w.xa=z[1],0<w.xa-w.K&&z[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=vs(p(w.Va,w),6e3));Ei(w.h)<=1&&w.ta&&(w.ta=void 0)}else wn(w,11)}else if((c.L||w.g==c)&&Ro(w),!C(v))for(z=w.Ba.g.parse(v),v=0;v<z.length;v++){let Ye=z[v];const Tt=Ye[0];if(!(Tt<=w.K))if(w.K=Tt,Ye=Ye[1],w.I==2)if(Ye[0]=="c"){w.M=Ye[1],w.ba=Ye[2];const Tn=Ye[3];Tn!=null&&(w.ka=Tn,w.j.info("VER="+w.ka));const Hr=Ye[4];Hr!=null&&(w.za=Hr,w.j.info("SVER="+w.za));const mr=Ye[5];mr!=null&&typeof mr=="number"&&mr>0&&(S=1.5*mr,w.O=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const gr=c.g;if(gr){const Do=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Do){var G=S.h;G.g||Do.indexOf("spdy")==-1&&Do.indexOf("quic")==-1&&Do.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(xo(G,G.h),G.h=null))}if(S.G){const ul=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(S.wa=ul,Ke(S.J,S.G,ul))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),S=w;var oe=c;if(S.na=ll(S,S.L?S.ba:null,S.W),oe.L){xi(S.h,oe);var Re=oe,mt=S.O;mt&&(Re.H=mt),Re.D&&(To(Re),wi(Re)),S.g=oe}else Gt(S);w.i.length>0&&Wr(w)}else Ye[0]!="stop"&&Ye[0]!="close"||wn(w,7);else w.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?wn(w,7):Co(w):Ye[0]!="noop"&&w.l&&w.l.qa(Ye),w.A=0)}}Or(4)}catch{}}var Sd=class{constructor(c,v){this.g=c,this.map=v}};function Eo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ya(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function xo(c,v){c.g?c.g.add(v):c.h=v}function xi(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Eo.prototype.cancel=function(){if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function gn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const w of c.g.values())v=v.concat(w.G);return v}return P(c.i)}var Ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yn(c,v){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const S=c[w].indexOf("=");let z,G=null;S>=0?(z=c[w].substring(0,S),G=c[w].substring(S+1)):z=c[w],v(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ir(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof ir?(this.l=c.l,Ii(this,c.j),this.o=c.o,this.g=c.g,or(this,c.u),this.h=c.h,Es(this,il(c.i)),this.m=c.m):c&&(v=String(c).match(Ku))?(this.l=!1,Ii(this,v[1]||"",!0),this.o=Si(v[2]||""),this.g=Si(v[3]||"",!0),or(this,v[4]),this.h=Si(v[5]||"",!0),Es(this,v[6]||"",!0),this.m=Si(v[7]||"")):(this.l=!1,this.i=new $e(null,this.l))}ir.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Ai(v,Za,!0),":");var w=this.g;return(w||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Ai(v,Za,!0),"@"),c.push(sr(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Ai(w,w.charAt(0)=="/"?Pi:el,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Ai(w,tl)),c.join("")},ir.prototype.resolve=function(c){const v=Cn(this);let w=!!c.j;w?Ii(v,c.j):w=!!c.o,w?v.o=c.o:w=!!c.g,w?v.g=c.g:w=c.u!=null;var S=c.h;if(w)or(v,c.u);else if(w=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=v.h.lastIndexOf("/");z!=-1&&(S=v.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let oe=0;oe<z.length;){const Re=z[oe++];Re=="."?S&&oe==z.length&&G.push(""):Re==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&oe==z.length&&G.push("")):(G.push(Re),S=!0)}S=G.join("/")}else S=z}return w?v.h=S:w=c.i.toString()!=="",w?Es(v,il(c.i)):w=!!c.m,w&&(v.m=c.m),v};function Cn(c){return new ir(c)}function Ii(c,v,w){c.j=w?Si(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function or(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Es(c,v,w){v instanceof $e?(c.i=v,So(c.i,c.l)):(w||(v=Ai(v,Ad)),c.i=new $e(v,c.l))}function Ke(c,v,w){c.i.set(v,w)}function Ur(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Si(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ai(c,v,w){return typeof c=="string"?(c=encodeURI(c).replace(v,Ja),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ja(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Za=/[#\/\?@]/g,el=/[#\?:]/g,Pi=/[#\?]/g,Ad=/[#\?@]/g,tl=/#/g;function $e(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function ar(c){c.g||(c.g=new Map,c.h=0,c.i&&yn(c.i,function(v,w){c.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=$e.prototype,n.add=function(c,v){ar(this),this.i=null,c=lr(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(v),this.h+=1,this};function nl(c,v){ar(c),v=lr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Io(c,v){return ar(c),v=lr(c,v),c.g.has(v)}n.forEach=function(c,v){ar(this),this.g.forEach(function(w,S){w.forEach(function(z){c.call(v,z,S,this)},this)},this)};function rl(c,v){ar(c);let w=[];if(typeof v=="string")Io(c,v)&&(w=w.concat(c.g.get(lr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)w=w.concat(c[v]);return w}n.set=function(c,v){return ar(this),this.i=null,c=lr(this,c),Io(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=rl(this,c),c.length>0?String(c[0]):v):v};function sl(c,v,w){nl(c,v),w.length>0&&(c.i=null,c.g.set(lr(c,v),P(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var w=v[S];const z=sr(w);w=rl(this,w);for(let G=0;G<w.length;G++){let oe=z;w[G]!==""&&(oe+="="+sr(w[G])),c.push(oe)}}return this.i=c.join("&")};function il(c){const v=new $e;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function lr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function So(c,v){v&&!c.j&&(ar(c),c.i=null,c.g.forEach(function(w,S){const z=S.toLowerCase();S!=z&&(nl(this,S),sl(this,z,w))},c)),c.j=v}function ur(c,v){const w=new _s;if(u.Image){const S=new Image;S.onload=g(jt,w,"TestLoadImage: loaded",!0,v,S),S.onerror=g(jt,w,"TestLoadImage: error",!1,v,S),S.onabort=g(jt,w,"TestLoadImage: abort",!1,v,S),S.ontimeout=g(jt,w,"TestLoadImage: timeout",!1,v,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function cr(c,v){const w=new _s,S=new AbortController,z=setTimeout(()=>{S.abort(),jt(w,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?jt(w,"TestPingServer: ok",!0,v):jt(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),jt(w,"TestPingServer: error",!1,v)})}function jt(c,v,w,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(w)}catch{}}function Ci(){this.g=new vi}function Br(c){this.i=c.Sb||null,this.h=c.ab||!1}_(Br,ms),Br.prototype.g=function(){return new vn(this.i,this.h)};function vn(c,v){wt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(vn,wt),n=vn.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,zn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?xs(this):zn(this),this.readyState==3&&Qu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,xs(this))},n.Na=function(c){this.g&&(this.response=c,xs(this))},n.ga=function(){this.g&&xs(this)};function xs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,zn(c)}n.setRequestHeader=function(c,v){this.A.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=v.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xu(c){let v="";return de(c,function(w,S){v+=S,v+=":",v+=w,v+=`\r
`}),v}function Ao(c,v,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Xu(w),typeof c=="string"?w!=null&&sr(w):Ke(c,v,w))}function Je(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Je,wt);var Yu=/^https?$/i,Pd=["POST","PUT"];n=Je.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,v,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zu.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(G){Is(this,G);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)w.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())w.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),z=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Pd,v,void 0)>=0)||S||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of w)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Is(this,G)}};function Is(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Ss(c),$r(c)}function Ss(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,pt(this,"complete"),pt(this,"abort"),$r(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},n.Xa=function(){zr(this)};function zr(c){if(c.h&&typeof a<"u"){if(c.v&&hr(c)==4)setTimeout(c.Ca.bind(c),0);else if(pt(c,"readystatechange"),hr(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var S;if(S=G===0){let oe=String(c.D).match(Ku)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),S=!Yu.test(oe?oe.toLowerCase():"")}w=S}if(w)pt(c,"complete"),pt(c,"success");else{c.o=6;try{var z=hr(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Ss(c)}}finally{$r(c)}}}}function $r(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,v||pt(c,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function hr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return hr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Lu(v)}};function Ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ol(c){const v={};c=(c.g&&hr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var w=wo(c[S]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=v[z]||[];v[z]=G,G.push(w)}ae(v,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(c,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||v}function Po(c){this.za=0,this.i=[],this.j=new _s,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=dr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=dr("baseRetryDelayMs",5e3,c),this.Za=dr("retryDelaySeedMs",1e4,c),this.Ta=dr("forwardChannelMaxRetries",2,c),this.va=dr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(c&&c.concurrentRequestLimit),this.Ba=new Ci,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Po.prototype,n.ka=8,n.I=1,n.connect=function(c,v,w,S){ht(0),this.W=c,this.H=v||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.J=ll(this,null,this.W),Wr(this)};function Co(c){if(ko(c),c.I==3){var v=c.V++,w=Cn(c.J);if(Ke(w,"SID",c.M),Ke(w,"RID",v),Ke(w,"TYPE","terminate"),fr(c,w),v=new Pn(c,c.j,v),v.M=2,v.A=Ur(Cn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=ec(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wi(v)}bi(c)}function _n(c){c.g&&(Ri(c),c.g.cancel(),c.g=null)}function ko(c){_n(c),c.v&&(u.clearTimeout(c.v),c.v=null),Ro(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Wr(c){if(!Xa(c.h)&&!c.m){c.m=!0;var v=c.Ea;re||I(),X||(re(),X=!0),R.add(v,c),c.D=0}}function Zu(c,v){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=vs(p(c.Ea,c,v),No(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Pn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=U(G),ve(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=al(this,z,v),w=Cn(this.J),Ke(w,"RID",c),Ke(w,"CVER",22),this.G&&Ke(w,"X-HTTP-Session-Id",this.G),fr(this,w),G&&(this.R?v="headers="+sr(Xu(G))+"&"+v:this.u&&Ao(w,this.u,G)),xo(this.h,z),this.Ra&&Ke(w,"TYPE","init"),this.S?(Ke(w,"$req",v),Ke(w,"SID","null"),z.U=!0,Bn(z,w,null)):Bn(z,w,v),this.I=2}}else this.I==3&&(c?ki(this,c):this.i.length==0||Xa(this.h)||ki(this))};function ki(c,v){var w;v?w=v.l:w=c.V++;const S=Cn(c.J);Ke(S,"SID",c.M),Ke(S,"RID",w),Ke(S,"AID",c.K),fr(c,S),c.u&&c.o&&Ao(S,c.u,c.o),w=new Pn(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),v&&(c.i=v.G.concat(c.i)),v=al(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,w),Bn(w,S,v)}function fr(c,v){c.H&&de(c.H,function(w,S){Ke(v,S,w)}),c.l&&de({},function(w,S){Ke(v,S,w)})}function al(c,v,w){w=Math.min(c.i.length,w);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let Re=-1;for(;;){const mt=["count="+w];Re==-1?w>0?(Re=z[0].g,mt.push("ofs="+Re)):Re=0:mt.push("ofs="+Re);let Ye=!0;for(let Tt=0;Tt<w;Tt++){var G=z[Tt].g;const Tn=z[Tt].map;if(G-=Re,G<0)Re=Math.max(0,z[Tt].g-100),Ye=!1;else try{G="req"+G+"_"||"";try{var oe=Tn instanceof Map?Tn:Object.entries(Tn);for(const[Hr,mr]of oe){let gr=mr;d(mr)&&(gr=ps(mr)),mt.push(G+Hr+"="+encodeURIComponent(gr))}}catch(Hr){throw mt.push(G+"type="+encodeURIComponent("_badmap")),Hr}}catch{S&&S(Tn)}}if(Ye){oe=mt.join("&");break e}}oe=void 0}return c=c.i.splice(0,w),v.G=c,oe}function Gt(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;re||I(),X||(re(),X=!0),R.add(v,c),c.A=0}}function pr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=vs(p(c.Da,c),No(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,As(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=vs(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),_n(this),As(this))};function Ri(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function As(c){c.g=new Pn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Cn(c.na);Ke(v,"RID","rpc"),Ke(v,"SID",c.M),Ke(v,"AID",c.K),Ke(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(v,"TO",c.ia),Ke(v,"TYPE","xmlhttp"),fr(c,v),c.u&&c.o&&Ao(v,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Ur(Cn(v)),w.u=null,w.R=!0,Ka(w,c)}n.Va=function(){this.C!=null&&(this.C=null,_n(this),pr(this),ht(19))};function Ro(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function bo(c,v){var w=null;if(c.g==v){Ro(c),Ri(c),c.g=null;var S=2}else if(Ya(c.h,v))w=v.G,xi(c.h,v),S=1;else return;if(c.I!=0){if(v.o)if(S==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var z=c.D;S=ys(),pt(S,new qa(S,w)),Wr(c)}else Gt(c);else if(z=v.m,z==3||z==0&&v.X>0||!(S==1&&Zu(c,v)||S==2&&pr(c)))switch(w&&w.length>0&&(v=c.h,v.i=v.i.concat(w)),z){case 1:wn(c,5);break;case 4:wn(c,10);break;case 3:wn(c,6);break;default:wn(c,2)}}}function No(c,v){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*v}function wn(c,v){if(c.j.info("Error code "+v),v==2){var w=p(c.bb,c),S=c.Ua;const z=!S;S=new ir(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ii(S,"https"),Ur(S),z?ur(S.toString(),w):cr(S.toString(),w)}else ht(2);c.I=0,c.l&&c.l.pa(v),bi(c),ko(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function bi(c){if(c.I=0,c.ja=[],c.l){const v=gn(c.h);(v.length!=0||c.i.length!=0)&&(M(c.ja,v),M(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function ll(c,v,w){var S=w instanceof ir?Cn(w):new ir(w);if(S.g!="")v&&(S.g=v+"."+S.g),or(S,S.u);else{var z=u.location;S=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;const G=new ir(null);S&&Ii(G,S),v&&(G.g=v),z&&or(G,z),w&&(G.h=w),S=G}return w=c.G,v=c.wa,w&&v&&Ke(S,w,v),Ke(S,"VER",c.ka),fr(c,S),S}function ec(c,v,w){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Je(new Br({ab:w})):new Je(c.ma),v.Fa(c.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}n=tc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vo(){}Vo.prototype.g=function(c,v){return new Ft(c,v)};function Ft(c,v){wt.call(this),this.g=new Po(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!C(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Ps(this)}_(Ft,wt),Ft.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Co(this.g)},Ft.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=ps(c),c=w);v.i.push(new Sd(v.Ya++,c)),v.I==3&&Wr(v)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,Ft.Z.N.call(this)};function nc(c){yo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const w in v){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}_(nc,yo);function rc(){Ha.call(this),this.status=1}_(rc,Ha);function Ps(c){this.g=c}_(Ps,tc),Ps.prototype.ra=function(){pt(this.g,"a")},Ps.prototype.qa=function(c){pt(this.g,new nc(c))},Ps.prototype.pa=function(c){pt(this.g,new rc)},Ps.prototype.oa=function(){pt(this.g,"b")},Vo.prototype.createWebChannel=Vo.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,II=function(){return new Vo},xI=function(){return ys()},EI=Un,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,_h=ws,Ts.COMPLETE="complete",TI=Ts,ju.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",wt.prototype.listen=wt.prototype.J,jl=ju,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,wI=Je}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const kw="@firebase/firestore",Rw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new yg("@firebase/firestore");function na(){return so.logLevel}function ce(n,...e){if(so.logLevel<=Fe.DEBUG){const t=e.map(kg);so.debug(`Firestore (${Oa}): ${n}`,...t)}}function cs(n,...e){if(so.logLevel<=Fe.ERROR){const t=e.map(kg);so.error(`Firestore (${Oa}): ${n}`,...t)}}function xa(n,...e){if(so.logLevel<=Fe.WARN){const t=e.map(kg);so.warn(`Firestore (${Oa}): ${n}`,...t)}}function kg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,SI(n,r,t)}function SI(n,e,t){let r=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw cs(r),new Error(r)}function Xe(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||SI(e,o,r)}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zt.UNAUTHENTICATED)))}shutdown(){}}class zM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $M{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ri,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ri)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new AI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class WM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new WM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=GM(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function pm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Sp(o)===Sp(a)?Ue(o,a):Sp(o)?1:-1}return Ue(n.length,e.length)}const KM=55296,QM=57343;function Sp(n){const e=n.charCodeAt(0);return e>=KM&&e<=QM}function Ia(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__name__";class Tr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Tr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ue(e.length,t.length)}static compareSegments(e,t){const r=Tr.isNumericId(e),o=Tr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):pm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ni.fromString(e.substring(4,e.length-2))}}class et extends Tr{construct(e,t,r){return new et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const XM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Tr{construct(e,t,r){return new Wt(e,t,r)}static isValidIdentifier(e){return XM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nw}static keyField(){return new Wt([Nw])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(et.fromString(e))}static fromName(e){return new we(et.fromString(e).popFirst(5))}static empty(){return new we(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(n,e,t){if(!t)throw new le(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YM(n,e,t,r){if(e===!0&&r===!0)throw new le(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vw(n){if(!we.isDocumentKey(n))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Dw(n){if(we.isDocumentKey(n))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ad(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function io(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ad(n);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Su(n,e){if(!CI(n))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new le(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=-62135596800,Ow=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ow);return new st(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Mw)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ow}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Pt("string",st._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new st(0,0))}static max(){return new ke(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function JM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new li(o,we.empty(),e)}function ZM(n){return new li(n.readTime,n.key,uu)}class li{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new li(ke.min(),we.empty(),uu)}static max(){return new li(ke.max(),we.empty(),uu)}}function eO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==tO)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(f=>r(f)))})),u=!0,a===o&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((o=>o?J.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((g=>{u[p]=g,++d,d===a&&r(u)}),(g=>o(g)))}}))}static doWhile(e,t){return new J(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function rO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ja(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ld.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=-1;function ud(n){return n==null}function zh(n){return n===0&&1/n==-1/0}function sO(n){return typeof n=="number"&&Number.isInteger(n)&&!zh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="";function iO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Lw(e)),e=oO(n.get(t),e);return Lw(e)}function oO(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case kI:t+="";break;default:t+=a}}return t}function Lw(n){return n+kI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??$t.RED,this.left=o??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new $t(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fw(this.data.getIterator())}getIteratorFrom(e){return new Fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class Fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Nt(Wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new bI("Invalid base64 string: "+a):a}})(e);return new qt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=aO.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ci(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="server_timestamp",VI="__type__",DI="__previous_value__",MI="__local_write_time__";function Ng(n){return(n?.mapValue?.fields||{})[VI]?.stringValue===NI}function cd(n){const e=n.mapValue.fields[DI];return Ng(e)?cd(e):e}function cu(n){const e=ui(n.mapValue.fields[MI].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,r,o,a,u,d,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const $h="(default)";class hu{constructor(e,t){this.projectId=e,this.database=t||$h}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="__type__",uO="__max__",oh={mapValue:{}},LI="__vector__",Wh="value";function hi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ng(n)?4:hO(n)?9007199254740991:cO(n)?10:11:Se(28295,{value:n})}function Vr(n,e){if(n===e)return!0;const t=hi(n);if(t!==hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cu(n).isEqual(cu(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ui(o.timestampValue),d=ui(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return ci(o.bytesValue).isEqual(ci(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return vt(o.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return vt(o.integerValue)===vt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=vt(o.doubleValue),d=vt(a.doubleValue);return u===d?zh(u)===zh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Ia(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(jw(u)!==jw(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Vr(u[f],d[f])))return!1;return!0})(n,e);default:return Se(52216,{left:n})}}function du(n,e){return(n.values||[]).find((t=>Vr(t,e)))!==void 0}function Sa(n,e){if(n===e)return 0;const t=hi(n),r=hi(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=vt(a.integerValue||a.doubleValue),f=vt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return Uw(n.timestampValue,e.timestampValue);case 4:return Uw(cu(n),cu(e));case 5:return pm(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=ci(a),f=ci(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=Ue(d[p],f[p]);if(g!==0)return g}return Ue(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ue(vt(a.latitude),vt(u.latitude));return d!==0?d:Ue(vt(a.longitude),vt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Bw(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},p=d[Wh]?.arrayValue,g=f[Wh]?.arrayValue,_=Ue(p?.values?.length||0,g?.values?.length||0);return _!==0?_:Bw(p,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===oh.mapValue&&u===oh.mapValue)return 0;if(a===oh.mapValue)return 1;if(u===oh.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=pm(f[_],g[_]);if(E!==0)return E;const P=Sa(d[f[_]],p[g[_]]);if(P!==0)return P}return Ue(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function Uw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=ui(n),r=ui(e),o=Ue(t.seconds,r.seconds);return o!==0?o:Ue(t.nanos,r.nanos)}function Bw(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Sa(t[o],r[o]);if(a)return a}return Ue(t.length,r.length)}function Aa(n){return mm(n)}function mm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ui(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ci(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=mm(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${mm(t.fields[u])}`;return o+"}"})(n.mapValue):Se(61005,{value:n})}function wh(n){switch(hi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(n);return e?16+wh(e):16;case 5:return 2*n.stringValue.length;case 6:return ci(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+wh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return mi(r.fields,((a,u)=>{o+=a.length+wh(u)})),o})(n.mapValue);default:throw Se(13486,{value:n})}}function zw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gm(n){return!!n&&"integerValue"in n}function Vg(n){return!!n&&"arrayValue"in n}function $w(n){return!!n&&"nullValue"in n}function Ww(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Th(n){return!!n&&"mapValue"in n}function cO(n){return(n?.mapValue?.fields||{})[OI]?.stringValue===LI}function Ql(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return mi(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ql(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ql(n.arrayValue.values[t]);return e}return{...n}}function hO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=Wt.emptyPath(),r={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Ql(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){mi(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new pn(Ql(this.value))}}function jI(n){const e=[];return mi(n.fields,((t,r)=>{const o=new Wt([t]);if(Th(r)){const a=jI(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new en(e,0,ke.min(),ke.min(),ke.min(),pn.empty(),0)}static newFoundDocument(e,t,r,o){return new en(e,1,t,ke.min(),r,o,0)}static newNoDocument(e,t){return new en(e,2,t,ke.min(),ke.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,ke.min(),ke.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t){this.position=e,this.inclusive=t}}function Hw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),t.key):r=Sa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function qw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function dO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{}class At extends FI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pO(e,t,r):t==="array-contains"?new yO(e,r):t==="in"?new vO(e,r):t==="not-in"?new _O(e,r):t==="array-contains-any"?new wO(e,r):new At(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new mO(e,r):new gO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Sa(t,this.value)):t!==null&&hi(this.value)===hi(t)&&this.matchesComparison(Sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends FI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new er(e,t)}matches(e){return UI(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UI(n){return n.op==="and"}function BI(n){return fO(n)&&UI(n)}function fO(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function ym(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+Aa(n.value);if(BI(n))return n.filters.map((e=>ym(e))).join(",");{const e=n.filters.map((t=>ym(t))).join(",");return`${n.op}(${e})`}}function zI(n,e){return n instanceof At?(function(r,o){return o instanceof At&&r.op===o.op&&r.field.isEqual(o.field)&&Vr(r.value,o.value)})(n,e):n instanceof er?(function(r,o){return o instanceof er&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,d)=>a&&zI(u,o.filters[d])),!0):!1})(n,e):void Se(19439)}function $I(n){return n instanceof At?(function(t){return`${t.field.canonicalString()} ${t.op} ${Aa(t.value)}`})(n):n instanceof er?(function(t){return t.op.toString()+" {"+t.getFilters().map($I).join(" ,")+"}"})(n):"Filter"}class pO extends At{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class mO extends At{constructor(e,t){super(e,"in",t),this.keys=WI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gO extends At{constructor(e,t){super(e,"not-in",t),this.keys=WI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function WI(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class yO extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vg(t)&&du(t.arrayValue,this.value)}}class vO extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&du(this.value.arrayValue,t)}}class _O extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!du(this.value.arrayValue,t)}}class wO extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>du(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function Gw(n,e=null,t=[],r=[],o=null,a=null,u=null){return new TO(n,e,t,r,o,a,u)}function Dg(n){const e=be(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>ym(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Aa(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Aa(r))).join(",")),e.Te=t}return e.Te}function Mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qw(n.startAt,e.startAt)&&qw(n.endAt,e.endAt)}function vm(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EO(n,e,t,r,o,a,u,d){return new Fa(n,e,t,r,o,a,u,d)}function HI(n){return new Fa(n)}function Kw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qI(n){return n.collectionGroup!==null}function Xl(n){const e=be(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Nt(Wt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new fu(a,r))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new fu(Wt.keyField(),r))}return e.Ie}function Cr(n){const e=be(n);return e.Ee||(e.Ee=xO(e,Xl(n))),e.Ee}function xO(n,e){if(n.limitType==="F")return Gw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new fu(o.field,a)}));const t=n.endAt?new Hh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Hh(n.startAt.position,n.startAt.inclusive):null;return Gw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _m(n,e){const t=n.filters.concat([e]);return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wm(n,e,t){return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hd(n,e){return Mg(Cr(n),Cr(e))&&n.limitType===e.limitType}function GI(n){return`${Dg(Cr(n))}|lt:${n.limitType}`}function ra(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>$I(o))).join(", ")}]`),ud(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Aa(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Aa(o))).join(",")),`Target(${r})`})(Cr(n))}; limitType=${n.limitType})`}function dd(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Xl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,d,f){const p=Hw(u,d,f);return u.inclusive?p<=0:p<0})(r.startAt,Xl(r),o)||r.endAt&&!(function(u,d,f){const p=Hw(u,d,f);return u.inclusive?p>=0:p>0})(r.endAt,Xl(r),o))})(n,e)}function IO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KI(n){return(e,t)=>{let r=!1;for(const o of Xl(n)){const a=SO(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function SO(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?Sa(f,p):Se(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return RI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new ct(we.comparator);function hs(){return AO}const QI=new ct(we.comparator);function Fl(...n){let e=QI;for(const t of n)e=e.insert(t.key,t);return e}function XI(n){let e=QI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Xi(){return Yl()}function YI(){return Yl()}function Yl(){return new uo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const PO=new ct(we.comparator),CO=new Nt(we.comparator);function Be(...n){let e=CO;for(const t of n)e=e.add(t);return e}const kO=new Nt(Ue);function RO(){return kO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function JI(n){return{integerValue:""+n}}function bO(n,e){return sO(e)?JI(e):Og(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function NO(n,e,t){return n instanceof qh?(function(o,a){const u={fields:{[VI]:{stringValue:NI},[MI]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Ng(a)&&(a=cd(a)),a&&(u.fields[DI]=a),{mapValue:u}})(t,e):n instanceof pu?eS(n,e):n instanceof mu?tS(n,e):(function(o,a){const u=ZI(o,a),d=Qw(u)+Qw(o.Ae);return gm(u)&&gm(o.Ae)?JI(d):Og(o.serializer,d)})(n,e)}function VO(n,e,t){return n instanceof pu?eS(n,e):n instanceof mu?tS(n,e):t}function ZI(n,e){return n instanceof Gh?(function(r){return gm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class qh extends fd{}class pu extends fd{constructor(e){super(),this.elements=e}}function eS(n,e){const t=nS(e);for(const r of n.elements)t.some((o=>Vr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class mu extends fd{constructor(e){super(),this.elements=e}}function tS(n,e){let t=nS(e);for(const r of n.elements)t=t.filter((o=>!Vr(o,r)));return{arrayValue:{values:t}}}class Gh extends fd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Qw(n){return vt(n.integerValue||n.doubleValue)}function nS(n){return Vg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DO(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof pu&&o instanceof pu||r instanceof mu&&o instanceof mu?Ia(r.elements,o.elements,Vr):r instanceof Gh&&o instanceof Gh?Vr(r.Ae,o.Ae):r instanceof qh&&o instanceof qh})(n.transform,e.transform)}class MO{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class pd{}function rS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Lg(n.key,Zn.none()):new Au(n.key,n.data,Zn.none());{const t=n.data,r=pn.empty();let o=new Nt(Wt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new gi(n.key,r,new Sn(o.toArray()),Zn.none())}}function OO(n,e,t){n instanceof Au?(function(o,a,u){const d=o.value.clone(),f=Yw(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof gi?(function(o,a,u){if(!Eh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Yw(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(sS(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Jl(n,e,t,r){return n instanceof Au?(function(a,u,d,f){if(!Eh(a.precondition,u))return d;const p=a.value.clone(),g=Jw(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof gi?(function(a,u,d,f){if(!Eh(a.precondition,u))return d;const p=Jw(a.fieldTransforms,f,u),g=u.data;return g.setAll(sS(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(a,u,d){return Eh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function LO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=ZI(r.transform,o||null);a!=null&&(t===null&&(t=pn.empty()),t.set(r.field,a))}return t||null}function Xw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ia(r,o,((a,u)=>DO(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Au extends pd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gi extends pd{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Yw(n,e,t){const r=new Map;Xe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,VO(u,d,t[o]))}return r}function Jw(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,NO(a,u,e))}return r}class Lg extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jO extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&OO(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Jl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YI();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=rS(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,((t,r)=>Xw(t,r)))&&Ia(this.baseMutations,e.baseMutations,((t,r)=>Xw(t,r)))}}class jg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return PO})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new jg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,We;function zO(n){switch(n){case Y.OK:return Se(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function iS(n){if(n===void 0)return cs("GRPC error has no .code"),Y.UNKNOWN;switch(n){case xt.OK:return Y.OK;case xt.CANCELLED:return Y.CANCELLED;case xt.UNKNOWN:return Y.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Y.INTERNAL;case xt.UNAVAILABLE:return Y.UNAVAILABLE;case xt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case xt.NOT_FOUND:return Y.NOT_FOUND;case xt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case xt.ABORTED:return Y.ABORTED;case xt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case xt.DATA_LOSS:return Y.DATA_LOSS;default:return Se(39323,{code:n})}}(We=xt||(xt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new ni([4294967295,4294967295],0);function Zw(n){const e=$O().encode(n),t=new _I;return t.update(e),new Uint8Array(t.digest())}function eT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ni([t,r],0),new ni([o,a],0)]}class Fg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ul(`Invalid padding: ${t}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ni.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(ni.fromNumber(r)));return o.compare(WO)===1&&(o=new ni([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Zw(e),[r,o]=eT(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Fg(a,o,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=Zw(e),[r,o]=eT(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new md(ke.min(),o,new ct(Ue),hs(),Be())}}class Pu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pu(r,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class oS{constructor(e,t){this.targetId=e,this.Ce=t}}class aS{constructor(e,t,r=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class tT{constructor(){this.ve=0,this.Fe=nT(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),r=Be();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:a})}})),new Pu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=nT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HO{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=ah(),this.He=ah(),this.Ye=new ct(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(vm(a))if(r===0){const u=new we(a.path);this.et(t,u,en.newNoDocument(u,ke.min()))}else Xe(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=ci(r).toUint8Array()}catch(f){if(f instanceof bI)return xa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Fg(u,o,a)}catch(f){return xa(f instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&vm(d.target)){const f=new we(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,en.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=Be();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new md(e,t,this.Ye,this.je,r);return this.je=hs(),this.Je=ah(),this.He=ah(),this.Ye=new ct(Ue),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new tT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nt(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nt(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ah(){return new ct(we.comparator)}function nT(){return new ct(we.comparator)}const qO={asc:"ASCENDING",desc:"DESCENDING"},GO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KO={and:"AND",or:"OR"};class QO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tm(n,e){return n.useProto3Json||ud(e)?e:{value:e}}function Kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function XO(n,e){return Kh(n,e.toTimestamp())}function kr(n){return Xe(!!n,49232),ke.fromTimestamp((function(t){const r=ui(t);return new st(r.seconds,r.nanos)})(n))}function Ug(n,e){return Em(n,e).canonicalString()}function Em(n,e){const t=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function uS(n){const e=et.fromString(n);return Xe(pS(e),10190,{key:e.toString()}),e}function xm(n,e){return Ug(n.databaseId,e.path)}function Ap(n,e){const t=uS(e);if(t.get(1)!==n.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(hS(t))}function cS(n,e){return Ug(n.databaseId,e)}function YO(n){const e=uS(n);return e.length===4?et.emptyPath():hS(e)}function Im(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hS(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rT(n,e,t){return{name:xm(n,e),fields:t.value.mapValue.fields}}function JO(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Xe(g===void 0||typeof g=="string",58123),qt.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),qt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const g=p.code===void 0?Y.UNKNOWN:iS(p.code);return new le(g,p.message||"")})(u);t=new aS(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ap(n,r.document.name),a=kr(r.document.updateTime),u=r.document.createTime?kr(r.document.createTime):ke.min(),d=new pn({mapValue:{fields:r.document.fields}}),f=en.newFoundDocument(o,a,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new xh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ap(n,r.document),a=r.readTime?kr(r.readTime):ke.min(),u=en.newNoDocument(o,a),d=r.removedTargetIds||[];t=new xh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ap(n,r.document),a=r.removedTargetIds||[];t=new xh([],a,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new BO(o,a),d=r.targetId;t=new oS(d,u)}}return t}function ZO(n,e){let t;if(e instanceof Au)t={update:rT(n,e.key,e.value)};else if(e instanceof Lg)t={delete:xm(n,e.key)};else if(e instanceof gi)t={update:rT(n,e.key,e.data),updateMask:lL(e.fieldMask)};else{if(!(e instanceof jO))return Se(16599,{Vt:e.type});t={verify:xm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof qh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof mu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:XO(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)})(n,e.precondition)),t}function eL(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?kr(o.updateTime):kr(a);return u.isEqual(ke.min())&&(u=kr(a)),new MO(u,o.transformResults||[])})(t,e)))):[]}function tL(n,e){return{documents:[cS(n,e.path)]}}function nL(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cS(n,o);const a=(function(p){if(p.length!==0)return fS(er.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((g=>(function(E){return{field:sa(E.field),direction:iL(E.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Tm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:o}}function rL(n){let e=YO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Xe(r===1,65062);const g=t.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(_){const E=dS(_);return E instanceof er&&BI(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((E=>(function(M){return new fu(ia(M.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,ud(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(_){const E=!!_.before,P=_.values||[];return new Hh(P,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(_){const E=!_.before,P=_.values||[];return new Hh(P,E)})(t.endAt)),EO(e,o,u,a,d,"F",f,p)}function sL(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ia(t.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ia(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ia(t.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ia(t.unaryFilter.field);return At.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return At.create(ia(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return er.create(t.compositeFilter.filters.map((r=>dS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(n):Se(30097,{filter:n})}function iL(n){return qO[n]}function oL(n){return GO[n]}function aL(n){return KO[n]}function sa(n){return{fieldPath:n.canonicalString()}}function ia(n){return Wt.fromServerFormat(n.fieldPath)}function fS(n){return n instanceof At?(function(t){if(t.op==="=="){if(Ww(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NAN"}};if($w(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ww(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NOT_NAN"}};if($w(t.value))return{unaryFilter:{field:sa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(t.field),op:oL(t.op),value:t.value}}})(n):n instanceof er?(function(t){const r=t.getFilters().map((o=>fS(o)));return r.length===1?r[0]:{compositeFilter:{op:aL(t.op),filters:r}}})(n):Se(54877,{filter:n})}function lL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function pS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t,r,o,a=ke.min(),u=ke.min(),d=qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.yt=e}}function cL(n){const e=rL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.Cn=new dL}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(li.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class dL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Nt(et.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Nt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(mS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pa(0)}static cr(){return new Pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="LruGarbageCollector",fL=1048576;function oT([n,e],[t,r]){const o=Ue(n,t);return o===0?Ue(e,r):o}class pL{constructor(e){this.Ir=e,this.buffer=new Nt(oT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();oT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(iT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ja(t)?ce(iT,"Ignoring IndexedDB error during garbage collection: ",t):await La(t)}await this.Vr(3e5)}))}}class gL{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(ld.ce);const r=new pL(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(sT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(r=_,d=Date.now(),this.removeTargets(e,r,t)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),na()<=Fe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_}))))}}function yL(n,e){return new gL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.changes=new uo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Jl(r.mutation,o,Sn.empty(),st.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Be()){const o=Xi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=Fl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Xi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Be())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,o){let a=hs();const u=Yl(),d=(function(){return Yl()})();return t.forEach(((f,p)=>{const g=r.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof gi)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Jl(g.mutation,p,g.mutation.getFieldMask(),st.now())):u.set(p.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,g)=>u.set(p,g))),t.forEach(((p,g)=>d.set(p,new _L(g,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Yl();let o=new ct(((u,d)=>u-d)),a=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Sn.empty();g=d.applyToLocalView(p,g),r.set(f,g);const _=(o.get(d.batchId)||Be()).add(f);o=o.insert(d.batchId,_)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,_=YI();g.forEach((E=>{if(!a.has(E)){const P=rS(t.get(E),r.get(E));P!==null&&_.set(E,P),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return J.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):J.resolve(Xi());let d=uu,f=a;return u.next((p=>J.forEach(p,((g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Be()))).next((g=>({batchId:d,changes:XI(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((r=>{let o=Fl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Fl();return this.indexManager.getCollectionParents(e,a).next((d=>J.forEach(d,(f=>{const p=(function(_,E){return new Fa(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((g=>{g.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,en.newInvalidDocument(g)))}));let d=Fl();return u.forEach(((f,p)=>{const g=a.get(f);g!==void 0&&Jl(g.mutation,p,Sn.empty(),st.now()),dd(t,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:cL(o.bundledQuery),readTime:kr(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.overlays=new ct(we.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xi();return J.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const o=Xi(),a=t.length+1,u=new we(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new ct(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Xi(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Xi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=o)););return J.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new UO(t,r));let a=this.qr.get(t);a===void 0&&(a=Be(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.Qr=new Nt(Ot.$r),this.Ur=new Nt(Ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ot(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ot(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new we(new et([])),r=new Ot(t,e),o=new Ot(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new et([])),r=new Ot(t,e),o=new Ot(t,e+1);let a=Be();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Ot(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Ot.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new FO(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Ot(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?bg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ot(t,0),o=new Ot(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const d=this.Xr(u.Yr);a.push(d)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(Ue);return t.forEach((o=>{const a=new Ot(o,0),u=new Ot(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const u=new Ot(new we(a),0);let d=new Nt(Ue);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(d=d.add(f.Yr)),!0)}),u),J.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(t.mutations,(o=>{const a=new Ot(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ot(t,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.ri=e,this.docs=(function(){return new ct(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let r=hs();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():en.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=hs();const u=t.path,d=new we(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||eO(ZM(g),r)<=0||(o.has(g.key)||dd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Se(9500)}ii(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new AL(this)}getSize(e){return J.resolve(this.size)}}class AL extends vL{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.persistence=e,this.si=new uo((t=>Dg(t)),Mg),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Bg,this.targetCount=0,this.ai=Pa.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Pa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),J.waitFor(a).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.ui={},this.overlays={},this.ci=new ld(0),this.li=!1,this.li=!0,this.hi=new xL,this.referenceDelegate=e(this),this.Pi=new PL(this),this.indexManager=new hL,this.remoteDocumentCache=(function(o){return new SL(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new uL(t),this.Ii=new TL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new EL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new IL(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const o=new CL(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class CL extends nO{constructor(e){super(),this.currentSequenceNumber=e}}class zg{constructor(e){this.persistence=e,this.Ri=new Bg,this.Vi=null}static mi(e){return new zg(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=we.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Qh{constructor(e,t){this.persistence=e,this.pi=new uo((r=>iO(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=yL(this,t)}static mi(e,t){return new Qh(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?J.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,ke.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wh(e.data.value)),t}br(e,t,r){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Be(),o=Be();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new $g(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GN()?8:rO(nn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new kL;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(na()<=Fe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ra(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(na()<=Fe.DEBUG&&ce("QueryEngine","Query:",ra(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(na()<=Fe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ra(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):J.resolve())}ys(e,t){if(Kw(t))return J.resolve(null);let r=Cr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=wm(t,null,"F"),r=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Be(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,d);return this.Cs(t,p,u,f.readTime)?this.ys(e,wm(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,o){return Kw(t)||o.isEqual(ke.min())?J.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?J.resolve(null):(na()<=Fe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ra(t)),this.vs(e,u,t,JM(o,uu)).next((d=>d)))}))}Ds(e,t){let r=new Nt(KI(e));return t.forEach(((o,a)=>{dd(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return na()<=Fe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ra(t)),this.ps.getDocumentsMatchingQuery(e,t,li.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="LocalStore",bL=3e8;class NL{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ct(Ue),this.xs=new uo((a=>Dg(a)),Mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function VL(n,e,t,r){return new NL(n,e,t,r)}async function yS(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=Be();for(const p of o){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function DL(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,g){const _=p.batch,E=_.keys();let P=J.resolve();return E.forEach((M=>{P=P.next((()=>g.getEntry(f,M))).next((j=>{const b=p.docVersions.get(M);Xe(b!==null,48541),j.version.compareTo(b)<0&&(_.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),g.addEntry(j)))}))})),P.next((()=>d.mutationQueue.removeMutationBatch(f,_)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Be();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function vS(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function ML(n,e){const t=be(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((g,_)=>{const E=o.get(_);if(!E)return;d.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,_))));let P=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?P=P.withResumeToken(qt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(g.resumeToken,r)),o=o.insert(_,P),(function(j,b,L){return j.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=bL?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(E,P,g)&&d.push(t.Pi.updateTargetData(a,P))}));let f=hs(),p=Be();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(OL(a,u,e.documentUpdates).next((g=>{f=g.ks,p=g.qs}))),!r.isEqual(ke.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((_=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return J.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=o,a)))}function OL(n,e,t){let r=Be(),o=Be();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=hs();return t.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce(Wg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function LL(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jL(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,J.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new Js(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Sm(n,e,t){const r=be(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ja(u))throw u;ce(Wg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function aT(n,e,t){const r=be(n);let o=ke.min(),a=Be();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,g){const _=be(f),E=_.xs.get(g);return E!==void 0?J.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,g)})(r,u,Cr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:ke.min(),t?a:Be()))).next((d=>(FL(r,IO(e),d),{documents:d,Qs:a})))))}function FL(n,e,t){let r=n.Os.get(e)||ke.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class lT{constructor(){this.activeTargetIds=RO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UL{constructor(){this.Mo=new lT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="ConnectivityMonitor";class cT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(uT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(uT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function Am(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",zL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $L{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===$h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=Am(),d=this.zo(e,t.toUriEncodedString());ce(Pp,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:p}=new URL(d),g=ao(p);return this.Jo(e,d,f,r,g).then((_=>(ce(Pp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw xa(Pp,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",r),_}))}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=zL[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class HL extends $L{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=Am();return new Promise(((d,f)=>{const p=new wI;p.setWithCredentials(!0),p.listenOnce(TI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const _=p.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case _h.TIMEOUT:ce(Jt,`RPC '${e}' ${u} timed out`),f(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const E=p.getStatus();if(ce(Jt,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const M=P?.error;if(M&&M.status&&M.message){const j=(function(L){const K=L.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(K)>=0?K:Y.UNKNOWN})(M.status);f(new le(j,M.message))}else f(new le(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(Y.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(o);ce(Jt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const o=Am(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=II(),d=xI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${g}`,f);const _=u.createWebChannel(g,f);this.I_(_);let E=!1,P=!1;const M=new WL({Yo:b=>{P?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(E||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,b),_.send(b))},Zo:()=>_.close()}),j=(b,L,K)=>{b.listen(L,(H=>{try{K(H)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return j(_,jl.EventType.OPEN,(()=>{P||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),j(_,jl.EventType.CLOSE,(()=>{P||(P=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(_))})),j(_,jl.EventType.ERROR,(b=>{P||(P=!0,xa(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,b.name,"Message:",b.message),M.a_(new le(Y.UNAVAILABLE,"The operation could not be completed")))})),j(_,jl.EventType.MESSAGE,(b=>{if(!P){const L=b.data[0];Xe(!!L,16349);const K=L,H=K?.error||K[0]?.error;if(H){ce(Jt,`RPC '${e}' stream ${o} received error:`,H);const Z=H.status;let re=(function(I){const A=xt[I];if(A!==void 0)return iS(A)})(Z),X=H.message;re===void 0&&(re=Y.INTERNAL,X="Unknown error status: "+Z+" with message "+H.message),P=!0,M.a_(new le(re,X)),_.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,L),M.u_(L)}})),j(d,EI.STAT_EVENT,(b=>{b.stat===fm.PROXY?ce(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===fm.NOPROXY&&ce(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n){return new QO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="PersistentStream";class wS{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _S(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(cs(t.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new le(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(hT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ce(hT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qL extends wS{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=JO(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ke.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?kr(u.readTime):ke.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Im(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=vm(f)?{documents:tL(a,f)}:{query:nL(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=lS(a,u.resumeToken);const p=Tm(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(ke.min())>0){d.readTime=Kh(a,u.snapshotVersion.toTimestamp());const p=Tm(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=sL(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Im(this.serializer),t.removeTarget=e,this.q_(t)}}class GL extends wS{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=eL(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Im(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>ZO(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{}class QL extends KL{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Em(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Y.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Em(t,r),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Y.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="RemoteStore";class YL{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{co(this)&&(ce(oo,"Restarting streams for network reachability change."),await(async function(f){const p=be(f);p.Ea.add(4),await Cu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await yd(p)})(this))}))})),this.Ra=new XL(r,o)}}async function yd(n){if(co(n))for(const e of n.da)await e(!0)}async function Cu(n){for(const e of n.da)await e(!1)}function TS(n,e){const t=be(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Kg(t)?Gg(t):Ua(t).O_()&&qg(t,e))}function Hg(n,e){const t=be(n),r=Ua(t);t.Ia.delete(e),r.O_()&&ES(t,e),t.Ia.size===0&&(r.O_()?r.L_():co(t)&&t.Ra.set("Unknown"))}function qg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ua(n).Y_(e)}function ES(n,e){n.Va.Ue(e),Ua(n).Z_(e)}function Gg(n){n.Va=new HO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ua(n).start(),n.Ra.ua()}function Kg(n){return co(n)&&!Ua(n).x_()&&n.Ia.size>0}function co(n){return be(n).Ea.size===0}function xS(n){n.Va=void 0}async function JL(n){n.Ra.set("Online")}async function ZL(n){n.Ia.forEach(((e,t)=>{qg(n,e)}))}async function e4(n,e){xS(n),Kg(n)?(n.Ra.ha(e),Gg(n)):n.Ra.set("Unknown")}async function t4(n,e,t){if(n.Ra.set("Online"),e instanceof aS&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(r){ce(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(n,r)}else if(e instanceof xh?n.Va.Ze(e):e instanceof oS?n.Va.st(e):n.Va.tt(e),!t.isEqual(ke.min()))try{const r=await vS(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),ES(a,f);const _=new Js(g.target,f,p,g.sequenceNumber);qg(a,_)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ce(oo,"Failed to raise snapshot:",r),await Xh(n,r)}}async function Xh(n,e,t){if(!ja(e))throw e;n.Ea.add(1),await Cu(n),n.Ra.set("Offline"),t||(t=()=>vS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ce(oo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await yd(n)}))}function IS(n,e){return e().catch((t=>Xh(n,t,e)))}async function vd(n){const e=be(n),t=di(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bg;for(;n4(e);)try{const o=await LL(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,r4(e,o)}catch(o){await Xh(e,o)}SS(e)&&AS(e)}function n4(n){return co(n)&&n.Ta.length<10}function r4(n,e){n.Ta.push(e);const t=di(n);t.O_()&&t.X_&&t.ea(e.mutations)}function SS(n){return co(n)&&!di(n).x_()&&n.Ta.length>0}function AS(n){di(n).start()}async function s4(n){di(n).ra()}async function i4(n){const e=di(n);for(const t of n.Ta)e.ea(t.mutations)}async function o4(n,e,t){const r=n.Ta.shift(),o=jg.from(r,e,t);await IS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await vd(n)}async function a4(n,e){e&&di(n).X_&&await(async function(r,o){if((function(u){return zO(u)&&u!==Y.ABORTED})(o.code)){const a=r.Ta.shift();di(r).B_(),await IS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await vd(r)}})(n,e),SS(n)&&AS(n)}async function dT(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),ce(oo,"RemoteStore received new credentials");const r=co(t);t.Ea.add(3),await Cu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await yd(t)}async function l4(n,e){const t=be(n);e?(t.Ea.delete(2),await yd(t)):e||(t.Ea.add(2),await Cu(t),t.Ra.set("Unknown"))}function Ua(n){return n.ma||(n.ma=(function(t,r,o){const a=be(t);return a.sa(),new qL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:JL.bind(null,n),t_:ZL.bind(null,n),r_:e4.bind(null,n),H_:t4.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Kg(n)?Gg(n):n.Ra.set("Unknown")):(await n.ma.stop(),xS(n))}))),n.ma}function di(n){return n.fa||(n.fa=(function(t,r,o){const a=be(t);return a.sa(),new GL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:s4.bind(null,n),r_:a4.bind(null,n),ta:i4.bind(null,n),na:o4.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await vd(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(oo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new Qg(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(n,e){if(cs("AsyncQueue",`${e}: ${n}`),ja(n))return new le(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static emptySet(e){return new ga(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=Fl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.ga=new ct(we.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ca{constructor(e,t,r,o,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Ca(e,t,ga.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class c4{constructor(){this.queries=pT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=be(t),a=o.queries;o.queries=pT(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function pT(){return new uo((n=>GI(n)),hd)}async function h4(n,e){const t=be(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new u4,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Xg(u,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Yg(t)}async function d4(n,e){const t=be(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function f4(n,e){const t=be(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&Yg(t)}function p4(n,e,t){const r=be(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function Yg(n){n.Ca.forEach((e=>{e.next()}))}var Pm,mT;(mT=Pm||(Pm={})).Ma="default",mT.Cache="cache";class m4{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.key=e}}class CS{constructor(e){this.key=e}}class g4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=KI(e),this.tu=new ga(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new fT,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,_)=>{const E=o.get(g),P=dd(this.query,_)?_:null,M=!!E&&this.mutatedKeys.has(E.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let b=!1;E&&P?E.data.isEqual(P.data)?M!==j&&(r.track({type:3,doc:P}),b=!0):this.su(E,P)||(r.track({type:2,doc:P}),b=!0,(f&&this.eu(P,f)>0||p&&this.eu(P,p)<0)&&(d=!0)):!E&&P?(r.track({type:0,doc:P}),b=!0):E&&!P&&(r.track({type:1,doc:E}),b=!0,(f||p)&&(d=!0)),b&&(P?(u=u.add(P),a=j?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,_)=>(function(P,M){const j=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:b})}};return j(P)-j(M)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Ca(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new CS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new PS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jg="SyncEngine";class y4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class v4{constructor(e){this.key=e,this.hu=!1}}class _4{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new uo((d=>GI(d)),hd),this.Iu=new Map,this.Eu=new Set,this.du=new ct(we.comparator),this.Au=new Map,this.Ru=new Bg,this.Vu={},this.mu=new Map,this.fu=Pa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w4(n,e,t=!0){const r=DS(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await kS(r,e,t,!0),o}async function T4(n,e){const t=DS(n);await kS(t,e,!0,!1)}async function kS(n,e,t,r){const o=await jL(n.localStore,Cr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await E4(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&TS(n.remoteStore,o),d}async function E4(n,e,t,r,o){n.pu=(_,E,P)=>(async function(j,b,L,K){let H=b.view.ru(L);H.Cs&&(H=await aT(j.localStore,b.query,!1).then((({documents:R})=>b.view.ru(R,H))));const Z=K&&K.targetChanges.get(b.targetId),re=K&&K.targetMismatches.get(b.targetId)!=null,X=b.view.applyChanges(H,j.isPrimaryClient,Z,re);return yT(j,b.targetId,X.au),X.snapshot})(n,_,E,P);const a=await aT(n.localStore,e,!0),u=new g4(e,a.Qs),d=u.ru(a.documents),f=Pu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=u.applyChanges(d,n.isPrimaryClient,f);yT(n,t,p.au);const g=new y4(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function x4(n,e,t){const r=be(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!hd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Hg(r.remoteStore,o.targetId),Cm(r,o.targetId)})).catch(La)):(Cm(r,o.targetId),await Sm(r.localStore,o.targetId,!0))}async function I4(n,e){const t=be(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Hg(t.remoteStore,r.targetId))}async function S4(n,e,t){const r=N4(n);try{const o=await(function(u,d){const f=be(u),p=st.now(),g=d.reduce(((P,M)=>P.add(M.key)),Be());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let M=hs(),j=Be();return f.Ns.getEntries(P,g).next((b=>{M=b,M.forEach(((L,K)=>{K.isValidDocument()||(j=j.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(P,M))).next((b=>{_=b;const L=[];for(const K of d){const H=LO(K,_.get(K.key).overlayedDocument);H!=null&&L.push(new gi(K.key,H,jI(H.value.mapValue),Zn.exists(!0)))}return f.mutationQueue.addMutationBatch(P,p,L,d)})).next((b=>{E=b;const L=b.applyToLocalDocumentSet(_,j);return f.documentOverlayCache.saveOverlays(P,b.batchId,L)}))})).then((()=>({batchId:E.batchId,changes:XI(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,d,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new ct(Ue)),p=p.insert(d,f),u.Vu[u.currentUser.toKey()]=p})(r,o.batchId,t),await ku(r,o.changes),await vd(r.remoteStore)}catch(o){const a=Xg(o,"Failed to persist write");t.reject(a)}}async function RS(n,e){const t=be(n);try{const r=await ML(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Au.get(a);u&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Xe(u.hu,14607):o.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await ku(t,r,e)}catch(r){await La(r)}}function gT(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=be(u);f.onlineState=d;let p=!1;f.queries.forEach(((g,_)=>{for(const E of _.Sa)E.va(d)&&(p=!0)})),p&&Yg(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A4(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new ct(we.comparator);u=u.insert(a,en.newNoDocument(a,ke.min()));const d=Be().add(a),f=new md(ke.min(),new Map,new ct(Ue),u,d);await RS(r,f),r.du=r.du.remove(a),r.Au.delete(e),Zg(r)}else await Sm(r.localStore,e,!1).then((()=>Cm(r,e,t))).catch(La)}async function P4(n,e){const t=be(n),r=e.batch.batchId;try{const o=await DL(t.localStore,e);NS(t,r,null),bS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ku(t,o)}catch(o){await La(o)}}async function C4(n,e,t){const r=be(n);try{const o=await(function(u,d){const f=be(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next((_=>(Xe(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);NS(r,e,t),bS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ku(r,o)}catch(o){await La(o)}}function bS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function NS(n,e,t){const r=be(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||VS(n,r)}))}function VS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Hg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Zg(n))}function yT(n,e,t){for(const r of t)r instanceof PS?(n.Ru.addReference(r.key,e),k4(n,r)):r instanceof CS?(ce(Jg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||VS(n,r.key)):Se(19791,{wu:r})}function k4(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ce(Jg,"New document in limbo: "+t),n.Eu.add(r),Zg(n))}function Zg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(et.fromString(e)),r=n.fu.next();n.Au.set(r,new v4(t)),n.du=n.du.insert(t,r),TS(n.remoteStore,new Js(Cr(HI(t.path)),r,"TargetPurposeLimboResolution",ld.ce))}}async function ku(n,e,t){const r=be(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){o.push(p);const g=$g.As(f.targetId,p);a.push(g)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,p){const g=be(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>J.forEach(p,(E=>J.forEach(E.Es,(P=>g.persistence.referenceDelegate.addReference(_,E.targetId,P))).next((()=>J.forEach(E.ds,(P=>g.persistence.referenceDelegate.removeReference(_,E.targetId,P)))))))))}catch(_){if(!ja(_))throw _;ce(Wg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const P=g.Ms.get(E),M=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion(M);g.Ms=g.Ms.insert(E,j)}}})(r.localStore,a))}async function R4(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){ce(Jg,"User change. New user:",e.toKey());const r=await yS(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new le(Y.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(t,r.Ls)}}function b4(n,e){const t=be(n),r=t.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let o=Be();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function DS(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A4.bind(null,e),e.Pu.H_=f4.bind(null,e.eventManager),e.Pu.yu=p4.bind(null,e.eventManager),e}function N4(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C4.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return VL(this.persistence,new RL,e.initialUser,this.serializer)}Cu(e){return new gS(zg.mi,this.serializer)}Du(e){return new UL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class V4 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof Qh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mL(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new gS((r=>Qh.mi(r,t)),this.serializer)}}class km{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R4.bind(null,this.syncEngine),await l4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c4})()}createDatastore(e){const t=gd(e.databaseInfo.databaseId),r=(function(a){return new HL(a)})(e.databaseInfo);return(function(a,u,d,f){return new QL(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,d){return new YL(r,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>gT(this.syncEngine,t,0)),(function(){return cT.v()?new cT:new BL})())}createSyncEngine(e,t){return(function(o,a,u,d,f,p,g){const _=new _4(o,a,u,d,f,p);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=be(t);ce(oo,"RemoteStore shutting down."),r.Ea.add(5),await Cu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="FirestoreClient";class M4{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ce(fi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ce(fi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Xg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kp(n,e){n.asyncQueue.verifyOperationInProgress(),ce(fi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await yS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function vT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await O4(n);ce(fi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>dT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>dT(e.remoteStore,o))),n._onlineComponents=e}async function O4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(fi,"Using user provided OfflineComponentProvider");try{await kp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;xa("Error using user provided cache. Falling back to memory cache: "+t),await kp(n,new Yh)}}else ce(fi,"Using default OfflineComponentProvider"),await kp(n,new V4(void 0));return n._offlineComponents}async function MS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(fi,"Using user provided OnlineComponentProvider"),await vT(n,n._uninitializedComponentsProvider._online)):(ce(fi,"Using default OnlineComponentProvider"),await vT(n,new km))),n._onlineComponents}function L4(n){return MS(n).then((e=>e.syncEngine))}async function j4(n){const e=await MS(n),t=e.eventManager;return t.onListen=w4.bind(null,e.syncEngine),t.onUnlisten=x4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=T4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I4.bind(null,e.syncEngine),t}function F4(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const g=new D4({next:E=>{g.Nu(),u.enqueueAndForget((()=>d4(a,_))),E.fromCache&&f.source==="server"?p.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new m4(d,g,{includeMetadataChanges:!0,qa:!0});return h4(a,_)})(await j4(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firestore.googleapis.com",wT=!0;class TT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LS,this.ssl=wT}else this.host=e.host,this.ssl=e.ssl??wT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fL)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new BM;switch(r.type){case"firstParty":return new HM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=_T.get(t);r&&(ce("ComponentProvider","Removing Datastore"),_T.delete(t),r.terminate())})(this),Promise.resolve()}}function U4(n,e,t,r={}){n=io(n,_d);const o=ao(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(mg(`https://${d}`),gg("Firestore",!0)),a.host!==LS&&a.host!==d&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!to(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Zt.MOCK_USER;else{p=Vx(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Zt(_)}n._authCredentials=new zM(new AI(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Su(t,bt._jsonSchema))return new bt(e,r||null,new we(et.fromString(t.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Pt("string",bt._jsonSchemaVersion),referencePath:Pt("string")};class si extends ho{constructor(e,t,r){super(e,t,HI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new we(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function Ru(n,e,...t){if(n=Ht(n),PI("collection","path",e),n instanceof _d){const r=et.fromString(e,...t);return Dw(r),new si(n,null,r)}{if(!(n instanceof bt||n instanceof si))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return Dw(r),new si(n.firestore,null,r)}}function Rm(n,e,...t){if(n=Ht(n),arguments.length===1&&(e=Rg.newId()),PI("doc","path",e),n instanceof _d){const r=et.fromString(e,...t);return Vw(r),new bt(n,null,new we(r))}{if(!(n instanceof bt||n instanceof si))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return Vw(r),new bt(n.firestore,n instanceof si?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="AsyncQueue";class xT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _S(this,"async_queue_retry"),this._c=()=>{const r=Cp();r&&ce(ET,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Cp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Cp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ri;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ja(e))throw e;ce(ET,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",IT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Qg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:IT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function IT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class bu extends _d{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new xT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xT(e),this._firestoreClient=void 0,await e}}}function B4(n,e){const t=typeof n=="object"?n:_g(),r=typeof n=="string"?n:$h,o=sd(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=Rx("firestore");a&&U4(o,...a)}return o}function jS(n){if(n._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||z4(n),n._firestoreClient}function z4(n){const e=n._freezeSettings(),t=(function(o,a,u,d){return new lO(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new M4(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(qt.fromBase64String(e))}catch(t){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ln(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Pt("string",Ln._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(Su(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:Pt("string",Rr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new br(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:Pt("string",br._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=/^__.*__$/;class W4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Au(e,this.data,t,this.fieldTransforms)}}class FS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function US(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:n})}}class ty{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ty({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(US(this.Ac)&&$4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class H4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gd(e)}Cc(e,t,r,o=!1){return new ty({Ac:e,methodName:t,Dc:r,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(n){const e=n._freezeSettings(),t=gd(n._databaseId);return new H4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function q4(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);ry("Data must be an object, but it was:",u,r);const d=BS(r,u);let f,p;if(a.merge)f=new Sn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=bm(e,_,t);if(!u.contains(E))throw new le(Y.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);$S(g,E)||g.push(E)}f=new Sn(g),p=u.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=u.fieldTransforms;return new W4(new pn(d),f,p)}class Td extends ey{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function G4(n,e,t,r){const o=n.Cc(1,e,t);ry("Data must be an object, but it was:",o,r);const a=[],u=pn.empty();mi(r,((f,p)=>{const g=sy(e,f,t);p=Ht(p);const _=o.yc(g);if(p instanceof Td)a.push(g);else{const E=Nu(p,_);E!=null&&(a.push(g),u.set(g,E))}}));const d=new Sn(a);return new FS(u,d,o.fieldTransforms)}function K4(n,e,t,r,o,a){const u=n.Cc(1,e,t),d=[bm(e,r,t)],f=[o];if(a.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(bm(e,a[E])),f.push(a[E+1]);const p=[],g=pn.empty();for(let E=d.length-1;E>=0;--E)if(!$S(p,d[E])){const P=d[E];let M=f[E];M=Ht(M);const j=u.yc(P);if(M instanceof Td)p.push(P);else{const b=Nu(M,j);b!=null&&(p.push(P),g.set(P,b))}}const _=new Sn(p);return new FS(g,_,u.fieldTransforms)}function Q4(n,e,t,r=!1){return Nu(t,n.Cc(r?4:3,e))}function Nu(n,e){if(zS(n=Ht(n)))return ry("Unsupported field value:",e,n),BS(n,e);if(n instanceof ey)return(function(r,o){if(!US(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const d of r){let f=Nu(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=st.fromDate(r);return{timestampValue:Kh(o.serializer,a)}}if(r instanceof st){const a=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(o.serializer,a)}}if(r instanceof Rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:lS(o.serializer,r._byteString)};if(r instanceof bt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ug(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof br)return(function(u,d){return{mapValue:{fields:{[OI]:{stringValue:LI},[Wh]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Og(d.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ad(r)}`)})(n,e)}function BS(n,e){const t={};return RI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(n,((r,o)=>{const a=Nu(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function zS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof Rr||n instanceof Ln||n instanceof bt||n instanceof ey||n instanceof br)}function ry(n,e,t){if(!zS(t)||!CI(t)){const r=ad(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function bm(n,e,t){if((e=Ht(e))instanceof wd)return e._internalPath;if(typeof e=="string")return sy(n,e);throw Jh("Field path arguments must be of type string or ",n,!1,void 0,t)}const X4=new RegExp("[~\\*/\\[\\]]");function sy(n,e,t){if(e.search(X4)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wd(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jh(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new le(Y.INVALID_ARGUMENT,d+n+f)}function $S(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ed("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Y4 extends WS{data(){return super.data()}}function Ed(n,e){return typeof e=="string"?sy(n,e):e instanceof wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iy{}class HS extends iy{}function oy(n,e,...t){let r=[];e instanceof iy&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof ay)).length,d=a.filter((f=>f instanceof xd)).length;if(u>1||u>0&&d>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class xd extends HS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new xd(e,t,r)}_apply(e){const t=this._parse(e);return qS(e._query,t),new ho(e.firestore,e.converter,_m(e._query,t))}_parse(e){const t=ny(e.firestore);return(function(a,u,d,f,p,g,_){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){AT(_,g);const M=[];for(const j of _)M.push(ST(f,a,j));E={arrayValue:{values:M}}}else E=ST(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||AT(_,g),E=Q4(d,u,_,g==="in"||g==="not-in");return At.create(p,g,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Nm(n,e,t){const r=e,o=Ed("where",n);return xd._create(o,r,t)}class ay extends iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ay(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)qS(u,f),u=_m(u,f)})(e._query,t),new ho(e.firestore,e.converter,_m(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ly extends HS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ly(e,t)}_apply(e){const t=(function(o,a,u){if(o.startAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(a,u)})(e._query,this._field,this._direction);return new ho(e.firestore,e.converter,(function(o,a){const u=o.explicitOrderBy.concat([a]);return new Fa(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Z4(n,e="asc"){const t=e,r=Ed("orderBy",n);return ly._create(r,t)}function ST(n,e,t){if(typeof(t=Ht(t))=="string"){if(t==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qI(e)&&t.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(et.fromString(t));if(!we.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zw(n,new we(r))}if(t instanceof bt)return zw(n,t._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(t)}.`)}function AT(n,e){if(!Array.isArray(n)||n.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qS(n,e){const t=(function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ej{convertValue(e,t="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mi(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Wh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new br(t)}convertGeoPoint(e){return new Rr(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const t=ui(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=et.fromString(e);Xe(pS(r),9688,{name:e});const o=new hu(r.get(1),r.get(3)),a=new we(r.popFirst(5));return o.isEqual(t)||cs(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class uh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends WS{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ed("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ya._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Pt("string",ya._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Ih extends ya{data(e={}){return super.data(e)}}class va{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new uh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Ih(this._firestore,this._userDataWriter,r.key,r,new uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new Ih(o._firestore,o._userDataWriter,d.doc.key,d.doc,new uh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Ih(o._firestore,o._userDataWriter,d.doc.key,d.doc,new uh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:nj(d.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Pt("string",va._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class rj extends ej{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function Vu(n){n=io(n,ho);const e=io(n.firestore,bu),t=jS(e),r=new rj(e);return J4(n._query),F4(t,n._query).then((o=>new va(e,r,n,o)))}function sj(n,e,t,...r){n=io(n,bt);const o=io(n.firestore,bu),a=ny(o);let u;return u=typeof(e=Ht(e))=="string"||e instanceof wd?K4(a,"updateDoc",n._key,e,t,r):G4(a,"updateDoc",n._key,e),uy(o,[u.toMutation(n._key,Zn.exists(!0))])}function ij(n){return uy(io(n.firestore,bu),[new Lg(n._key,Zn.none())])}function oj(n,e){const t=io(n.firestore,bu),r=Rm(n),o=tj(n.converter,e);return uy(t,[q4(ny(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then((()=>r))}function uy(n,e){return(function(r,o){const a=new ri;return r.asyncQueue.enqueueAndForget((async()=>S4(await L4(r),o,a))),a.promise})(jS(n),e)}(function(e,t=!0){(function(o){Oa=o})(lo),no(new ai("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new bu(new $M(r.getProvider("auth-internal")),new qM(u,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(p.options.projectId,g)})(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Sr(kw,Rw,e),Sr(kw,Rw,"esm2020")})();const aj={apiKey:"AIzaSyAOSnbmrFMVJJiC67zA8tVGK8S0SXehqhE",authDomain:"bare-and-beautiful-f7654.firebaseapp.com",projectId:"bare-and-beautiful-f7654",storageBucket:"bare-and-beautiful-f7654.appspot.com",messagingSenderId:"609973247650",appId:"1:609973247650:web:74aedfb5d657dab94941fb",measurementId:"G-WCX2QJSBSX"},cy=Ox(aj),eo=B4(cy),lj=cM(cy);LM(cy);const uj=[{id:"skincare",name:"Skincare",icon:""},{id:"fragrance",name:"Fragrance",icon:""},{id:"haircare",name:"Hair Care",icon:""},{id:"bodycare",name:"Body Care",icon:""}];function cj({onNavigate:n,user:e,onViewProduct:t,onSelectCategory:r,cartItemCount:o}){const[a,u]=$.useState([]),[d,f]=$.useState(!0);return $.useEffect(()=>{(async()=>{try{const g=oy(Ru(eo,"products"),Nm("featured","==",!0)),E=(await Vu(g)).docs.map(P=>({id:P.id,...P.data()}));u(E)}catch(g){console.error("Error fetching featured products:",g)}finally{f(!1)}})()},[]),T.jsxs("div",{className:"min-h-screen bg-background",children:[T.jsx(St.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b border-border",children:T.jsx("div",{className:"container mx-auto px-4 py-3",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-xl font-bold text-primary",children:"Bare and Beautiful Skincare"}),T.jsx("div",{className:"hidden md:block max-w-md mx-8",children:T.jsxs("div",{className:"relative w-full",children:[T.jsx(ax,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),T.jsx(Zs,{placeholder:"Search for products...",className:"pl-10 bg-input-background"})]})}),T.jsxs("div",{className:"flex items-center gap-3",children:[e?T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>n("profile"),className:"hidden md:flex",children:[T.jsx(Ta,{className:"w-4 h-4 mr-2"}),e.name]}),T.jsx(Le,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>n("profile"),children:T.jsx(Ta,{className:"w-4 h-4"})})]}):T.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>n("login"),children:"Sign In"}),T.jsxs(Le,{variant:"ghost",size:"sm",className:"relative",onClick:()=>n("cart"),children:[T.jsx(ou,{className:"w-4 h-4"}),o>0&&T.jsx(Qs,{className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center p-0 bg-primary text-primary-foreground text-xs",children:o})]})]})]})})}),T.jsx(St.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"relative py-16 md:py-24 bg-gradient-to-br from-pink-50 to-orange-50",children:T.jsxs("div",{className:"container mx-auto px-4 grid md:grid-cols-2 gap-8 items-center",children:[T.jsxs(St.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.2},children:[T.jsxs("h2",{className:"text-3xl md:text-5xl font-bold mb-4",children:["Discover Your ",T.jsx("span",{className:"text-pink-600",children:"Glow"})]}),T.jsx("p",{className:"text-lg text-muted-foreground mb-6 max-w-md",children:"Premium skincare, fragrance, and hair care products to enhance your natural beauty. Shop from top brands with expert recommendations."}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[T.jsxs(Le,{size:"lg",className:"bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700",onClick:()=>n("products"),children:["Shop Now ",T.jsx(mb,{className:"w-4 h-4 ml-2"})]}),T.jsx(Le,{variant:"outline",size:"lg",children:"Beauty Tips"})]})]}),T.jsx(St.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.4},children:T.jsx(Sx,{src:"https://images.unsplash.com/photo-1625499554890-687b49f24259?...",alt:"Beautiful woman with glowing skin",className:"w-full h-80 md:h-96 object-cover rounded-2xl shadow-2xl"})})]})}),T.jsx(St.section,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.8},className:"py-16 bg-muted/30",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8",children:[T.jsx("h3",{className:"text-2xl font-bold",children:"Featured Products"}),T.jsx(Le,{variant:"outline",onClick:()=>n("products"),children:"View All"})]}),d?T.jsx("p",{className:"text-center text-muted-foreground",children:"Loading products..."}):a.length===0?T.jsx("p",{className:"text-center text-muted-foreground",children:"No featured products available."}):T.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 flex flex-col gap-4",children:a.map((p,g)=>T.jsx(St.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:g*.1},children:T.jsx(Xs,{className:"cursor-pointer hover:scale-105 transition-transform duration-300 group",children:T.jsxs(Ys,{className:"p-0",children:[T.jsxs("div",{className:"relative overflow-hidden rounded-t-lg",children:[T.jsx("img",{src:p.image,alt:p.name,className:"w-full h-auto max-h-80 object-contain bg-white rounded-lg"}),T.jsx(Le,{size:"sm",variant:"ghost",className:"absolute top-2 right-2 bg-white/80 hover:bg-white",children:T.jsx(fg,{className:"w-4 h-4"})}),p.originalPrice&&T.jsxs(Qs,{className:"absolute top-2 left-2 bg-red-500 text-white",children:["Save KSh ",p.originalPrice-p.price]})]}),T.jsxs("div",{className:"p-4",onClick:()=>t(p),children:[T.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[T.jsx(ql,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),T.jsxs("span",{className:"text-sm text-muted-foreground",children:[p.rating," (",p.reviewCount,")"]})]}),T.jsx("h4",{className:"font-medium mb-1",children:p.name}),T.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.brand}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("span",{className:"font-bold",children:["KSh ",p.price.toLocaleString()]}),p.originalPrice&&T.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["KSh ",p.originalPrice.toLocaleString()]})]})]})]})})},p.id))})]})}),T.jsx(St.section,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1.2},className:"py-16 bg-gradient-to-r from-pink-600 to-orange-600",children:T.jsxs("div",{className:"container mx-auto px-4 text-center",children:[T.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Stay Updated with Beauty Tips"}),T.jsx("p",{className:"text-pink-100 mb-6 max-w-md mx-auto",children:"Get the latest beauty trends, product launches, and exclusive offers delivered to your inbox."}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[T.jsx(Zs,{placeholder:"Enter your email",className:"bg-white border-0"}),T.jsx(Le,{className:"bg-white text-pink-600 hover:bg-pink-50",children:"Subscribe"})]})]})}),T.jsx("footer",{className:"py-8 border-t border-border",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold mb-3",children:"Bare and Beautiful"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Your trusted partner for premium skincare, bodycare fragrance, and hair care products."})]}),T.jsxs("div",{children:[T.jsx("h5",{className:"font-medium mb-3",children:"Categories"}),T.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:uj.map(p=>T.jsx("li",{children:T.jsx("button",{onClick:()=>{r(p.id),n("products")},className:"hover:underline text-left w-full",children:p.name})},p.id))})]}),T.jsxs("div",{children:[T.jsx("h5",{className:"font-medium mb-3",children:"Support"}),T.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[T.jsx("li",{children:T.jsx("button",{onClick:()=>n("contact"),className:"hover:underline w-full text-left",children:"Contact Us"})}),T.jsx("li",{children:T.jsx("button",{onClick:()=>n("faq"),className:"hover:underline w-full text-left",children:"FAQ"})}),T.jsx("li",{children:T.jsx("button",{onClick:()=>n("returns"),className:"hover:underline w-full text-left",children:"Returns"})}),T.jsx("li",{children:T.jsx("button",{onClick:()=>n("shipping"),className:"hover:underline w-full text-left",children:"Shipping"})})]})]}),T.jsxs("div",{children:[T.jsx("h5",{className:"font-medium mb-3",children:"Connect"}),T.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[T.jsx("li",{children:T.jsx("a",{href:"https://instagram.com/bareandbeautifulskincare",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Instagram"})}),T.jsx("li",{children:T.jsx("a",{href:"https://facebook.com/bareandbeautifulskincare",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Facebook"})}),T.jsx("li",{children:T.jsx("a",{href:"https://tiktok.com/@bareandbeautifulskincare",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"TikTok"})})]})]})]}),T.jsx("div",{className:"mt-8 pt-8 border-t border-border text-center text-sm text-muted-foreground cursor-pointer select-none",onClick:()=>n("admin-login"),title:"Secret Admin Access",children:" 2024 Bare and Beautiful. All rights reserved."})]})})]})}PT();var hj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fo=hj.reduce((n,e)=>{const t=bh(`Primitive.${e}`),r=$.forwardRef((o,a)=>{const{asChild:u,...d}=o,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(f,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),dj="Label",GS=$.forwardRef((n,e)=>T.jsx(fo.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));GS.displayName=dj;var fj=GS;function Zl({className:n,...e}){return T.jsx(fj,{"data-slot":"label",className:An("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]-events-none group-data-[disabled=true]-50 peer-disabled-not-allowed peer-disabled-50",n),...e})}function pj({onNavigate:n,onLogin:e}){const[t,r]=$.useState(""),[o,a]=$.useState(""),[u,d]=$.useState(!1),[f,p]=$.useState(!1),g=async _=>{_.preventDefault(),p(!0),await new Promise(E=>setTimeout(E,1e3)),e(t,o),p(!1)};return T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-orange-50 to-purple-50 flex flex-col items-center justify-center p-6",children:[T.jsx(St.button,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},onClick:()=>n("home"),className:"absolute top-6 left-6 p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-md hover:shadow-lg transition-all duration-200 hover:scale-110",children:T.jsx(Na,{className:"w-5 h-5 text-pink-600"})}),T.jsx(St.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:T.jsxs(Xs,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:[T.jsxs(Ex,{className:"text-center",children:[T.jsx(xx,{className:"text-2xl bg-gradient-to-r from-pink-600 to-orange-600 bg-clip-text text-transparent",children:"Welcome Back"}),T.jsx(Ix,{children:"Sign in to your Bare and Beautiful account"})]}),T.jsxs(Ys,{children:[T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(Zl,{htmlFor:"email",children:"Email"}),T.jsx(Zs,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:_=>r(_.target.value),required:!0,className:"bg-input-background border-pink-200 focus:border-pink-500 focus:ring-pink-500"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Zl,{htmlFor:"password",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(Zs,{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:o,onChange:_=>a(_.target.value),required:!0,className:"bg-input-background border-pink-200 focus:border-pink-500 focus:ring-pink-500 pr-10"}),T.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:u?T.jsx(em,{className:"w-4 h-4"}):T.jsx(tm,{className:"w-4 h-4"})})]})]}),T.jsx(Le,{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105",children:f?"Signing in...":"Sign In"})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",T.jsx("button",{onClick:()=>n("signup"),className:"text-pink-600 hover:text-pink-700 underline",children:"Sign up here"})]})})]})]})})]})}function mj({onNavigate:n,onSignup:e}){const[t,r]=$.useState(""),[o,a]=$.useState(""),[u,d]=$.useState(""),[f,p]=$.useState(!1),[g,_]=$.useState(!1),[E,P]=$.useState(!1),[M,j]=$.useState(""),b=async L=>{if(L.preventDefault(),j(""),o!==u){j("Passwords do not match");return}if(o.length<6){j("Password must be at least 6 characters");return}P(!0),await new Promise(K=>setTimeout(K,1e3)),e(t,o),P(!1)};return T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-orange-50 to-purple-50 flex flex-col items-center justify-center p-6",children:[T.jsx(St.button,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},onClick:()=>n("home"),className:"absolute top-6 left-6 p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-md hover:shadow-lg transition-all duration-200 hover:scale-110",children:T.jsx(Na,{className:"w-5 h-5 text-pink-600"})}),T.jsx(St.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:T.jsxs(Xs,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:[T.jsxs(Ex,{className:"text-center",children:[T.jsx(xx,{className:"text-2xl bg-gradient-to-r from-pink-600 to-orange-600 bg-clip-text text-transparent",children:"Join Bare and Beautiful"}),T.jsx(Ix,{children:"Create your account to get started"})]}),T.jsxs(Ys,{children:[T.jsxs("form",{onSubmit:b,className:"space-y-4",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(Zl,{htmlFor:"signup-email",children:"Email"}),T.jsx(Zs,{id:"signup-email",type:"email",placeholder:"Enter your email",value:t,onChange:L=>r(L.target.value),required:!0,className:"bg-input-background border-pink-200 focus:border-pink-500 focus:ring-pink-500"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Zl,{htmlFor:"signup-password",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(Zs,{id:"signup-password",type:f?"text":"password",placeholder:"Create a password",value:o,onChange:L=>a(L.target.value),required:!0,className:"bg-input-background border-purple-200 focus:border-purple-500 focus:ring-purple-500 pr-10"}),T.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:f?T.jsx(em,{className:"w-4 h-4"}):T.jsx(tm,{className:"w-4 h-4"})})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Zl,{htmlFor:"confirm-password",children:"Confirm Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(Zs,{id:"confirm-password",type:g?"text":"password",placeholder:"Confirm your password",value:u,onChange:L=>d(L.target.value),required:!0,className:"bg-input-background border-purple-200 focus:border-purple-500 focus:ring-purple-500 pr-10"}),T.jsx("button",{type:"button",onClick:()=>_(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:g?T.jsx(em,{className:"w-4 h-4"}):T.jsx(tm,{className:"w-4 h-4"})})]})]}),M&&T.jsx(St.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-destructive",children:M}),T.jsx(Le,{type:"submit",disabled:E,className:"w-full bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105",children:E?"Creating account...":"Sign Up"})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",T.jsx("button",{onClick:()=>n("login"),className:"text-pink-600 hover:text-pink-700 underline",children:"Sign in here"})]})})]})]})})]})}const gj=[{id:"all",label:"All Prices",min:0,max:1/0},{id:"under1000",label:"Under KSh 1,000",min:0,max:1e3},{id:"1000-2000",label:"KSh 1,000 - 2,000",min:1e3,max:2e3},{id:"2000-3000",label:"KSh 2,000 - 3,000",min:2e3,max:3e3},{id:"over3000",label:"Over KSh 3,000",min:3e3,max:1/0}];function yj({onNavigate:n,user:e,onViewProduct:t,selectedCategory:r="all",onSelectCategory:o,cartItemCount:a}){const[u,d]=$.useState(!1),[f,p]=$.useState(""),[g,_]=$.useState("All Brands"),[E,P]=$.useState("all"),[M,j]=$.useState("featured"),[b,L]=$.useState("grid"),[K,H]=$.useState([]);if($.useEffect(()=>{(async()=>{try{const I=(await Vu(Ru(eo,"products"))).docs.map(A=>({id:A.id,...A.data()}));H(I)}catch(R){console.error("Error fetching products:",R)}})()},[]),$.useEffect(()=>d(!0),[]),!u)return null;const re=[...K.filter(X=>{const R=r==="all"||X.category===r,I=X.name?.toLowerCase().includes(f.toLowerCase())||X.brand?.toLowerCase().includes(f.toLowerCase()),A=g==="All Brands"||X.brand===g,N=gj.find(F=>F.id===E),V=N?X.price>=N.min&&X.price<=N.max:!0;return R&&I&&A&&V})].sort((X,R)=>{switch(M){case"price-low":return X.price-R.price;case"price-high":return R.price-X.price;case"rating":return(R.rating||0)-(X.rating||0);case"newest":return R.id.localeCompare(X.id);default:return 0}});return T.jsxs("div",{className:"min-h-screen bg-background",children:[T.jsx(St.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b border-border",children:T.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>n("home"),children:[T.jsx(Na,{className:"w-4 h-4 mr-2"})," Back"]}),T.jsx("h1",{className:"text-xl font-bold text-primary",children:"Bare and Beautiful"})]}),T.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:T.jsxs("div",{className:"relative w-full",children:[T.jsx(ax,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground w-4 h-4"}),T.jsx(Zs,{placeholder:"Search products...",className:"pl-10 bg-input-background",value:f,onChange:X=>p(X.target.value)})]})}),T.jsxs("div",{className:"flex items-center gap-3",children:[e?T.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>n("profile"),className:"hidden md:flex",children:[T.jsx(Ta,{className:"w-4 h-4 mr-2"}),e.name]}):T.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>n("login"),children:"Sign In"}),T.jsxs(Le,{variant:"ghost",size:"sm",className:"relative",onClick:()=>n("cart"),children:[T.jsx(ou,{className:"w-4 h-4"}),a>0&&T.jsx(Qs,{className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center p-0 bg-primary text-primary-foreground text-xs",children:a})]})]})]})}),T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold",children:"Products"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(Le,{variant:b==="grid"?"default":"ghost",size:"sm",onClick:()=>L("grid"),children:T.jsx(_b,{className:"w-4 h-4"})}),T.jsx(Le,{variant:b==="list"?"default":"ghost",size:"sm",onClick:()=>L("list"),children:T.jsx(Eb,{className:"w-4 h-4"})})]})]}),T.jsx("div",{className:b==="grid"?"grid sm:grid-cols-2 lg:grid-cols-3 gap-6":"flex flex-col gap-4",children:re.map(X=>T.jsx(Xs,{className:"cursor-pointer hover:scale-105 transition-transform duration-300",onClick:()=>t(X),children:T.jsxs(Ys,{className:"p-0",children:[T.jsxs("div",{className:"relative overflow-hidden rounded-t-lg",children:[T.jsx("img",{src:X.image,alt:X.name,className:"w-full h-auto max-h-80 object-contain bg-white rounded-lg"}),T.jsx(Le,{size:"sm",variant:"ghost",className:"absolute top-2 right-2 bg-white/80 hover:bg-white",children:T.jsx(fg,{className:"w-4 h-4"})}),X.originalPrice&&T.jsxs(Qs,{className:"absolute top-2 left-2 bg-red-500 text-white",children:["Save KSh ",X.originalPrice-X.price]})]}),T.jsxs("div",{className:"p-4",children:[T.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[T.jsx(ql,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),T.jsxs("span",{className:"text-sm text-muted-foreground",children:[X.rating||"N/A"," (",X.reviewCount||0,")"]})]}),T.jsx("h4",{className:"font-medium mb-1",children:X.name}),T.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:X.brand}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("span",{className:"font-bold",children:["KSh ",X.price?.toLocaleString()]}),X.originalPrice&&T.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["KSh ",X.originalPrice.toLocaleString()]})]})]})]})},X.id))})]})]})}function ss(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function hy(n,e=[]){let t=[];function r(a,u){const d=$.createContext(u),f=t.length;t=[...t,u];const p=_=>{const{scope:E,children:P,...M}=_,j=E?.[n]?.[f]||d,b=$.useMemo(()=>M,Object.values(M));return T.jsx(j.Provider,{value:b,children:P})};p.displayName=a+"Provider";function g(_,E){const P=E?.[n]?.[f]||d,M=$.useContext(P);if(M)return M;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[p,g]}const o=()=>{const a=t.map(u=>$.createContext(u));return function(d){const f=d?.[n]||a;return $.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return o.scopeName=n,[r,vj(o,...e)]}function vj(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((d,{useScope:f,scopeName:p})=>{const _=f(a)[`__scope${p}`];return{...d,..._}},{});return $.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function _j(n){const e=n+"CollectionProvider",[t,r]=hy(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=j=>{const{scope:b,children:L}=j,K=ts.useRef(null),H=ts.useRef(new Map).current;return T.jsx(o,{scope:b,itemMap:H,collectionRef:K,children:L})};u.displayName=e;const d=n+"CollectionSlot",f=bh(d),p=ts.forwardRef((j,b)=>{const{scope:L,children:K}=j,H=a(d,L),Z=Rh(b,H.collectionRef);return T.jsx(f,{ref:Z,children:K})});p.displayName=d;const g=n+"CollectionItemSlot",_="data-radix-collection-item",E=bh(g),P=ts.forwardRef((j,b)=>{const{scope:L,children:K,...H}=j,Z=ts.useRef(null),re=Rh(b,Z),X=a(g,L);return ts.useEffect(()=>(X.itemMap.set(Z,{ref:Z,...H}),()=>void X.itemMap.delete(Z))),T.jsx(E,{[_]:"",ref:re,children:K})});P.displayName=g;function M(j){const b=a(n+"CollectionConsumer",j);return ts.useCallback(()=>{const K=b.collectionRef.current;if(!K)return[];const H=Array.from(K.querySelectorAll(`[${_}]`));return Array.from(b.itemMap.values()).sort((X,R)=>H.indexOf(X.ref.current)-H.indexOf(R.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:u,Slot:p,ItemSlot:P},M,r]}var Zh=globalThis?.document?$.useLayoutEffect:()=>{},wj=CT[" useId ".trim().toString()]||(()=>{}),Tj=0;function KS(n){const[e,t]=$.useState(wj());return Zh(()=>{t(r=>r??String(Tj++))},[n]),n||(e?`radix-${e}`:"")}function Ej(n){const e=$.useRef(n);return $.useEffect(()=>{e.current=n}),$.useMemo(()=>(...t)=>e.current?.(...t),[])}var xj=CT[" useInsertionEffect ".trim().toString()]||Zh;function QS({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,a,u]=Ij({defaultProp:e,onChange:t}),d=n!==void 0,f=d?n:o;{const g=$.useRef(n!==void 0);$.useEffect(()=>{const _=g.current;_!==d&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const p=$.useCallback(g=>{if(d){const _=Sj(g)?g(n):g;_!==n&&u.current?.(_)}else a(g)},[d,n,a,u]);return[f,p]}function Ij({defaultProp:n,onChange:e}){const[t,r]=$.useState(n),o=$.useRef(t),a=$.useRef(e);return xj(()=>{a.current=e},[e]),$.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,r,a]}function Sj(n){return typeof n=="function"}var Aj=$.createContext(void 0);function XS(n){const e=$.useContext(Aj);return n||e||"ltr"}var Rp="rovingFocusGroup.onEntryFocus",Pj={bubbles:!1,cancelable:!0},Du="RovingFocusGroup",[Vm,YS,Cj]=_j(Du),[kj,JS]=hy(Du,[Cj]),[Rj,bj]=kj(Du),ZS=$.forwardRef((n,e)=>T.jsx(Vm.Provider,{scope:n.__scopeRovingFocusGroup,children:T.jsx(Vm.Slot,{scope:n.__scopeRovingFocusGroup,children:T.jsx(Nj,{...n,ref:e})})}));ZS.displayName=Du;var Nj=$.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,..._}=n,E=$.useRef(null),P=Rh(e,E),M=XS(a),[j,b]=QS({prop:u,defaultProp:d??null,onChange:f,caller:Du}),[L,K]=$.useState(!1),H=Ej(p),Z=YS(t),re=$.useRef(!1),[X,R]=$.useState(0);return $.useEffect(()=>{const I=E.current;if(I)return I.addEventListener(Rp,H),()=>I.removeEventListener(Rp,H)},[H]),T.jsx(Rj,{scope:t,orientation:r,dir:M,loop:o,currentTabStopId:j,onItemFocus:$.useCallback(I=>b(I),[b]),onItemShiftTab:$.useCallback(()=>K(!0),[]),onFocusableItemAdd:$.useCallback(()=>R(I=>I+1),[]),onFocusableItemRemove:$.useCallback(()=>R(I=>I-1),[]),children:T.jsx(fo.div,{tabIndex:L||X===0?-1:0,"data-orientation":r,..._,ref:P,style:{outline:"none",...n.style},onMouseDown:ss(n.onMouseDown,()=>{re.current=!0}),onFocus:ss(n.onFocus,I=>{const A=!re.current;if(I.target===I.currentTarget&&A&&!L){const N=new CustomEvent(Rp,Pj);if(I.currentTarget.dispatchEvent(N),!N.defaultPrevented){const V=Z().filter(ze=>ze.focusable),F=V.find(ze=>ze.active),C=V.find(ze=>ze.id===j),Qe=[F,C,...V].filter(Boolean).map(ze=>ze.ref.current);n1(Qe,g)}}re.current=!1}),onBlur:ss(n.onBlur,()=>K(!1))})})}),e1="RovingFocusGroupItem",t1=$.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:a,children:u,...d}=n,f=KS(),p=a||f,g=bj(e1,t),_=g.currentTabStopId===p,E=YS(t),{onFocusableItemAdd:P,onFocusableItemRemove:M,currentTabStopId:j}=g;return $.useEffect(()=>{if(r)return P(),()=>M()},[r,P,M]),T.jsx(Vm.ItemSlot,{scope:t,id:p,focusable:r,active:o,children:T.jsx(fo.span,{tabIndex:_?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:ss(n.onMouseDown,b=>{r?g.onItemFocus(p):b.preventDefault()}),onFocus:ss(n.onFocus,()=>g.onItemFocus(p)),onKeyDown:ss(n.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){g.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const L=Mj(b,g.orientation,g.dir);if(L!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let H=E().filter(Z=>Z.focusable).map(Z=>Z.ref.current);if(L==="last")H.reverse();else if(L==="prev"||L==="next"){L==="prev"&&H.reverse();const Z=H.indexOf(b.currentTarget);H=g.loop?Oj(H,Z+1):H.slice(Z+1)}setTimeout(()=>n1(H))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:j!=null}):u})})});t1.displayName=e1;var Vj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dj(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Mj(n,e,t){const r=Dj(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Vj[r]}function n1(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function Oj(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var Lj=ZS,jj=t1;function Fj(n,e){return $.useReducer((t,r)=>e[t][r]??t,n)}var r1=n=>{const{present:e,children:t}=n,r=Uj(e),o=typeof t=="function"?t({present:r.isPresent}):$.Children.only(t),a=Rh(r.ref,Bj(o));return typeof t=="function"||r.isPresent?$.cloneElement(o,{ref:a}):null};r1.displayName="Presence";function Uj(n){const[e,t]=$.useState(),r=$.useRef(null),o=$.useRef(n),a=$.useRef("none"),u=n?"mounted":"unmounted",[d,f]=Fj(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $.useEffect(()=>{const p=ch(r.current);a.current=d==="mounted"?p:"none"},[d]),Zh(()=>{const p=r.current,g=o.current;if(g!==n){const E=a.current,P=ch(p);n?f("MOUNT"):P==="none"||p?.display==="none"?f("UNMOUNT"):f(g&&E!==P?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),Zh(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,_=P=>{const j=ch(r.current).includes(CSS.escape(P.animationName));if(P.target===e&&j&&(f("ANIMATION_END"),!o.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},E=P=>{P.target===e&&(a.current=ch(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:$.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function ch(n){return n?.animationName||"none"}function Bj(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Id="Tabs",[zj,iF]=hy(Id,[JS]),s1=JS(),[$j,dy]=zj(Id),i1=$.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:a,orientation:u="horizontal",dir:d,activationMode:f="automatic",...p}=n,g=XS(d),[_,E]=QS({prop:r,onChange:o,defaultProp:a??"",caller:Id});return T.jsx($j,{scope:t,baseId:KS(),value:_,onValueChange:E,orientation:u,dir:g,activationMode:f,children:T.jsx(fo.div,{dir:g,"data-orientation":u,...p,ref:e})})});i1.displayName=Id;var o1="TabsList",a1=$.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...o}=n,a=dy(o1,t),u=s1(t);return T.jsx(Lj,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:r,children:T.jsx(fo.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});a1.displayName=o1;var l1="TabsTrigger",u1=$.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...a}=n,u=dy(l1,t),d=s1(t),f=d1(u.baseId,r),p=f1(u.baseId,r),g=r===u.value;return T.jsx(jj,{asChild:!0,...d,focusable:!o,active:g,children:T.jsx(fo.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...a,ref:e,onMouseDown:ss(n.onMouseDown,_=>{!o&&_.button===0&&_.ctrlKey===!1?u.onValueChange(r):_.preventDefault()}),onKeyDown:ss(n.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&u.onValueChange(r)}),onFocus:ss(n.onFocus,()=>{const _=u.activationMode!=="manual";!g&&!o&&_&&u.onValueChange(r)})})})});u1.displayName=l1;var c1="TabsContent",h1=$.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:o,children:a,...u}=n,d=dy(c1,t),f=d1(d.baseId,r),p=f1(d.baseId,r),g=r===d.value,_=$.useRef(g);return $.useEffect(()=>{const E=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(E)},[]),T.jsx(r1,{present:o||g,children:({present:E})=>T.jsx(fo.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!E,id:p,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:_.current?"0s":void 0},children:E&&a})})});h1.displayName=c1;function d1(n,e){return`${n}-trigger-${e}`}function f1(n,e){return`${n}-content-${e}`}var Wj=i1,Hj=a1,qj=u1,Gj=h1;function Kj({className:n,...e}){return T.jsx(Wj,{"data-slot":"tabs",className:An("flex flex-col gap-2",n),...e})}function Qj({className:n,...e}){return T.jsx(Hj,{"data-slot":"tabs-list",className:An("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function bp({className:n,...e}){return T.jsx(qj,{"data-slot":"tabs-trigger",className:An("data-[state=active]-card dark-[state=active]-foreground focus-visible-ring focus-visible-ring/50 focus-visible-ring dark-[state=active]-input dark-[state=active]-input/30 text-foreground dark-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Np({className:n,...e}){return T.jsx(Gj,{"data-slot":"tabs-content",className:An("flex-1 outline-none",n),...e})}const Xj=[{id:"1",user:"Sarah M.",rating:5,date:"2 weeks ago",comment:"Amazing product! My skin has never looked better. Highly recommend!",verified:!0},{id:"2",user:"Mercy K.",rating:4,date:"1 month ago",comment:"Great quality and fast delivery. Will definitely purchase again.",verified:!0},{id:"3",user:"Jane W.",rating:5,date:"1 month ago",comment:"Perfect! Exactly what I was looking for. The packaging is beautiful too.",verified:!1}];function Yj({onNavigate:n,user:e,product:t,onAddToCart:r,cartItemCount:o}){const[a,u]=$.useState(1),[d,f]=$.useState("description"),[p,g]=$.useState(!1),_=()=>{r(t,a),u(1)},E=t.originalPrice?Math.round((t.originalPrice-t.price)/t.originalPrice*100):null;return T.jsxs("div",{className:"min-h-screen bg-background",children:[T.jsx(St.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b border-border",children:T.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>n("products"),children:[T.jsx(Na,{className:"w-4 h-4 mr-2"}),"Back"]}),T.jsx("h1",{className:"text-xl font-bold text-primary",children:"Bare and Beautiful"})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(Le,{variant:"ghost",size:"sm",children:T.jsx(Vb,{className:"w-4 h-4"})}),e?T.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>n("profile"),className:"hidden md:flex",children:[T.jsx(Ta,{className:"w-4 h-4 mr-2"}),e.name]}):T.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>n("login"),children:"Sign In"}),T.jsxs(Le,{variant:"ghost",size:"sm",className:"relative",onClick:()=>n("cart"),children:[T.jsx(ou,{className:"w-4 h-4"}),o>0&&T.jsx(Qs,{className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center p-0 bg-primary text-primary-foreground text-xs",children:o})]})]})]})}),T.jsxs("div",{className:"container mx-auto px-4 py-6",children:[T.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:[T.jsx(St.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},className:"relative",children:T.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-muted/30",children:[T.jsx(Sx,{src:t.image,alt:t.name,className:"w-full h-80 md:h-96 lg:h-[500px] object-cover"}),T.jsx(Le,{variant:"ghost",size:"sm",className:`absolute top-4 right-4 bg-white/80 hover:bg-white ${p?"text-red-500":""}`,onClick:()=>g(!p),children:T.jsx(fg,{className:`w-5 h-5 ${p?"fill-current":""}`})}),E&&T.jsxs(Qs,{className:"absolute top-4 left-4 bg-red-500 text-white",children:[E,"% OFF"]})]})}),T.jsxs(St.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.2},className:"space-y-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-muted-foreground",children:t.brand}),T.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:t.name}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((P,M)=>T.jsx(ql,{className:`w-4 h-4 ${M<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},M))}),T.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.rating," (",t.reviewCount," reviews)"]})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("span",{className:"text-2xl md:text-3xl font-bold",children:["KSh ",t.price.toLocaleString()]}),t.originalPrice&&T.jsxs("span",{className:"text-lg text-muted-foreground line-through",children:["KSh ",t.originalPrice.toLocaleString()]})]}),t.originalPrice&&T.jsxs("p",{className:"text-sm text-green-600",children:["You save KSh ",(t.originalPrice-t.price).toLocaleString()]})]}),T.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description}),t.benefits&&T.jsxs("div",{children:[T.jsx("h3",{className:"font-medium mb-3",children:"Key Benefits"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:t.benefits.map((P,M)=>T.jsx(Qs,{variant:"secondary",children:P},M))})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("span",{className:"font-medium",children:"Quantity:"}),T.jsxs("div",{className:"flex items-center border rounded-lg",children:[T.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>u(Math.max(1,a-1)),className:"px-3",children:T.jsx(Ab,{className:"w-4 h-4"})}),T.jsx("span",{className:"px-4 py-2 border-x",children:a}),T.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>u(a+1),className:"px-3",children:T.jsx(Cb,{className:"w-4 h-4"})})]})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[T.jsxs(Le,{size:"lg",className:"flex-1 bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700",onClick:_,children:[T.jsx(ou,{className:"w-4 h-4 mr-2"}),"Add to Cart"]}),T.jsx(Le,{variant:"outline",size:"lg",className:"sm:w-auto",children:"Buy Now"})]})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-6 border-t",children:[T.jsxs("div",{className:"text-center",children:[T.jsx(Fb,{className:"w-6 h-6 mx-auto mb-2 text-muted-foreground"}),T.jsx("p",{className:"text-xs text-muted-foreground",children:"Free Delivery"}),T.jsx("p",{className:"text-xs font-medium",children:"Orders over KSh 2,000"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx(Rb,{className:"w-6 h-6 mx-auto mb-2 text-muted-foreground"}),T.jsx("p",{className:"text-xs text-muted-foreground",children:"Easy Returns"}),T.jsx("p",{className:"text-xs font-medium",children:"30-day policy"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx(Mb,{className:"w-6 h-6 mx-auto mb-2 text-muted-foreground"}),T.jsx("p",{className:"text-xs text-muted-foreground",children:"Authentic"}),T.jsx("p",{className:"text-xs font-medium",children:"100% Genuine"})]})]})]})]}),T.jsx(St.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.4},className:"mt-12",children:T.jsxs(Kj,{value:d,onValueChange:f,children:[T.jsxs(Qj,{className:"grid w-full grid-cols-3",children:[T.jsx(bp,{value:"description",children:"Description"}),T.jsx(bp,{value:"ingredients",children:"Ingredients"}),T.jsxs(bp,{value:"reviews",children:["Reviews (",t.reviewCount,")"]})]}),T.jsx(Np,{value:"description",className:"mt-6",children:T.jsx(Xs,{children:T.jsxs(Ys,{className:"p-6",children:[T.jsx("h3",{className:"font-medium mb-4",children:"Product Description"}),T.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]})})}),T.jsx(Np,{value:"ingredients",className:"mt-6",children:T.jsx(Xs,{children:T.jsxs(Ys,{className:"p-6",children:[T.jsx("h3",{className:"font-medium mb-4",children:"Key Ingredients"}),t.ingredients?T.jsx("div",{className:"space-y-3",children:t.ingredients.map((P,M)=>T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),T.jsx("p",{className:"font-medium",children:P})]},M))}):T.jsx("p",{className:"text-muted-foreground",children:"Full ingredient list available on packaging."})]})})}),T.jsx(Np,{value:"reviews",className:"mt-6",children:T.jsxs("div",{className:"space-y-6",children:[T.jsx(Xs,{children:T.jsxs(Ys,{className:"p-6",children:[T.jsx("div",{className:"flex items-center gap-6 mb-4",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-3xl font-bold",children:t.rating}),T.jsx("div",{className:"flex items-center gap-1 mb-1",children:[...Array(5)].map((P,M)=>T.jsx(ql,{className:`w-4 h-4 ${M<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},M))}),T.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.reviewCount," reviews"]})]})}),T.jsx(Le,{className:"w-full",children:"Write a Review"})]})}),T.jsx("div",{className:"space-y-4",children:Xj.map(P=>T.jsx(Xs,{children:T.jsxs(Ys,{className:"p-6",children:[T.jsxs("div",{className:"flex items-start justify-between mb-3",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx("span",{className:"font-medium",children:P.user}),P.verified&&T.jsx(Qs,{variant:"secondary",className:"text-xs",children:"Verified"})]}),T.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((M,j)=>T.jsx(ql,{className:`w-3 h-3 ${j<P.rating?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},j))})]}),T.jsx("span",{className:"text-sm text-muted-foreground",children:P.date})]}),T.jsx("p",{className:"text-muted-foreground",children:P.comment})]})},P.id))}),T.jsx("div",{className:"text-center",children:T.jsx(Le,{variant:"outline",children:"Load More Reviews"})})]})})]})})]})]})}function Jj({onNavigate:n,user:e,cart:t,onUpdateQuantity:r,onRemoveItem:o}){if(t.reduce((a,u)=>a+u.product.price*u.quantity,0),t.reduce((a,u)=>{const d=u.product.originalPrice||u.product.price;return a+(d-u.product.price)*u.quantity},0),t.length===0)return T.jsxs("div",{className:"min-h-screen bg-background",children:[T.jsx(St.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b border-border",children:T.jsx("div",{className:"container mx-auto px-4 py-3",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>n("home"),children:[T.jsx(Na,{className:"w-4 h-4 mr-2"}),"Back"]}),T.jsx("h1",{className:"text-xl font-bold text-primary",children:"Shopping Cart"})]}),T.jsx("div",{className:"flex items-center gap-3",children:e?T.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>n("profile"),className:"hidden md:flex",children:[T.jsx(Ta,{className:"w-4 h-4 mr-2"}),e.name]}):T.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>n("login"),children:"Sign In"})})]})})}),T.jsx("div",{className:"container mx-auto px-4 py-12",children:T.jsxs(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-md mx-auto",children:[T.jsx(ou,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),T.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your cart is empty"}),T.jsx("p",{className:"text-muted-foreground mb-6",children:"Looks like you haven't added any items to your cart yet. Start shopping to fill it up!"}),T.jsx(Le,{size:"lg",onClick:()=>n("products"),className:"bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700",children:"Start Shopping"})]})})]})}function Zj({onNavigate:n,user:e,onLogout:t}){const[r,o]=$.useState("overview"),[a,u]=$.useState({orderUpdates:!0,promotions:!1,beautyTips:!0,newsletter:!1});return e?T.jsx("div",{className:"min-h-screen bg-background",children:T.jsx(St.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b border-border",children:T.jsx("div",{className:"container mx-auto px-4 py-3",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>n("home"),children:[T.jsx(Na,{className:"w-4 h-4 mr-2"}),"Back"]}),T.jsx("h1",{className:"text-xl font-bold text-primary",children:"My Profile"})]}),T.jsxs(Le,{variant:"ghost",size:"sm",onClick:t,className:"text-red-600 hover:text-red-700",children:[T.jsx(Ib,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})})}):T.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx(Ta,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),T.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),T.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in to view your profile"}),T.jsx(Le,{onClick:()=>n("login"),children:"Sign In"})]})})}function eF({onLoginSuccess:n}){const[e,t]=$.useState(""),[r,o]=$.useState(""),[a,u]=$.useState(""),d=async f=>{if(f.preventDefault(),u(""),!e||!r)return u("Please fill in both fields");try{const p=oy(Ru(eo,"Admins"),Nm("email","==",e),Nm("password","==",r));(await Vu(p)).empty?u("Invalid admin credentials"):n()}catch(p){console.error(p),u("Login failed. Try again.")}};return T.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(to bottom, #ffeef0, #fff5f0)"},children:T.jsxs("form",{onSubmit:d,style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",width:"360px",textAlign:"center"},children:[T.jsx("h2",{style:{fontSize:"1.75rem",fontWeight:"700",marginBottom:"1rem",color:"#f472b6"},children:"Admin Login"}),a&&T.jsx("p",{style:{color:"#ef4444",marginBottom:"0.5rem"},children:a}),T.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:f=>t(f.target.value),style:{width:"100%",padding:"0.75rem",marginBottom:"1rem",borderRadius:"0.5rem",border:"1px solid #e5e7eb"}}),T.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:f=>o(f.target.value),style:{width:"100%",padding:"0.75rem",marginBottom:"1rem",borderRadius:"0.5rem",border:"1px solid #e5e7eb"}}),T.jsx("button",{type:"submit",style:{width:"100%",padding:"0.75rem",backgroundColor:"#f472b6",color:"white",fontWeight:"600",borderRadius:"0.5rem",cursor:"pointer"},children:"Login"})]})})}function tF(){const[n,e]=$.useState([]),[t,r]=$.useState({name:"",brand:"",price:"",originalPrice:"",category:"",description:"",ingredients:"",benefits:"",featured:!1,imagePath:""}),[o,a]=$.useState(null),[u,d]=$.useState(!1),f=Ru(eo,"products"),p=async()=>{try{d(!0);const L=await Vu(f);e(L.docs.map(K=>({id:K.id,...K.data()})))}catch(L){console.error("fetchProducts:",L)}finally{d(!1)}};$.useEffect(()=>{p()},[]);const g=L=>{const{name:K,value:H,type:Z,checked:re}=L.target;r(Z==="checkbox"?X=>({...X,[K]:re}):X=>({...X,[K]:H}))},_=async L=>{L.preventDefault();try{if(!t.name||!t.price){alert("Please provide at least a name and price.");return}const K={name:t.name,brand:t.brand||"",price:Number(t.price)||0,originalPrice:Number(t.originalPrice)||null,category:t.category||"",description:t.description||"",ingredients:t.ingredients?t.ingredients.split(",").map(H=>H.trim()):[],benefits:t.benefits?t.benefits.split(",").map(H=>H.trim()):[],featured:!!t.featured,image:t.imagePath||"",rating:0,reviewCount:0};await oj(f,K),r({name:"",brand:"",price:"",originalPrice:"",category:"",description:"",ingredients:"",benefits:"",featured:!1,imagePath:""}),p()}catch(K){console.error("handleAddProduct:",K),alert("Error adding product  check console.")}},E=async L=>{if(window.confirm("Delete this product?"))try{await ij(Rm(eo,"products",L)),p()}catch(K){console.error("handleDelete:",K)}},P=L=>{a(L.id),r({name:L.name||"",brand:L.brand||"",price:L.price||"",originalPrice:L.originalPrice||"",category:L.category||"",description:L.description||"",ingredients:(Array.isArray(L.ingredients)?L.ingredients.join(", "):L.ingredients)||"",benefits:(Array.isArray(L.benefits)?L.benefits.join(", "):L.benefits)||"",featured:!!L.featured,imagePath:L.image||""}),window.scrollTo({top:0,behavior:"smooth"})},M=async L=>{if(L.preventDefault(),!!o)try{const K=Rm(eo,"products",o);await sj(K,{name:t.name,brand:t.brand,price:Number(t.price)||0,originalPrice:Number(t.originalPrice)||null,category:t.category,description:t.description,ingredients:t.ingredients?t.ingredients.split(",").map(H=>H.trim()):[],benefits:t.benefits?t.benefits.split(",").map(H=>H.trim()):[],featured:!!t.featured,image:t.imagePath||""}),a(null),r({name:"",brand:"",price:"",originalPrice:"",category:"",description:"",ingredients:"",benefits:"",featured:!1,imagePath:""}),p()}catch(K){console.error("handleUpdate:",K),alert("Error updating product  check console.")}},j=()=>{a(null),r({name:"",brand:"",price:"",originalPrice:"",category:"",description:"",ingredients:"",benefits:"",featured:!1,imagePath:""})},b=async()=>{await ZV(lj),window.location.reload()};return T.jsxs("div",{className:"min-h-screen p-8 bg-background text-foreground",children:[T.jsxs("div",{className:"flex justify-between mb-6 items-center",children:[T.jsx("h1",{className:"text-3xl font-bold",children:"Admin Panel"}),T.jsxs("div",{className:"flex items-center gap-3",children:[o?T.jsx("button",{onClick:j,className:"px-3 py-2 rounded border",children:"Cancel Edit"}):null,T.jsx("button",{onClick:b,className:"bg-red-600 text-white px-4 py-2 rounded",children:"Logout"})]})]}),T.jsxs("form",{onSubmit:o?M:_,className:"bg-card p-6 rounded shadow mb-8 space-y-3",children:[T.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[T.jsx("input",{name:"name",placeholder:"Product Name",value:t.name,onChange:g,className:"p-2 border rounded bg-input"}),T.jsx("input",{name:"brand",placeholder:"Brand",value:t.brand,onChange:g,className:"p-2 border rounded bg-input"}),T.jsx("input",{name:"price",type:"number",placeholder:"Price",value:t.price,onChange:g,className:"p-2 border rounded bg-input"}),T.jsx("input",{name:"originalPrice",type:"number",placeholder:"Original Price",value:t.originalPrice,onChange:g,className:"p-2 border rounded bg-input"}),T.jsx("input",{name:"category",placeholder:"Category",value:t.category,onChange:g,className:"p-2 border rounded bg-input"}),T.jsx("input",{name:"featured",type:"checkbox",checked:t.featured,onChange:g,className:"self-center"})]}),T.jsx("input",{name:"description",placeholder:"Description",value:t.description,onChange:g,className:"p-2 border rounded w-full bg-input"}),T.jsx("input",{name:"ingredients",placeholder:"Ingredients (comma separated)",value:t.ingredients,onChange:g,className:"p-2 border rounded w-full bg-input"}),T.jsx("input",{name:"benefits",placeholder:"Benefits (comma separated)",value:t.benefits,onChange:g,className:"p-2 border rounded w-full bg-input"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"block text-sm",children:"Image path (use `/products/your-file.jpg` for files in public/products):"}),T.jsx("input",{name:"imagePath",placeholder:"/products/your-file.jpg",value:t.imagePath,onChange:g,className:"p-2 border rounded w-full bg-input"}),t.imagePath&&T.jsxs("div",{className:"mt-2",children:[T.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Preview:"}),T.jsx("img",{src:t.imagePath,alt:"preview",onError:L=>{L.currentTarget.src="/fallback.jpg"},className:"w-48 h-48 object-cover rounded border"})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"bg-primary text-primary-foreground px-4 py-2 rounded",children:o?"Update Product":"Add Product"}),o&&T.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 rounded border",children:"Cancel"})]})]}),T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"All Products"}),u?T.jsx("p",{children:"Loading"}):T.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:n.map(L=>T.jsxs("div",{className:"bg-card p-4 rounded shadow",children:[T.jsx("div",{className:"h-40 mb-3 overflow-hidden rounded",children:T.jsx("img",{src:L.image||"/fallback.jpg",alt:L.name,className:"w-full h-full object-cover",onError:K=>{K.currentTarget.src="/fallback.jpg"}})}),T.jsx("h4",{className:"font-bold",children:L.name}),T.jsx("p",{className:"text-sm text-muted-foreground",children:L.brand}),T.jsxs("p",{className:"mt-1 font-semibold",children:["KSh ",L.price]}),T.jsxs("div",{className:"flex gap-2 mt-3",children:[T.jsx("button",{onClick:()=>P(L),className:"px-2 py-1 border rounded",children:"Edit"}),T.jsx("button",{onClick:()=>E(L.id),className:"px-2 py-1 bg-red-600 text-white rounded",children:"Delete"})]})]},L.id))})]})}function nF(){const[n,e]=$.useState("home"),[t,r]=$.useState(null),[o,a]=$.useState(null),[u,d]=$.useState([]),[f,p]=$.useState("all"),[g,_]=$.useState([]),[E,P]=$.useState([]),[M,j]=$.useState(!1),b=A=>{e(A)},L=A=>{r({email:A,name:A.split("@")[0]}),e("home")},K=A=>{r({email:A,name:A.split("@")[0]}),e("home")},H=()=>{r(null),e("home")},Z=A=>{a(A),e("product-detail")},re=(A,N=1)=>{d(V=>V.find(C=>C.product.id===A.id)?V.map(C=>C.product.id===A.id?{...C,quantity:C.quantity+N}:C):[...V,{product:A,quantity:N}])},X=A=>{d(N=>N.filter(V=>V.product.id!==A))},R=(A,N)=>{if(N<=0){X(A);return}d(V=>V.map(F=>F.product.id===A?{...F,quantity:N}:F))},I=u.reduce((A,N)=>A+N.quantity,0);return $.useEffect(()=>{(async()=>{try{const N=oy(Ru(eo,"products"),Z4("name")),F=(await Vu(N)).docs.map(Ve=>({id:Ve.id,...Ve.data()}));_(F);const C=F.filter(Ve=>Ve.featured);P(C)}catch(N){console.error("Error fetching products:",N)}})()},[]),T.jsx("div",{className:"min-h-screen bg-background",children:M?T.jsx(tF,{}):n==="admin-login"?T.jsx(eF,{onLoginSuccess:()=>j(!0)}):n==="home"?T.jsx(cj,{onNavigate:b,user:t,onViewProduct:Z,onSelectCategory:p,cartItemCount:I,featuredProducts:E}):n==="login"?T.jsx(pj,{onNavigate:b,onLogin:L}):n==="signup"?T.jsx(mj,{onNavigate:b,onSignup:K}):n==="products"?T.jsx(yj,{onNavigate:b,user:t,onViewProduct:Z,selectedCategory:f,onSelectCategory:p,cartItemCount:I,allProducts:g}):n==="product-detail"&&o?T.jsx(Yj,{onNavigate:b,user:t,product:o,onAddToCart:re,cartItemCount:I}):n==="cart"?T.jsx(Jj,{onNavigate:b,user:t,cart:u,onUpdateQuantity:R,onRemoveItem:X}):n==="profile"?T.jsx(Zj,{onNavigate:b,user:t,onLogout:H}):null})}kA.createRoot(document.getElementById("root")).render(T.jsx(ts.StrictMode,{children:T.jsx(nF,{})}));
